function Z1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function J1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eI={exports:{}},ng={},tI={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=Symbol.for("react.element"),BL=Symbol.for("react.portal"),zL=Symbol.for("react.fragment"),WL=Symbol.for("react.strict_mode"),HL=Symbol.for("react.profiler"),qL=Symbol.for("react.provider"),KL=Symbol.for("react.context"),GL=Symbol.for("react.forward_ref"),YL=Symbol.for("react.suspense"),QL=Symbol.for("react.memo"),XL=Symbol.for("react.lazy"),qb=Symbol.iterator;function ZL(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var nI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rI=Object.assign,sI={};function nu(t,e,n){this.props=t,this.context=e,this.refs=sI,this.updater=n||nI}nu.prototype.isReactComponent={};nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oI(){}oI.prototype=nu.prototype;function Y_(t,e,n){this.props=t,this.context=e,this.refs=sI,this.updater=n||nI}var Q_=Y_.prototype=new oI;Q_.constructor=Y_;rI(Q_,nu.prototype);Q_.isPureReactComponent=!0;var Kb=Array.isArray,iI=Object.prototype.hasOwnProperty,X_={current:null},aI={key:!0,ref:!0,__self:!0,__source:!0};function lI(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)iI.call(e,r)&&!aI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ef,type:t,key:o,ref:i,props:s,_owner:X_.current}}function JL(t,e){return{$$typeof:Ef,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ef}function eF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gb=/\/+/g;function Ov(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eF(""+t.key):e.toString(36)}function rp(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Ef:case BL:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Ov(i,0):r,Kb(s)?(n="",t!=null&&(n=t.replace(Gb,"$&/")+"/"),rp(s,e,n,"",function(c){return c})):s!=null&&(Z_(s)&&(s=JL(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Gb,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",Kb(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ov(o,a);i+=rp(o,e,n,l,s)}else if(l=ZL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ov(o,a++),i+=rp(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Eh(t,e,n){if(t==null)return t;var r=[],s=0;return rp(t,r,"","",function(o){return e.call(n,o,s++)}),r}function tF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},sp={transition:null},nF={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:sp,ReactCurrentOwner:X_};function cI(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Eh,forEach:function(t,e,n){Eh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eh(t,function(){e++}),e},toArray:function(t){return Eh(t,function(e){return e})||[]},only:function(t){if(!Z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=nu;Je.Fragment=zL;Je.Profiler=HL;Je.PureComponent=Y_;Je.StrictMode=WL;Je.Suspense=YL;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nF;Je.act=cI;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rI({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=X_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iI.call(e,l)&&!aI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ef,type:t.type,key:s,ref:o,props:r,_owner:i}};Je.createContext=function(t){return t={$$typeof:KL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qL,_context:t},t.Consumer=t};Je.createElement=lI;Je.createFactory=function(t){var e=lI.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:GL,render:t}};Je.isValidElement=Z_;Je.lazy=function(t){return{$$typeof:XL,_payload:{_status:-1,_result:t},_init:tF}};Je.memo=function(t,e){return{$$typeof:QL,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=sp.transition;sp.transition={};try{t()}finally{sp.transition=e}};Je.unstable_act=cI;Je.useCallback=function(t,e){return Zn.current.useCallback(t,e)};Je.useContext=function(t){return Zn.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Zn.current.useEffect(t,e)};Je.useId=function(){return Zn.current.useId()};Je.useImperativeHandle=function(t,e,n){return Zn.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Zn.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return Zn.current.useReducer(t,e,n)};Je.useRef=function(t){return Zn.current.useRef(t)};Je.useState=function(t){return Zn.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return Zn.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return Zn.current.useTransition()};Je.version="18.3.1";tI.exports=Je;var p=tI.exports;const $e=J1(p),uI=Z1({__proto__:null,default:$e},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF=p,sF=Symbol.for("react.element"),oF=Symbol.for("react.fragment"),iF=Object.prototype.hasOwnProperty,aF=rF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lF={key:!0,ref:!0,__self:!0,__source:!0};function dI(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)iF.call(e,r)&&!lF.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sF,type:t,key:o,ref:i,props:s,_owner:aF.current}}ng.Fragment=oF;ng.jsx=dI;ng.jsxs=dI;eI.exports=ng;var u=eI.exports,fI={exports:{}},Ar={},hI={exports:{}},pI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,$){var G=M.length;M.push($);e:for(;0<G;){var re=G-1>>>1,me=M[re];if(0<s(me,$))M[re]=$,M[G]=me,G=re;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],G=M.pop();if(G!==$){M[0]=G;e:for(var re=0,me=M.length,Ee=me>>>1;re<Ee;){var Be=2*(re+1)-1,ht=M[Be],He=Be+1,ue=M[He];if(0>s(ht,G))He<me&&0>s(ue,ht)?(M[re]=ue,M[He]=G,re=He):(M[re]=ht,M[Be]=G,re=Be);else if(He<me&&0>s(ue,G))M[re]=ue,M[He]=G,re=He;else break e}}return $}function s(M,$){var G=M.sortIndex-$.sortIndex;return G!==0?G:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],f=1,h=null,m=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=M)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function C(M){if(y=!1,S(M),!x)if(n(l)!==null)x=!0,X(O);else{var $=n(c);$!==null&&j(C,$.startTime-M)}}function O(M,$){x=!1,y&&(y=!1,E(_),_=-1),g=!0;var G=m;try{for(S($),h=n(l);h!==null&&(!(h.expirationTime>$)||M&&!D());){var re=h.callback;if(typeof re=="function"){h.callback=null,m=h.priorityLevel;var me=re(h.expirationTime<=$);$=t.unstable_now(),typeof me=="function"?h.callback=me:h===n(l)&&r(l),S($)}else r(l);h=n(l)}if(h!==null)var Ee=!0;else{var Be=n(c);Be!==null&&j(C,Be.startTime-$),Ee=!1}return Ee}finally{h=null,m=G,g=!1}}var V=!1,R=null,_=-1,I=5,P=-1;function D(){return!(t.unstable_now()-P<I)}function N(){if(R!==null){var M=t.unstable_now();P=M;var $=!0;try{$=R(!0,M)}finally{$?k():(V=!1,R=null)}}else V=!1}var k;if(typeof w=="function")k=function(){w(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=N,k=function(){Y.postMessage(null)}}else k=function(){b(N,0)};function X(M){R=M,V||(V=!0,k())}function j(M,$){_=b(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,X(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var G=m;m=$;try{return M()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=m;m=M;try{return $()}finally{m=G}},t.unstable_scheduleCallback=function(M,$,G){var re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,M){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=G+me,M={id:f++,callback:$,priorityLevel:M,startTime:G,expirationTime:me,sortIndex:-1},G>re?(M.sortIndex=G,e(c,M),n(l)===null&&M===n(c)&&(y?(E(_),_=-1):y=!0,j(C,G-re))):(M.sortIndex=me,e(l,M),x||g||(x=!0,X(O))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var $=m;return function(){var G=m;m=$;try{return M.apply(this,arguments)}finally{m=G}}}})(pI);hI.exports=pI;var cF=hI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF=p,Pr=cF;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mI=new Set,Id={};function hl(t,e){Sc(t,e),Sc(t+"Capture",e)}function Sc(t,e){for(Id[t]=e,t=0;t<e.length;t++)mI.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qy=Object.prototype.hasOwnProperty,dF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yb={},Qb={};function fF(t){return Qy.call(Qb,t)?!0:Qy.call(Yb,t)?!1:dF.test(t)?Qb[t]=!0:(Yb[t]=!0,!1)}function hF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pF(t,e,n,r){if(e===null||typeof e>"u"||hF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var J_=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J_,e0);bn[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J_,e0);bn[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J_,e0);bn[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var s=bn.hasOwnProperty(e)?bn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pF(e,n,s,r)&&(n=null),r||s===null?fF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jo=uF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bh=Symbol.for("react.element"),Kl=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),gI=Symbol.for("react.provider"),vI=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),yI=Symbol.for("react.offscreen"),Xb=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=Xb&&t[Xb]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,Mv;function Ku(t){if(Mv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mv=e&&e[1]||""}return`
`+Mv+t}var jv=!1;function Lv(t,e){if(!t||jv)return"";jv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{jv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function mF(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=Lv(t.type,!1),t;case 11:return t=Lv(t.type.render,!1),t;case 1:return t=Lv(t.type,!0),t;default:return""}}function ew(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gl:return"Fragment";case Kl:return"Portal";case Xy:return"Profiler";case n0:return"StrictMode";case Zy:return"Suspense";case Jy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vI:return(t.displayName||"Context")+".Consumer";case gI:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s0:return e=t.displayName||null,e!==null?e:ew(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return ew(t(e))}catch{}}return null}function gF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ew(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vF(t){var e=wI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=vF(t))}function _I(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tw(t,e){var n=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xI(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function nw(t,e){xI(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rw(t,e.type,n):e.hasOwnProperty("defaultValue")&&rw(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rw(t,e,n){(e!=="number"||jp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gu=Array.isArray;function cc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Gu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function EI(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ow(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sh,TI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yF=["Webkit","ms","Moz","O"];Object.keys(ld).forEach(function(t){yF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ld[e]=ld[t]})});function SI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ld.hasOwnProperty(t)&&ld[t]?(""+e).trim():e+"px"}function CI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=SI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var wF=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iw(t,e){if(e){if(wF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function aw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lw=null;function o0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cw=null,uc=null,dc=null;function nT(t){if(t=Sf(t)){if(typeof cw!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=ag(e),cw(t.stateNode,t.type,e))}}function II(t){uc?dc?dc.push(t):dc=[t]:uc=t}function RI(){if(uc){var t=uc,e=dc;if(dc=uc=null,nT(t),e)for(t=0;t<e.length;t++)nT(e[t])}}function PI(t,e){return t(e)}function kI(){}var Fv=!1;function AI(t,e,n){if(Fv)return t(e,n);Fv=!0;try{return PI(t,e,n)}finally{Fv=!1,(uc!==null||dc!==null)&&(kI(),RI())}}function Pd(t,e){var n=t.stateNode;if(n===null)return null;var r=ag(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var uw=!1;if(So)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){uw=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{uw=!1}function _F(t,e,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var cd=!1,Lp=null,Fp=!1,dw=null,xF={onError:function(t){cd=!0,Lp=t}};function EF(t,e,n,r,s,o,i,a,l){cd=!1,Lp=null,_F.apply(xF,arguments)}function bF(t,e,n,r,s,o,i,a,l){if(EF.apply(this,arguments),cd){if(cd){var c=Lp;cd=!1,Lp=null}else throw Error(ee(198));Fp||(Fp=!0,dw=c)}}function pl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rT(t){if(pl(t)!==t)throw Error(ee(188))}function TF(t){var e=t.alternate;if(!e){if(e=pl(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return rT(s),t;if(o===r)return rT(s),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function DI(t){return t=TF(t),t!==null?OI(t):null}function OI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OI(t);if(e!==null)return e;t=t.sibling}return null}var MI=Pr.unstable_scheduleCallback,sT=Pr.unstable_cancelCallback,SF=Pr.unstable_shouldYield,CF=Pr.unstable_requestPaint,Qt=Pr.unstable_now,IF=Pr.unstable_getCurrentPriorityLevel,i0=Pr.unstable_ImmediatePriority,jI=Pr.unstable_UserBlockingPriority,Vp=Pr.unstable_NormalPriority,RF=Pr.unstable_LowPriority,LI=Pr.unstable_IdlePriority,rg=null,zs=null;function PF(t){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(rg,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:NF,kF=Math.log,AF=Math.LN2;function NF(t){return t>>>=0,t===0?32:31-(kF(t)/AF|0)|0}var Ch=64,Ih=4194304;function Yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Up(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Yu(a):(o&=i,o!==0&&(r=Yu(o)))}else i=n&~s,i!==0?r=Yu(i):o!==0&&(r=Yu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gs(e),s=1<<n,r|=t[n],e&=~s;return r}function DF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-gs(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=DF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function fw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FI(){var t=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),t}function Vv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=n}function MF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function a0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var yt=0;function VI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UI,l0,$I,BI,zI,hw=!1,Rh=[],yi=null,wi=null,_i=null,kd=new Map,Ad=new Map,oi=[],jF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oT(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":kd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(e.pointerId)}}function Au(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Sf(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function LF(t,e,n,r,s){switch(e){case"focusin":return yi=Au(yi,t,e,n,r,s),!0;case"dragenter":return wi=Au(wi,t,e,n,r,s),!0;case"mouseover":return _i=Au(_i,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return kd.set(o,Au(kd.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ad.set(o,Au(Ad.get(o)||null,t,e,n,r,s)),!0}return!1}function WI(t){var e=xa(t.target);if(e!==null){var n=pl(e);if(n!==null){if(e=n.tag,e===13){if(e=NI(n),e!==null){t.blockedOn=e,zI(t.priority,function(){$I(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function op(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lw=r,n.target.dispatchEvent(r),lw=null}else return e=Sf(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function iT(t,e,n){op(t)&&n.delete(e)}function FF(){hw=!1,yi!==null&&op(yi)&&(yi=null),wi!==null&&op(wi)&&(wi=null),_i!==null&&op(_i)&&(_i=null),kd.forEach(iT),Ad.forEach(iT)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,hw||(hw=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,FF)))}function Nd(t){function e(s){return Nu(s,t)}if(0<Rh.length){Nu(Rh[0],t);for(var n=1;n<Rh.length;n++){var r=Rh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Nu(yi,t),wi!==null&&Nu(wi,t),_i!==null&&Nu(_i,t),kd.forEach(e),Ad.forEach(e),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)WI(n),n.blockedOn===null&&oi.shift()}var fc=jo.ReactCurrentBatchConfig,$p=!0;function VF(t,e,n,r){var s=yt,o=fc.transition;fc.transition=null;try{yt=1,c0(t,e,n,r)}finally{yt=s,fc.transition=o}}function UF(t,e,n,r){var s=yt,o=fc.transition;fc.transition=null;try{yt=4,c0(t,e,n,r)}finally{yt=s,fc.transition=o}}function c0(t,e,n,r){if($p){var s=pw(t,e,n,r);if(s===null)Yv(t,e,r,Bp,n),oT(t,r);else if(LF(s,t,e,n,r))r.stopPropagation();else if(oT(t,r),e&4&&-1<jF.indexOf(t)){for(;s!==null;){var o=Sf(s);if(o!==null&&UI(o),o=pw(t,e,n,r),o===null&&Yv(t,e,r,Bp,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Yv(t,e,r,null,n)}}var Bp=null;function pw(t,e,n,r){if(Bp=null,t=o0(r),t=xa(t),t!==null)if(e=pl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bp=t,null}function HI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IF()){case i0:return 1;case jI:return 4;case Vp:case RF:return 16;case LI:return 536870912;default:return 16}default:return 16}}var hi=null,u0=null,ip=null;function qI(){if(ip)return ip;var t,e=u0,n=e.length,r,s="value"in hi?hi.value:hi.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return ip=s.slice(t,1<r?1-r:void 0)}function ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ph(){return!0}function aT(){return!1}function Nr(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ph:aT,this.isPropagationStopped=aT,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Nr(ru),Tf=Bt({},ru,{view:0,detail:0}),$F=Nr(Tf),Uv,$v,Du,sg=Bt({},Tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Du&&(Du&&t.type==="mousemove"?(Uv=t.screenX-Du.screenX,$v=t.screenY-Du.screenY):$v=Uv=0,Du=t),Uv)},movementY:function(t){return"movementY"in t?t.movementY:$v}}),lT=Nr(sg),BF=Bt({},sg,{dataTransfer:0}),zF=Nr(BF),WF=Bt({},Tf,{relatedTarget:0}),Bv=Nr(WF),HF=Bt({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),qF=Nr(HF),KF=Bt({},ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GF=Nr(KF),YF=Bt({},ru,{data:0}),cT=Nr(YF),QF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZF[t])?!!e[t]:!1}function f0(){return JF}var eV=Bt({},Tf,{key:function(t){if(t.key){var e=QF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(t){return t.type==="keypress"?ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tV=Nr(eV),nV=Bt({},sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uT=Nr(nV),rV=Bt({},Tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),sV=Nr(rV),oV=Bt({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),iV=Nr(oV),aV=Bt({},sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lV=Nr(aV),cV=[9,13,27,32],h0=So&&"CompositionEvent"in window,ud=null;So&&"documentMode"in document&&(ud=document.documentMode);var uV=So&&"TextEvent"in window&&!ud,KI=So&&(!h0||ud&&8<ud&&11>=ud),dT=" ",fT=!1;function GI(t,e){switch(t){case"keyup":return cV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yl=!1;function dV(t,e){switch(t){case"compositionend":return YI(e);case"keypress":return e.which!==32?null:(fT=!0,dT);case"textInput":return t=e.data,t===dT&&fT?null:t;default:return null}}function fV(t,e){if(Yl)return t==="compositionend"||!h0&&GI(t,e)?(t=qI(),ip=u0=hi=null,Yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KI&&e.locale!=="ko"?null:e.data;default:return null}}var hV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hV[t.type]:e==="textarea"}function QI(t,e,n,r){II(r),e=zp(e,"onChange"),0<e.length&&(n=new d0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dd=null,Dd=null;function pV(t){aR(t,0)}function og(t){var e=Zl(t);if(_I(e))return t}function mV(t,e){if(t==="change")return e}var XI=!1;if(So){var zv;if(So){var Wv="oninput"in document;if(!Wv){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),Wv=typeof pT.oninput=="function"}zv=Wv}else zv=!1;XI=zv&&(!document.documentMode||9<document.documentMode)}function mT(){dd&&(dd.detachEvent("onpropertychange",ZI),Dd=dd=null)}function ZI(t){if(t.propertyName==="value"&&og(Dd)){var e=[];QI(e,Dd,t,o0(t)),AI(pV,e)}}function gV(t,e,n){t==="focusin"?(mT(),dd=e,Dd=n,dd.attachEvent("onpropertychange",ZI)):t==="focusout"&&mT()}function vV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return og(Dd)}function yV(t,e){if(t==="click")return og(e)}function wV(t,e){if(t==="input"||t==="change")return og(e)}function _V(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xs=typeof Object.is=="function"?Object.is:_V;function Od(t,e){if(xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qy.call(e,s)||!xs(t[s],e[s]))return!1}return!0}function gT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vT(t,e){var n=gT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gT(n)}}function JI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eR(){for(var t=window,e=jp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jp(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xV(t){var e=eR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JI(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=vT(n,o);var i=vT(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EV=So&&"documentMode"in document&&11>=document.documentMode,Ql=null,mw=null,fd=null,gw=!1;function yT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gw||Ql==null||Ql!==jp(r)||(r=Ql,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fd&&Od(fd,r)||(fd=r,r=zp(mw,"onSelect"),0<r.length&&(e=new d0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ql)))}function kh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xl={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},Hv={},tR={};So&&(tR=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function ig(t){if(Hv[t])return Hv[t];if(!Xl[t])return t;var e=Xl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tR)return Hv[t]=e[n];return t}var nR=ig("animationend"),rR=ig("animationiteration"),sR=ig("animationstart"),oR=ig("transitionend"),iR=new Map,wT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){iR.set(t,e),hl(e,[t])}for(var qv=0;qv<wT.length;qv++){var Kv=wT[qv],bV=Kv.toLowerCase(),TV=Kv[0].toUpperCase()+Kv.slice(1);zi(bV,"on"+TV)}zi(nR,"onAnimationEnd");zi(rR,"onAnimationIteration");zi(sR,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(oR,"onTransitionEnd");Sc("onMouseEnter",["mouseout","mouseover"]);Sc("onMouseLeave",["mouseout","mouseover"]);Sc("onPointerEnter",["pointerout","pointerover"]);Sc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function _T(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bF(r,e,void 0,t),t.currentTarget=null}function aR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;_T(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;_T(s,a,c),o=l}}}if(Fp)throw t=dw,Fp=!1,dw=null,t}function At(t,e){var n=e[xw];n===void 0&&(n=e[xw]=new Set);var r=t+"__bubble";n.has(r)||(lR(e,t,2,!1),n.add(r))}function Gv(t,e,n){var r=0;e&&(r|=4),lR(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Ah]){t[Ah]=!0,mI.forEach(function(n){n!=="selectionchange"&&(SV.has(n)||Gv(n,!1,t),Gv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,Gv("selectionchange",!1,e))}}function lR(t,e,n,r){switch(HI(e)){case 1:var s=VF;break;case 4:s=UF;break;default:s=c0}n=s.bind(null,e,n,t),s=void 0,!uw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yv(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=xa(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}AI(function(){var c=o,f=o0(n),h=[];e:{var m=iR.get(t);if(m!==void 0){var g=d0,x=t;switch(t){case"keypress":if(ap(n)===0)break e;case"keydown":case"keyup":g=tV;break;case"focusin":x="focus",g=Bv;break;case"focusout":x="blur",g=Bv;break;case"beforeblur":case"afterblur":g=Bv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=sV;break;case nR:case rR:case sR:g=qF;break;case oR:g=iV;break;case"scroll":g=$F;break;case"wheel":g=lV;break;case"copy":case"cut":case"paste":g=GF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=uT}var y=(e&4)!==0,b=!y&&t==="scroll",E=y?m!==null?m+"Capture":null:m;y=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,E!==null&&(C=Pd(w,E),C!=null&&y.push(jd(w,C,S)))),b)break;w=w.return}0<y.length&&(m=new g(m,x,null,n,f),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==lw&&(x=n.relatedTarget||n.fromElement)&&(xa(x)||x[Co]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?xa(x):null,x!==null&&(b=pl(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(y=lT,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=uT,C="onPointerLeave",E="onPointerEnter",w="pointer"),b=g==null?m:Zl(g),S=x==null?m:Zl(x),m=new y(C,w+"leave",g,n,f),m.target=b,m.relatedTarget=S,C=null,xa(f)===c&&(y=new y(E,w+"enter",x,n,f),y.target=S,y.relatedTarget=b,C=y),b=C,g&&x)t:{for(y=g,E=x,w=0,S=y;S;S=Dl(S))w++;for(S=0,C=E;C;C=Dl(C))S++;for(;0<w-S;)y=Dl(y),w--;for(;0<S-w;)E=Dl(E),S--;for(;w--;){if(y===E||E!==null&&y===E.alternate)break t;y=Dl(y),E=Dl(E)}y=null}else y=null;g!==null&&xT(h,m,g,y,!1),x!==null&&b!==null&&xT(h,b,x,y,!0)}}e:{if(m=c?Zl(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var O=mV;else if(hT(m))if(XI)O=wV;else{O=vV;var V=gV}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=yV);if(O&&(O=O(t,c))){QI(h,O,n,f);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&rw(m,"number",m.value)}switch(V=c?Zl(c):window,t){case"focusin":(hT(V)||V.contentEditable==="true")&&(Ql=V,mw=c,fd=null);break;case"focusout":fd=mw=Ql=null;break;case"mousedown":gw=!0;break;case"contextmenu":case"mouseup":case"dragend":gw=!1,yT(h,n,f);break;case"selectionchange":if(EV)break;case"keydown":case"keyup":yT(h,n,f)}var R;if(h0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Yl?GI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(KI&&n.locale!=="ko"&&(Yl||_!=="onCompositionStart"?_==="onCompositionEnd"&&Yl&&(R=qI()):(hi=f,u0="value"in hi?hi.value:hi.textContent,Yl=!0)),V=zp(c,_),0<V.length&&(_=new cT(_,t,null,n,f),h.push({event:_,listeners:V}),R?_.data=R:(R=YI(n),R!==null&&(_.data=R)))),(R=uV?dV(t,n):fV(t,n))&&(c=zp(c,"onBeforeInput"),0<c.length&&(f=new cT("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=R))}aR(h,e)})}function jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Pd(t,n),o!=null&&r.unshift(jd(t,o,s)),o=Pd(t,e),o!=null&&r.push(jd(t,o,s))),t=t.return}return r}function Dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xT(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Pd(n,o),l!=null&&i.unshift(jd(n,l,a))):s||(l=Pd(n,o),l!=null&&i.push(jd(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var CV=/\r\n?/g,IV=/\u0000|\uFFFD/g;function ET(t){return(typeof t=="string"?t:""+t).replace(CV,`
`).replace(IV,"")}function Nh(t,e,n){if(e=ET(e),ET(t)!==e&&n)throw Error(ee(425))}function Wp(){}var vw=null,yw=null;function ww(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _w=typeof setTimeout=="function"?setTimeout:void 0,RV=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,PV=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(t){return bT.resolve(null).then(t).catch(kV)}:_w;function kV(t){setTimeout(function(){throw t})}function Qv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nd(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function TT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var su=Math.random().toString(36).slice(2),js="__reactFiber$"+su,Ld="__reactProps$"+su,Co="__reactContainer$"+su,xw="__reactEvents$"+su,AV="__reactListeners$"+su,NV="__reactHandles$"+su;function xa(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Co]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TT(t);t!==null;){if(n=t[js])return n;t=TT(t)}return e}t=n,n=t.parentNode}return null}function Sf(t){return t=t[js]||t[Co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function ag(t){return t[Ld]||null}var Ew=[],Jl=-1;function Wi(t){return{current:t}}function Nt(t){0>Jl||(t.current=Ew[Jl],Ew[Jl]=null,Jl--)}function St(t,e){Jl++,Ew[Jl]=t.current,t.current=e}var Ai={},Mn=Wi(Ai),lr=Wi(!1),Oa=Ai;function Cc(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cr(t){return t=t.childContextTypes,t!=null}function Hp(){Nt(lr),Nt(Mn)}function ST(t,e,n){if(Mn.current!==Ai)throw Error(ee(168));St(Mn,e),St(lr,n)}function cR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,gF(t)||"Unknown",s));return Bt({},n,r)}function qp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,Oa=Mn.current,St(Mn,t),St(lr,lr.current),!0}function CT(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=cR(t,e,Oa),r.__reactInternalMemoizedMergedChildContext=t,Nt(lr),Nt(Mn),St(Mn,t)):Nt(lr),St(lr,n)}var ho=null,lg=!1,Xv=!1;function uR(t){ho===null?ho=[t]:ho.push(t)}function DV(t){lg=!0,uR(t)}function Hi(){if(!Xv&&ho!==null){Xv=!0;var t=0,e=yt;try{var n=ho;for(yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ho=null,lg=!1}catch(s){throw ho!==null&&(ho=ho.slice(t+1)),MI(i0,Hi),s}finally{yt=e,Xv=!1}}return null}var ec=[],tc=0,Kp=null,Gp=0,Lr=[],Fr=0,Ma=null,mo=1,go="";function ga(t,e){ec[tc++]=Gp,ec[tc++]=Kp,Kp=t,Gp=e}function dR(t,e,n){Lr[Fr++]=mo,Lr[Fr++]=go,Lr[Fr++]=Ma,Ma=t;var r=mo;t=go;var s=32-gs(r)-1;r&=~(1<<s),n+=1;var o=32-gs(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,mo=1<<32-gs(e)+s|n<<s|r,go=o+t}else mo=1<<o|n<<s|r,go=t}function m0(t){t.return!==null&&(ga(t,1),dR(t,1,0))}function g0(t){for(;t===Kp;)Kp=ec[--tc],ec[tc]=null,Gp=ec[--tc],ec[tc]=null;for(;t===Ma;)Ma=Lr[--Fr],Lr[Fr]=null,go=Lr[--Fr],Lr[Fr]=null,mo=Lr[--Fr],Lr[Fr]=null}var Sr=null,br=null,Ot=!1,us=null;function fR(t,e){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,br=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ma!==null?{id:mo,overflow:go}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sr=t,br=null,!0):!1;default:return!1}}function bw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tw(t){if(Ot){var e=br;if(e){var n=e;if(!IT(t,e)){if(bw(t))throw Error(ee(418));e=xi(n.nextSibling);var r=Sr;e&&IT(t,e)?fR(r,n):(t.flags=t.flags&-4097|2,Ot=!1,Sr=t)}}else{if(bw(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Ot=!1,Sr=t}}}function RT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function Dh(t){if(t!==Sr)return!1;if(!Ot)return RT(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ww(t.type,t.memoizedProps)),e&&(e=br)){if(bw(t))throw hR(),Error(ee(418));for(;e;)fR(t,e),e=xi(e.nextSibling)}if(RT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){br=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}br=null}}else br=Sr?xi(t.stateNode.nextSibling):null;return!0}function hR(){for(var t=br;t;)t=xi(t.nextSibling)}function Ic(){br=Sr=null,Ot=!1}function v0(t){us===null?us=[t]:us.push(t)}var OV=jo.ReactCurrentBatchConfig;function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PT(t){var e=t._init;return e(t._payload)}function pR(t){function e(E,w){if(t){var S=E.deletions;S===null?(E.deletions=[w],E.flags|=16):S.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Si(E,w),E.index=0,E.sibling=null,E}function o(E,w,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<w?(E.flags|=2,w):S):(E.flags|=2,w)):(E.flags|=1048576,w)}function i(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,S,C){return w===null||w.tag!==6?(w=sy(S,E.mode,C),w.return=E,w):(w=s(w,S),w.return=E,w)}function l(E,w,S,C){var O=S.type;return O===Gl?f(E,w,S.props.children,C,S.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ri&&PT(O)===w.type)?(C=s(w,S.props),C.ref=Ou(E,w,S),C.return=E,C):(C=pp(S.type,S.key,S.props,null,E.mode,C),C.ref=Ou(E,w,S),C.return=E,C)}function c(E,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=oy(S,E.mode,C),w.return=E,w):(w=s(w,S.children||[]),w.return=E,w)}function f(E,w,S,C,O){return w===null||w.tag!==7?(w=Pa(S,E.mode,C,O),w.return=E,w):(w=s(w,S),w.return=E,w)}function h(E,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sy(""+w,E.mode,S),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bh:return S=pp(w.type,w.key,w.props,null,E.mode,S),S.ref=Ou(E,null,w),S.return=E,S;case Kl:return w=oy(w,E.mode,S),w.return=E,w;case ri:var C=w._init;return h(E,C(w._payload),S)}if(Gu(w)||Pu(w))return w=Pa(w,E.mode,S,null),w.return=E,w;Oh(E,w)}return null}function m(E,w,S,C){var O=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(E,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bh:return S.key===O?l(E,w,S,C):null;case Kl:return S.key===O?c(E,w,S,C):null;case ri:return O=S._init,m(E,w,O(S._payload),C)}if(Gu(S)||Pu(S))return O!==null?null:f(E,w,S,C,null);Oh(E,S)}return null}function g(E,w,S,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(S)||null,a(w,E,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case bh:return E=E.get(C.key===null?S:C.key)||null,l(w,E,C,O);case Kl:return E=E.get(C.key===null?S:C.key)||null,c(w,E,C,O);case ri:var V=C._init;return g(E,w,S,V(C._payload),O)}if(Gu(C)||Pu(C))return E=E.get(S)||null,f(w,E,C,O,null);Oh(w,C)}return null}function x(E,w,S,C){for(var O=null,V=null,R=w,_=w=0,I=null;R!==null&&_<S.length;_++){R.index>_?(I=R,R=null):I=R.sibling;var P=m(E,R,S[_],C);if(P===null){R===null&&(R=I);break}t&&R&&P.alternate===null&&e(E,R),w=o(P,w,_),V===null?O=P:V.sibling=P,V=P,R=I}if(_===S.length)return n(E,R),Ot&&ga(E,_),O;if(R===null){for(;_<S.length;_++)R=h(E,S[_],C),R!==null&&(w=o(R,w,_),V===null?O=R:V.sibling=R,V=R);return Ot&&ga(E,_),O}for(R=r(E,R);_<S.length;_++)I=g(R,E,_,S[_],C),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?_:I.key),w=o(I,w,_),V===null?O=I:V.sibling=I,V=I);return t&&R.forEach(function(D){return e(E,D)}),Ot&&ga(E,_),O}function y(E,w,S,C){var O=Pu(S);if(typeof O!="function")throw Error(ee(150));if(S=O.call(S),S==null)throw Error(ee(151));for(var V=O=null,R=w,_=w=0,I=null,P=S.next();R!==null&&!P.done;_++,P=S.next()){R.index>_?(I=R,R=null):I=R.sibling;var D=m(E,R,P.value,C);if(D===null){R===null&&(R=I);break}t&&R&&D.alternate===null&&e(E,R),w=o(D,w,_),V===null?O=D:V.sibling=D,V=D,R=I}if(P.done)return n(E,R),Ot&&ga(E,_),O;if(R===null){for(;!P.done;_++,P=S.next())P=h(E,P.value,C),P!==null&&(w=o(P,w,_),V===null?O=P:V.sibling=P,V=P);return Ot&&ga(E,_),O}for(R=r(E,R);!P.done;_++,P=S.next())P=g(R,E,_,P.value,C),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?_:P.key),w=o(P,w,_),V===null?O=P:V.sibling=P,V=P);return t&&R.forEach(function(N){return e(E,N)}),Ot&&ga(E,_),O}function b(E,w,S,C){if(typeof S=="object"&&S!==null&&S.type===Gl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case bh:e:{for(var O=S.key,V=w;V!==null;){if(V.key===O){if(O=S.type,O===Gl){if(V.tag===7){n(E,V.sibling),w=s(V,S.props.children),w.return=E,E=w;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ri&&PT(O)===V.type){n(E,V.sibling),w=s(V,S.props),w.ref=Ou(E,V,S),w.return=E,E=w;break e}n(E,V);break}else e(E,V);V=V.sibling}S.type===Gl?(w=Pa(S.props.children,E.mode,C,S.key),w.return=E,E=w):(C=pp(S.type,S.key,S.props,null,E.mode,C),C.ref=Ou(E,w,S),C.return=E,E=C)}return i(E);case Kl:e:{for(V=S.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(E,w.sibling),w=s(w,S.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=oy(S,E.mode,C),w.return=E,E=w}return i(E);case ri:return V=S._init,b(E,w,V(S._payload),C)}if(Gu(S))return x(E,w,S,C);if(Pu(S))return y(E,w,S,C);Oh(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,S),w.return=E,E=w):(n(E,w),w=sy(S,E.mode,C),w.return=E,E=w),i(E)):n(E,w)}return b}var Rc=pR(!0),mR=pR(!1),Yp=Wi(null),Qp=null,nc=null,y0=null;function w0(){y0=nc=Qp=null}function _0(t){var e=Yp.current;Nt(Yp),t._currentValue=e}function Sw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hc(t,e){Qp=t,y0=nc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Kr(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},nc===null){if(Qp===null)throw Error(ee(308));nc=t,Qp.dependencies={lanes:0,firstContext:t}}else nc=nc.next=t;return e}var Ea=null;function x0(t){Ea===null?Ea=[t]:Ea.push(t)}function gR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,x0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Io(t,r)}function Io(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Io(t,n)}return s=r.interleaved,s===null?(e.next=e,x0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Io(t,n)}function lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}function kT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xp(t,e,n,r){var s=t.updateQueue;si=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,f=c=l=null,a=o;do{var m=a.lane,g=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(m=e,g=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(g,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(g,h,m):x,m==null)break e;h=Bt({},h,m);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,l=h):f=f.next=g,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);La|=i,t.lanes=i,t.memoizedState=h}}function AT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Cf={},Ws=Wi(Cf),Fd=Wi(Cf),Vd=Wi(Cf);function ba(t){if(t===Cf)throw Error(ee(174));return t}function b0(t,e){switch(St(Vd,e),St(Fd,t),St(Ws,Cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ow(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ow(e,t)}Nt(Ws),St(Ws,e)}function Pc(){Nt(Ws),Nt(Fd),Nt(Vd)}function yR(t){ba(Vd.current);var e=ba(Ws.current),n=ow(e,t.type);e!==n&&(St(Fd,t),St(Ws,n))}function T0(t){Fd.current===t&&(Nt(Ws),Nt(Fd))}var Ut=Wi(0);function Zp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zv=[];function S0(){for(var t=0;t<Zv.length;t++)Zv[t]._workInProgressVersionPrimary=null;Zv.length=0}var cp=jo.ReactCurrentDispatcher,Jv=jo.ReactCurrentBatchConfig,ja=0,$t=null,an=null,fn=null,Jp=!1,hd=!1,Ud=0,MV=0;function Pn(){throw Error(ee(321))}function C0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xs(t[n],e[n]))return!1;return!0}function I0(t,e,n,r,s,o){if(ja=o,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cp.current=t===null||t.memoizedState===null?VV:UV,t=n(r,s),hd){o=0;do{if(hd=!1,Ud=0,25<=o)throw Error(ee(301));o+=1,fn=an=null,e.updateQueue=null,cp.current=$V,t=n(r,s)}while(hd)}if(cp.current=em,e=an!==null&&an.next!==null,ja=0,fn=an=$t=null,Jp=!1,e)throw Error(ee(300));return t}function R0(){var t=Ud!==0;return Ud=0,t}function Ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?$t.memoizedState=fn=t:fn=fn.next=t,fn}function Gr(){if(an===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=fn===null?$t.memoizedState:fn.next;if(e!==null)fn=e,an=t;else{if(t===null)throw Error(ee(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?$t.memoizedState=fn=t:fn=fn.next=t}return fn}function $d(t,e){return typeof e=="function"?e(t):e}function ey(t){var e=Gr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=an,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var f=c.lane;if((ja&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,$t.lanes|=f,La|=f}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,xs(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,$t.lanes|=o,La|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ty(t){var e=Gr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);xs(o,e.memoizedState)||(ir=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function wR(){}function _R(t,e){var n=$t,r=Gr(),s=e(),o=!xs(r.memoizedState,s);if(o&&(r.memoizedState=s,ir=!0),r=r.queue,P0(bR.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,Bd(9,ER.bind(null,n,r,s,e),void 0,null),pn===null)throw Error(ee(349));ja&30||xR(n,e,s)}return s}function xR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ER(t,e,n,r){e.value=n,e.getSnapshot=r,TR(e)&&SR(t)}function bR(t,e,n){return n(function(){TR(e)&&SR(t)})}function TR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xs(t,n)}catch{return!0}}function SR(t){var e=Io(t,1);e!==null&&vs(e,t,1,-1)}function NT(t){var e=Ms();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},e.queue=t,t=t.dispatch=FV.bind(null,$t,t),[e.memoizedState,t]}function Bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CR(){return Gr().memoizedState}function up(t,e,n,r){var s=Ms();$t.flags|=t,s.memoizedState=Bd(1|e,n,void 0,r===void 0?null:r)}function cg(t,e,n,r){var s=Gr();r=r===void 0?null:r;var o=void 0;if(an!==null){var i=an.memoizedState;if(o=i.destroy,r!==null&&C0(r,i.deps)){s.memoizedState=Bd(e,n,o,r);return}}$t.flags|=t,s.memoizedState=Bd(1|e,n,o,r)}function DT(t,e){return up(8390656,8,t,e)}function P0(t,e){return cg(2048,8,t,e)}function IR(t,e){return cg(4,2,t,e)}function RR(t,e){return cg(4,4,t,e)}function PR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kR(t,e,n){return n=n!=null?n.concat([t]):null,cg(4,4,PR.bind(null,e,t),n)}function k0(){}function AR(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NR(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DR(t,e,n){return ja&21?(xs(n,e)||(n=FI(),$t.lanes|=n,La|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function jV(t,e){var n=yt;yt=n!==0&&4>n?n:4,t(!0);var r=Jv.transition;Jv.transition={};try{t(!1),e()}finally{yt=n,Jv.transition=r}}function OR(){return Gr().memoizedState}function LV(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MR(t))jR(e,n);else if(n=gR(t,e,n,r),n!==null){var s=Yn();vs(n,t,r,s),LR(n,e,r)}}function FV(t,e,n){var r=Ti(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MR(t))jR(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,xs(a,i)){var l=e.interleaved;l===null?(s.next=s,x0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=gR(t,e,s,r),n!==null&&(s=Yn(),vs(n,t,r,s),LR(n,e,r))}}function MR(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function jR(t,e){hd=Jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}var em={readContext:Kr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},VV={readContext:Kr,useCallback:function(t,e){return Ms().memoizedState=[t,e===void 0?null:e],t},useContext:Kr,useEffect:DT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,up(4194308,4,PR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return up(4194308,4,t,e)},useInsertionEffect:function(t,e){return up(4,2,t,e)},useMemo:function(t,e){var n=Ms();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ms();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LV.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=Ms();return t={current:t},e.memoizedState=t},useState:NT,useDebugValue:k0,useDeferredValue:function(t){return Ms().memoizedState=t},useTransition:function(){var t=NT(!1),e=t[0];return t=jV.bind(null,t[1]),Ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,s=Ms();if(Ot){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),pn===null)throw Error(ee(349));ja&30||xR(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,DT(bR.bind(null,r,o,t),[t]),r.flags|=2048,Bd(9,ER.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ms(),e=pn.identifierPrefix;if(Ot){var n=go,r=mo;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ud++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UV={readContext:Kr,useCallback:AR,useContext:Kr,useEffect:P0,useImperativeHandle:kR,useInsertionEffect:IR,useLayoutEffect:RR,useMemo:NR,useReducer:ey,useRef:CR,useState:function(){return ey($d)},useDebugValue:k0,useDeferredValue:function(t){var e=Gr();return DR(e,an.memoizedState,t)},useTransition:function(){var t=ey($d)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:wR,useSyncExternalStore:_R,useId:OR,unstable_isNewReconciler:!1},$V={readContext:Kr,useCallback:AR,useContext:Kr,useEffect:P0,useImperativeHandle:kR,useInsertionEffect:IR,useLayoutEffect:RR,useMemo:NR,useReducer:ty,useRef:CR,useState:function(){return ty($d)},useDebugValue:k0,useDeferredValue:function(t){var e=Gr();return an===null?e.memoizedState=t:DR(e,an.memoizedState,t)},useTransition:function(){var t=ty($d)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:wR,useSyncExternalStore:_R,useId:OR,unstable_isNewReconciler:!1};function as(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ug={isMounted:function(t){return(t=t._reactInternals)?pl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),s=Ti(t),o=xo(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ei(t,o,s),e!==null&&(vs(e,t,s,r),lp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),s=Ti(t),o=xo(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ei(t,o,s),e!==null&&(vs(e,t,s,r),lp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=Ti(t),s=xo(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ei(t,s,r),e!==null&&(vs(e,t,r,n),lp(e,t,r))}};function OT(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Od(n,r)||!Od(s,o):!0}function FR(t,e,n){var r=!1,s=Ai,o=e.contextType;return typeof o=="object"&&o!==null?o=Kr(o):(s=cr(e)?Oa:Mn.current,r=e.contextTypes,o=(r=r!=null)?Cc(t,s):Ai),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ug,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function MT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ug.enqueueReplaceState(e,e.state,null)}function Iw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},E0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Kr(o):(o=cr(e)?Oa:Mn.current,s.context=Cc(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cw(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ug.enqueueReplaceState(s,s.state,null),Xp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kc(t,e){try{var n="",r=e;do n+=mF(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function ny(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BV=typeof WeakMap=="function"?WeakMap:Map;function VR(t,e,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nm||(nm=!0,Fw=r),Rw(t,e)},n}function UR(t,e,n){n=xo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rw(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function jT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=n4.bind(null,t,e,n),e.then(t,t))}function LT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xo(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var zV=jo.ReactCurrentOwner,ir=!1;function Wn(t,e,n,r){e.child=t===null?mR(e,null,n,r):Rc(e,t.child,n,r)}function VT(t,e,n,r,s){n=n.render;var o=e.ref;return hc(e,s),r=I0(t,e,n,r,o,s),n=R0(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ro(t,e,s)):(Ot&&n&&m0(e),e.flags|=1,Wn(t,e,r,s),e.child)}function UT(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!F0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,$R(t,e,o,r,s)):(t=pp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Od,n(i,r)&&t.ref===e.ref)return Ro(t,e,s)}return e.flags|=1,t=Si(o,r),t.ref=e.ref,t.return=e,e.child=t}function $R(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Od(o,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,Ro(t,e,s)}return Pw(t,e,n,r,s)}function BR(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(sc,gr),gr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(sc,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,St(sc,gr),gr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,St(sc,gr),gr|=r;return Wn(t,e,s,n),e.child}function zR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pw(t,e,n,r,s){var o=cr(n)?Oa:Mn.current;return o=Cc(e,o),hc(e,s),n=I0(t,e,n,r,o,s),r=R0(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ro(t,e,s)):(Ot&&r&&m0(e),e.flags|=1,Wn(t,e,n,s),e.child)}function $T(t,e,n,r,s){if(cr(n)){var o=!0;qp(e)}else o=!1;if(hc(e,s),e.stateNode===null)dp(t,e),FR(e,n,r),Iw(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kr(c):(c=cr(n)?Oa:Mn.current,c=Cc(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&MT(e,i,r,c),si=!1;var m=e.memoizedState;i.state=m,Xp(e,r,i,s),l=e.memoizedState,a!==r||m!==l||lr.current||si?(typeof f=="function"&&(Cw(e,n,f,r),l=e.memoizedState),(a=si||OT(e,n,a,r,m,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,vR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:as(e.type,a),i.props=c,h=e.pendingProps,m=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kr(l):(l=cr(n)?Oa:Mn.current,l=Cc(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==l)&&MT(e,i,r,l),si=!1,m=e.memoizedState,i.state=m,Xp(e,r,i,s);var x=e.memoizedState;a!==h||m!==x||lr.current||si?(typeof g=="function"&&(Cw(e,n,g,r),x=e.memoizedState),(c=si||OT(e,n,c,r,m,x,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),i.props=r,i.state=x,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return kw(t,e,n,r,o,s)}function kw(t,e,n,r,s,o){zR(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&CT(e,n,!1),Ro(t,e,o);r=e.stateNode,zV.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Rc(e,t.child,null,o),e.child=Rc(e,null,a,o)):Wn(t,e,a,o),e.memoizedState=r.state,s&&CT(e,n,!0),e.child}function WR(t){var e=t.stateNode;e.pendingContext?ST(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ST(t,e.context,!1),b0(t,e.containerInfo)}function BT(t,e,n,r,s){return Ic(),v0(s),e.flags|=256,Wn(t,e,n,r),e.child}var Aw={dehydrated:null,treeContext:null,retryLane:0};function Nw(t){return{baseLanes:t,cachePool:null,transitions:null}}function HR(t,e,n){var r=e.pendingProps,s=Ut.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),St(Ut,s&1),t===null)return Tw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=hg(i,r,0,null),t=Pa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nw(n),e.memoizedState=Aw,t):A0(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WV(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Si(a,o):(o=Pa(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?Nw(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=Aw,r}return o=t.child,t=o.sibling,r=Si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function A0(t,e){return e=hg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mh(t,e,n,r){return r!==null&&v0(r),Rc(e,t.child,null,n),t=A0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WV(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=ny(Error(ee(422))),Mh(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=hg({mode:"visible",children:r.children},s,0,null),o=Pa(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Rc(e,t.child,null,i),e.child.memoizedState=Nw(i),e.memoizedState=Aw,o);if(!(e.mode&1))return Mh(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=ny(o,r,void 0),Mh(t,e,i,r)}if(a=(i&t.childLanes)!==0,ir||a){if(r=pn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Io(t,s),vs(r,t,s,-1))}return L0(),r=ny(Error(ee(421))),Mh(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=r4.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,br=xi(s.nextSibling),Sr=e,Ot=!0,us=null,t!==null&&(Lr[Fr++]=mo,Lr[Fr++]=go,Lr[Fr++]=Ma,mo=t.id,go=t.overflow,Ma=e),e=A0(e,r.children),e.flags|=4096,e)}function zT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sw(t.return,e,n)}function ry(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function qR(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Wn(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zT(t,n,e);else if(t.tag===19)zT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(St(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ry(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ry(e,!0,n,null,o);break;case"together":ry(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ro(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HV(t,e,n){switch(e.tag){case 3:WR(e),Ic();break;case 5:yR(e);break;case 1:cr(e.type)&&qp(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;St(Yp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(St(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?HR(t,e,n):(St(Ut,Ut.current&1),t=Ro(t,e,n),t!==null?t.sibling:null);St(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),St(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,BR(t,e,n)}return Ro(t,e,n)}var KR,Dw,GR,YR;KR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dw=function(){};GR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ba(Ws.current);var o=null;switch(n){case"input":s=tw(t,s),r=tw(t,r),o=[];break;case"select":s=Bt({},s,{value:void 0}),r=Bt({},r,{value:void 0}),o=[];break;case"textarea":s=sw(t,s),r=sw(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wp)}iw(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Id.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Id.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&At("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};YR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mu(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qV(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return cr(e.type)&&Hp(),kn(e),null;case 3:return r=e.stateNode,Pc(),Nt(lr),Nt(Mn),S0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,us!==null&&($w(us),us=null))),Dw(t,e),kn(e),null;case 5:T0(e);var s=ba(Vd.current);if(n=e.type,t!==null&&e.stateNode!=null)GR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return kn(e),null}if(t=ba(Ws.current),Dh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[js]=e,r[Ld]=o,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<Qu.length;s++)At(Qu[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":Zb(r,o),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},At("invalid",r);break;case"textarea":eT(r,o),At("invalid",r)}iw(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nh(r.textContent,a,t),s=["children",""+a]):Id.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&At("scroll",r)}switch(n){case"input":Th(r),Jb(r,o,!0);break;case"textarea":Th(r),tT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[js]=e,t[Ld]=r,KR(t,e,!1,!1),e.stateNode=t;e:{switch(i=aw(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qu.length;s++)At(Qu[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":Zb(t,r),s=tw(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Bt({},r,{value:void 0}),At("invalid",t);break;case"textarea":eT(t,r),s=sw(t,r),At("invalid",t);break;default:s=r}iw(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?CI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rd(t,l):typeof l=="number"&&Rd(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Id.hasOwnProperty(o)?l!=null&&o==="onScroll"&&At("scroll",t):l!=null&&t0(t,o,l,i))}switch(n){case"input":Th(t),Jb(t,r,!1);break;case"textarea":Th(t),tT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cc(t,!!r.multiple,o,!1):r.defaultValue!=null&&cc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)YR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=ba(Vd.current),ba(Ws.current),Dh(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(o=r.nodeValue!==n)&&(t=Sr,t!==null))switch(t.tag){case 3:Nh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return kn(e),null;case 13:if(Nt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&br!==null&&e.mode&1&&!(e.flags&128))hR(),Ic(),e.flags|=98560,o=!1;else if(o=Dh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[js]=e}else Ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),o=!1}else us!==null&&($w(us),us=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?cn===0&&(cn=3):L0())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Pc(),Dw(t,e),t===null&&Md(e.stateNode.containerInfo),kn(e),null;case 10:return _0(e.type._context),kn(e),null;case 17:return cr(e.type)&&Hp(),kn(e),null;case 19:if(Nt(Ut),o=e.memoizedState,o===null)return kn(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Mu(o,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Zp(t),i!==null){for(e.flags|=128,Mu(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(Ut,Ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qt()>Ac&&(e.flags|=128,r=!0,Mu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zp(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ot)return kn(e),null}else 2*Qt()-o.renderingStartTime>Ac&&n!==1073741824&&(e.flags|=128,r=!0,Mu(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qt(),e.sibling=null,n=Ut.current,St(Ut,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return j0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function KV(t,e){switch(g0(e),e.tag){case 1:return cr(e.type)&&Hp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pc(),Nt(lr),Nt(Mn),S0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T0(e),null;case 13:if(Nt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Ut),null;case 4:return Pc(),null;case 10:return _0(e.type._context),null;case 22:case 23:return j0(),null;case 24:return null;default:return null}}var jh=!1,Dn=!1,GV=typeof WeakSet=="function"?WeakSet:Set,ge=null;function rc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function Ow(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var WT=!1;function YV(t,e){if(vw=$p,t=eR(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++c===s&&(a=i),m===o&&++f===r&&(l=i),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yw={focusedElem:t,selectionRange:n},$p=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:as(e.type,y),b);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(C){Ht(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return x=WT,WT=!1,x}function pd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ow(e,n,o)}s=s.next}while(s!==r)}}function dg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QR(t){var e=t.alternate;e!==null&&(t.alternate=null,QR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[Ld],delete e[xw],delete e[AV],delete e[NV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XR(t){return t.tag===5||t.tag===3||t.tag===4}function HT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wp));else if(r!==4&&(t=t.child,t!==null))for(jw(t,e,n),t=t.sibling;t!==null;)jw(t,e,n),t=t.sibling}function Lw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lw(t,e,n),t=t.sibling;t!==null;)Lw(t,e,n),t=t.sibling}var yn=null,ls=!1;function Qo(t,e,n){for(n=n.child;n!==null;)ZR(t,e,n),n=n.sibling}function ZR(t,e,n){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(rg,n)}catch{}switch(n.tag){case 5:Dn||rc(n,e);case 6:var r=yn,s=ls;yn=null,Qo(t,e,n),yn=r,ls=s,yn!==null&&(ls?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(ls?(t=yn,n=n.stateNode,t.nodeType===8?Qv(t.parentNode,n):t.nodeType===1&&Qv(t,n),Nd(t)):Qv(yn,n.stateNode));break;case 4:r=yn,s=ls,yn=n.stateNode.containerInfo,ls=!0,Qo(t,e,n),yn=r,ls=s;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ow(n,e,i),s=s.next}while(s!==r)}Qo(t,e,n);break;case 1:if(!Dn&&(rc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ht(n,e,a)}Qo(t,e,n);break;case 21:Qo(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,Qo(t,e,n),Dn=r):Qo(t,e,n);break;default:Qo(t,e,n)}}function qT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GV),e.forEach(function(r){var s=s4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function os(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,ls=!1;break e;case 3:yn=a.stateNode.containerInfo,ls=!0;break e;case 4:yn=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(yn===null)throw Error(ee(160));ZR(o,i,s),yn=null,ls=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ht(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JR(e,t),e=e.sibling}function JR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),Os(t),r&4){try{pd(3,t,t.return),dg(3,t)}catch(y){Ht(t,t.return,y)}try{pd(5,t,t.return)}catch(y){Ht(t,t.return,y)}}break;case 1:os(e,t),Os(t),r&512&&n!==null&&rc(n,n.return);break;case 5:if(os(e,t),Os(t),r&512&&n!==null&&rc(n,n.return),t.flags&32){var s=t.stateNode;try{Rd(s,"")}catch(y){Ht(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&xI(s,o),aw(a,i);var c=aw(a,o);for(i=0;i<l.length;i+=2){var f=l[i],h=l[i+1];f==="style"?CI(s,h):f==="dangerouslySetInnerHTML"?TI(s,h):f==="children"?Rd(s,h):t0(s,f,h,c)}switch(a){case"input":nw(s,o);break;case"textarea":EI(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?cc(s,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?cc(s,!!o.multiple,o.defaultValue,!0):cc(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ld]=o}catch(y){Ht(t,t.return,y)}}break;case 6:if(os(e,t),Os(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){Ht(t,t.return,y)}}break;case 3:if(os(e,t),Os(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nd(e.containerInfo)}catch(y){Ht(t,t.return,y)}break;case 4:os(e,t),Os(t);break;case 13:os(e,t),Os(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(O0=Qt())),r&4&&qT(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(c=Dn)||f,os(e,t),Dn=c):os(e,t),Os(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ge=t,f=t.child;f!==null;){for(h=ge=f;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:pd(4,m,m.return);break;case 1:rc(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Ht(r,n,y)}}break;case 5:rc(m,m.return);break;case 22:if(m.memoizedState!==null){GT(h);continue}}g!==null?(g.return=m,ge=g):GT(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SI("display",i))}catch(y){Ht(t,t.return,y)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Ht(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:os(e,t),Os(t),r&4&&qT(t);break;case 21:break;default:os(e,t),Os(t)}}function Os(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XR(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rd(s,""),r.flags&=-33);var o=HT(t);Lw(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=HT(t);jw(t,a,i);break;default:throw Error(ee(161))}}catch(l){Ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QV(t,e,n){ge=t,eP(t)}function eP(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||jh;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=jh;var c=Dn;if(jh=i,(Dn=l)&&!c)for(ge=s;ge!==null;)i=ge,l=i.child,i.tag===22&&i.memoizedState!==null?YT(s):l!==null?(l.return=i,ge=l):YT(s);for(;o!==null;)ge=o,eP(o),o=o.sibling;ge=s,jh=a,Dn=c}KT(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ge=o):KT(t)}}function KT(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||dg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:as(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&AT(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AT(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Nd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Dn||e.flags&512&&Mw(e)}catch(m){Ht(e,e.return,m)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function GT(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function YT(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dg(4,e)}catch(l){Ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ht(e,s,l)}}var o=e.return;try{Mw(e)}catch(l){Ht(e,o,l)}break;case 5:var i=e.return;try{Mw(e)}catch(l){Ht(e,i,l)}}}catch(l){Ht(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var XV=Math.ceil,tm=jo.ReactCurrentDispatcher,N0=jo.ReactCurrentOwner,zr=jo.ReactCurrentBatchConfig,ut=0,pn=null,nn=null,xn=0,gr=0,sc=Wi(0),cn=0,zd=null,La=0,fg=0,D0=0,md=null,sr=null,O0=0,Ac=1/0,fo=null,nm=!1,Fw=null,bi=null,Lh=!1,pi=null,rm=0,gd=0,Vw=null,fp=-1,hp=0;function Yn(){return ut&6?Qt():fp!==-1?fp:fp=Qt()}function Ti(t){return t.mode&1?ut&2&&xn!==0?xn&-xn:OV.transition!==null?(hp===0&&(hp=FI()),hp):(t=yt,t!==0||(t=window.event,t=t===void 0?16:HI(t.type)),t):1}function vs(t,e,n,r){if(50<gd)throw gd=0,Vw=null,Error(ee(185));bf(t,n,r),(!(ut&2)||t!==pn)&&(t===pn&&(!(ut&2)&&(fg|=n),cn===4&&ii(t,xn)),ur(t,r),n===1&&ut===0&&!(e.mode&1)&&(Ac=Qt()+500,lg&&Hi()))}function ur(t,e){var n=t.callbackNode;OF(t,e);var r=Up(t,t===pn?xn:0);if(r===0)n!==null&&sT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sT(n),e===1)t.tag===0?DV(QT.bind(null,t)):uR(QT.bind(null,t)),PV(function(){!(ut&6)&&Hi()}),n=null;else{switch(VI(r)){case 1:n=i0;break;case 4:n=jI;break;case 16:n=Vp;break;case 536870912:n=LI;break;default:n=Vp}n=lP(n,tP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tP(t,e){if(fp=-1,hp=0,ut&6)throw Error(ee(327));var n=t.callbackNode;if(pc()&&t.callbackNode!==n)return null;var r=Up(t,t===pn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sm(t,r);else{e=r;var s=ut;ut|=2;var o=rP();(pn!==t||xn!==e)&&(fo=null,Ac=Qt()+500,Ra(t,e));do try{e4();break}catch(a){nP(t,a)}while(!0);w0(),tm.current=o,ut=s,nn!==null?e=0:(pn=null,xn=0,e=cn)}if(e!==0){if(e===2&&(s=fw(t),s!==0&&(r=s,e=Uw(t,s))),e===1)throw n=zd,Ra(t,0),ii(t,r),ur(t,Qt()),n;if(e===6)ii(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZV(s)&&(e=sm(t,r),e===2&&(o=fw(t),o!==0&&(r=o,e=Uw(t,o))),e===1))throw n=zd,Ra(t,0),ii(t,r),ur(t,Qt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:va(t,sr,fo);break;case 3:if(ii(t,r),(r&130023424)===r&&(e=O0+500-Qt(),10<e)){if(Up(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_w(va.bind(null,t,sr,fo),e);break}va(t,sr,fo);break;case 4:if(ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-gs(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XV(r/1960))-r,10<r){t.timeoutHandle=_w(va.bind(null,t,sr,fo),r);break}va(t,sr,fo);break;case 5:va(t,sr,fo);break;default:throw Error(ee(329))}}}return ur(t,Qt()),t.callbackNode===n?tP.bind(null,t):null}function Uw(t,e){var n=md;return t.current.memoizedState.isDehydrated&&(Ra(t,e).flags|=256),t=sm(t,e),t!==2&&(e=sr,sr=n,e!==null&&$w(e)),t}function $w(t){sr===null?sr=t:sr.push.apply(sr,t)}function ZV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!xs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~D0,e&=~fg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gs(e),r=1<<n;t[n]=-1,e&=~r}}function QT(t){if(ut&6)throw Error(ee(327));pc();var e=Up(t,0);if(!(e&1))return ur(t,Qt()),null;var n=sm(t,e);if(t.tag!==0&&n===2){var r=fw(t);r!==0&&(e=r,n=Uw(t,r))}if(n===1)throw n=zd,Ra(t,0),ii(t,e),ur(t,Qt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,va(t,sr,fo),ur(t,Qt()),null}function M0(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(Ac=Qt()+500,lg&&Hi())}}function Fa(t){pi!==null&&pi.tag===0&&!(ut&6)&&pc();var e=ut;ut|=1;var n=zr.transition,r=yt;try{if(zr.transition=null,yt=1,t)return t()}finally{yt=r,zr.transition=n,ut=e,!(ut&6)&&Hi()}}function j0(){gr=sc.current,Nt(sc)}function Ra(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RV(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hp();break;case 3:Pc(),Nt(lr),Nt(Mn),S0();break;case 5:T0(r);break;case 4:Pc();break;case 13:Nt(Ut);break;case 19:Nt(Ut);break;case 10:_0(r.type._context);break;case 22:case 23:j0()}n=n.return}if(pn=t,nn=t=Si(t.current,null),xn=gr=e,cn=0,zd=null,D0=fg=La=0,sr=md=null,Ea!==null){for(e=0;e<Ea.length;e++)if(n=Ea[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Ea=null}return t}function nP(t,e){do{var n=nn;try{if(w0(),cp.current=em,Jp){for(var r=$t.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jp=!1}if(ja=0,fn=an=$t=null,hd=!1,Ud=0,N0.current=null,n===null||n.return===null){cn=1,zd=e,nn=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=xn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=LT(i);if(g!==null){g.flags&=-257,FT(g,i,a,o,e),g.mode&1&&jT(o,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(l),e.updateQueue=y}else x.add(l);break e}else{if(!(e&1)){jT(o,c,e),L0();break e}l=Error(ee(426))}}else if(Ot&&a.mode&1){var b=LT(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),FT(b,i,a,o,e),v0(kc(l,a));break e}}o=l=kc(l,a),cn!==4&&(cn=2),md===null?md=[o]:md.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=VR(o,l,e);kT(o,E);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bi===null||!bi.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=UR(o,a,e);kT(o,C);break e}}o=o.return}while(o!==null)}oP(n)}catch(O){e=O,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function rP(){var t=tm.current;return tm.current=em,t===null?em:t}function L0(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||!(La&268435455)&&!(fg&268435455)||ii(pn,xn)}function sm(t,e){var n=ut;ut|=2;var r=rP();(pn!==t||xn!==e)&&(fo=null,Ra(t,e));do try{JV();break}catch(s){nP(t,s)}while(!0);if(w0(),ut=n,tm.current=r,nn!==null)throw Error(ee(261));return pn=null,xn=0,cn}function JV(){for(;nn!==null;)sP(nn)}function e4(){for(;nn!==null&&!SF();)sP(nn)}function sP(t){var e=aP(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?oP(t):nn=e,N0.current=null}function oP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KV(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,nn=null;return}}else if(n=qV(n,e,gr),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);cn===0&&(cn=5)}function va(t,e,n){var r=yt,s=zr.transition;try{zr.transition=null,yt=1,t4(t,e,n,r)}finally{zr.transition=s,yt=r}return null}function t4(t,e,n,r){do pc();while(pi!==null);if(ut&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MF(t,o),t===pn&&(nn=pn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lh||(Lh=!0,lP(Vp,function(){return pc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zr.transition,zr.transition=null;var i=yt;yt=1;var a=ut;ut|=4,N0.current=null,YV(t,n),JR(n,t),xV(yw),$p=!!vw,yw=vw=null,t.current=n,QV(n),CF(),ut=a,yt=i,zr.transition=o}else t.current=n;if(Lh&&(Lh=!1,pi=t,rm=s),o=t.pendingLanes,o===0&&(bi=null),PF(n.stateNode),ur(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nm)throw nm=!1,t=Fw,Fw=null,t;return rm&1&&t.tag!==0&&pc(),o=t.pendingLanes,o&1?t===Vw?gd++:(gd=0,Vw=t):gd=0,Hi(),null}function pc(){if(pi!==null){var t=VI(rm),e=zr.transition,n=yt;try{if(zr.transition=null,yt=16>t?16:t,pi===null)var r=!1;else{if(t=pi,pi=null,rm=0,ut&6)throw Error(ee(331));var s=ut;for(ut|=4,ge=t.current;ge!==null;){var o=ge,i=o.child;if(ge.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var f=ge;switch(f.tag){case 0:case 11:case 15:pd(8,f,o)}var h=f.child;if(h!==null)h.return=f,ge=h;else for(;ge!==null;){f=ge;var m=f.sibling,g=f.return;if(QR(f),f===c){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ge=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ge=i;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pd(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,ge=E;break e}ge=o.return}}var w=t.current;for(ge=w;ge!==null;){i=ge;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,ge=S;else e:for(i=w;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dg(9,a)}}catch(O){Ht(a,a.return,O)}if(a===i){ge=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ge=C;break e}ge=a.return}}if(ut=s,Hi(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(rg,t)}catch{}r=!0}return r}finally{yt=n,zr.transition=e}}return!1}function XT(t,e,n){e=kc(n,e),e=VR(t,e,1),t=Ei(t,e,1),e=Yn(),t!==null&&(bf(t,1,e),ur(t,e))}function Ht(t,e,n){if(t.tag===3)XT(t,t,n);else for(;e!==null;){if(e.tag===3){XT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=kc(n,t),t=UR(e,t,1),e=Ei(e,t,1),t=Yn(),e!==null&&(bf(e,1,t),ur(e,t));break}}e=e.return}}function n4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(xn&n)===n&&(cn===4||cn===3&&(xn&130023424)===xn&&500>Qt()-O0?Ra(t,0):D0|=n),ur(t,e)}function iP(t,e){e===0&&(t.mode&1?(e=Ih,Ih<<=1,!(Ih&130023424)&&(Ih=4194304)):e=1);var n=Yn();t=Io(t,e),t!==null&&(bf(t,e,n),ur(t,n))}function r4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iP(t,n)}function s4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),iP(t,n)}var aP;aP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,HV(t,e,n);ir=!!(t.flags&131072)}else ir=!1,Ot&&e.flags&1048576&&dR(e,Gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dp(t,e),t=e.pendingProps;var s=Cc(e,Mn.current);hc(e,n),s=I0(null,e,r,t,s,n);var o=R0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(o=!0,qp(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,E0(e),s.updater=ug,e.stateNode=s,s._reactInternals=e,Iw(e,r,t,n),e=kw(null,e,r,!0,o,n)):(e.tag=0,Ot&&o&&m0(e),Wn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=i4(r),t=as(r,t),s){case 0:e=Pw(null,e,r,t,n);break e;case 1:e=$T(null,e,r,t,n);break e;case 11:e=VT(null,e,r,t,n);break e;case 14:e=UT(null,e,r,as(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),Pw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),$T(t,e,r,s,n);case 3:e:{if(WR(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,s=o.element,vR(t,e),Xp(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=kc(Error(ee(423)),e),e=BT(t,e,r,n,s);break e}else if(r!==s){s=kc(Error(ee(424)),e),e=BT(t,e,r,n,s);break e}else for(br=xi(e.stateNode.containerInfo.firstChild),Sr=e,Ot=!0,us=null,n=mR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ic(),r===s){e=Ro(t,e,n);break e}Wn(t,e,r,n)}e=e.child}return e;case 5:return yR(e),t===null&&Tw(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,ww(r,s)?i=null:o!==null&&ww(r,o)&&(e.flags|=32),zR(t,e),Wn(t,e,i,n),e.child;case 6:return t===null&&Tw(e),null;case 13:return HR(t,e,n);case 4:return b0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rc(e,null,r,n):Wn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),VT(t,e,r,s,n);case 7:return Wn(t,e,e.pendingProps,n),e.child;case 8:return Wn(t,e,e.pendingProps.children,n),e.child;case 12:return Wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,St(Yp,r._currentValue),r._currentValue=i,o!==null)if(xs(o.value,i)){if(o.children===s.children&&!lr.current){e=Ro(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xo(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ee(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Sw(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Wn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,hc(e,n),s=Kr(s),r=r(s),e.flags|=1,Wn(t,e,r,n),e.child;case 14:return r=e.type,s=as(r,e.pendingProps),s=as(r.type,s),UT(t,e,r,s,n);case 15:return $R(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),dp(t,e),e.tag=1,cr(r)?(t=!0,qp(e)):t=!1,hc(e,n),FR(e,r,s),Iw(e,r,s,n),kw(null,e,r,!0,t,n);case 19:return qR(t,e,n);case 22:return BR(t,e,n)}throw Error(ee(156,e.tag))};function lP(t,e){return MI(t,e)}function o4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,n,r){return new o4(t,e,n,r)}function F0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i4(t){if(typeof t=="function")return F0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===s0)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pp(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")F0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Gl:return Pa(n.children,s,o,e);case n0:i=8,s|=8;break;case Xy:return t=Ur(12,n,e,s|2),t.elementType=Xy,t.lanes=o,t;case Zy:return t=Ur(13,n,e,s),t.elementType=Zy,t.lanes=o,t;case Jy:return t=Ur(19,n,e,s),t.elementType=Jy,t.lanes=o,t;case yI:return hg(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gI:i=10;break e;case vI:i=9;break e;case r0:i=11;break e;case s0:i=14;break e;case ri:i=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Ur(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Pa(t,e,n,r){return t=Ur(7,t,r,e),t.lanes=n,t}function hg(t,e,n,r){return t=Ur(22,t,r,e),t.elementType=yI,t.lanes=n,t.stateNode={isHidden:!1},t}function sy(t,e,n){return t=Ur(6,t,null,e),t.lanes=n,t}function oy(t,e,n){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function V0(t,e,n,r,s,o,i,a,l){return t=new a4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ur(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(o),t}function l4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cP(t){if(!t)return Ai;t=t._reactInternals;e:{if(pl(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(cr(n))return cR(t,n,e)}return e}function uP(t,e,n,r,s,o,i,a,l){return t=V0(n,r,!0,t,s,o,i,a,l),t.context=cP(null),n=t.current,r=Yn(),s=Ti(n),o=xo(r,s),o.callback=e??null,Ei(n,o,s),t.current.lanes=s,bf(t,s,r),ur(t,r),t}function pg(t,e,n,r){var s=e.current,o=Yn(),i=Ti(s);return n=cP(n),e.context===null?e.context=n:e.pendingContext=n,e=xo(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(s,e,i),t!==null&&(vs(t,s,i,o),lp(t,s,i)),i}function om(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function U0(t,e){ZT(t,e),(t=t.alternate)&&ZT(t,e)}function c4(){return null}var dP=typeof reportError=="function"?reportError:function(t){console.error(t)};function $0(t){this._internalRoot=t}mg.prototype.render=$0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));pg(t,e,null,null)};mg.prototype.unmount=$0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fa(function(){pg(null,t,null,null)}),e[Co]=null}};function mg(t){this._internalRoot=t}mg.prototype.unstable_scheduleHydration=function(t){if(t){var e=BI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&WI(t)}};function B0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JT(){}function u4(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=om(i);o.call(c)}}var i=uP(e,r,t,0,null,!1,!1,"",JT);return t._reactRootContainer=i,t[Co]=i.current,Md(t.nodeType===8?t.parentNode:t),Fa(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=om(l);a.call(c)}}var l=V0(t,0,!1,null,null,!1,!1,"",JT);return t._reactRootContainer=l,t[Co]=l.current,Md(t.nodeType===8?t.parentNode:t),Fa(function(){pg(e,l,n,r)}),l}function vg(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=om(i);a.call(l)}}pg(e,i,t,s)}else i=u4(n,e,t,s,r);return om(i)}UI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yu(e.pendingLanes);n!==0&&(a0(e,n|1),ur(e,Qt()),!(ut&6)&&(Ac=Qt()+500,Hi()))}break;case 13:Fa(function(){var r=Io(t,1);if(r!==null){var s=Yn();vs(r,t,1,s)}}),U0(t,1)}};l0=function(t){if(t.tag===13){var e=Io(t,134217728);if(e!==null){var n=Yn();vs(e,t,134217728,n)}U0(t,134217728)}};$I=function(t){if(t.tag===13){var e=Ti(t),n=Io(t,e);if(n!==null){var r=Yn();vs(n,t,e,r)}U0(t,e)}};BI=function(){return yt};zI=function(t,e){var n=yt;try{return yt=t,e()}finally{yt=n}};cw=function(t,e,n){switch(e){case"input":if(nw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ag(r);if(!s)throw Error(ee(90));_I(r),nw(r,s)}}}break;case"textarea":EI(t,n);break;case"select":e=n.value,e!=null&&cc(t,!!n.multiple,e,!1)}};PI=M0;kI=Fa;var d4={usingClientEntryPoint:!1,Events:[Sf,Zl,ag,II,RI,M0]},ju={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f4={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DI(t),t===null?null:t.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||c4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{rg=Fh.inject(f4),zs=Fh}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d4;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B0(e))throw Error(ee(200));return l4(t,e,null,n)};Ar.createRoot=function(t,e){if(!B0(t))throw Error(ee(299));var n=!1,r="",s=dP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=V0(t,1,!1,null,null,n,!1,r,s),t[Co]=e.current,Md(t.nodeType===8?t.parentNode:t),new $0(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=DI(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Fa(t)};Ar.hydrate=function(t,e,n){if(!gg(e))throw Error(ee(200));return vg(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!B0(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=dP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=uP(e,null,t,1,n??null,s,!1,o,i),t[Co]=e.current,Md(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mg(e)};Ar.render=function(t,e,n){if(!gg(e))throw Error(ee(200));return vg(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!gg(t))throw Error(ee(40));return t._reactRootContainer?(Fa(function(){vg(null,null,t,!1,function(){t._reactRootContainer=null,t[Co]=null})}),!0):!1};Ar.unstable_batchedUpdates=M0;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gg(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return vg(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function fP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fP)}catch(t){console.error(t)}}fP(),fI.exports=Ar;var qi=fI.exports;const hP=J1(qi),h4=Z1({__proto__:null,default:hP},[qi]);var pP,eS=qi;pP=eS.createRoot,eS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vt.apply(this,arguments)}var tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tn||(tn={}));const tS="popstate";function p4(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return Wd("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Va(s)}return g4(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m4(){return Math.random().toString(36).substr(2,8)}function nS(t,e){return{usr:t.state,key:t.key,idx:e}}function Wd(t,e,n,r){return n===void 0&&(n=null),Vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ki(e):e,{state:n,key:e&&e.key||r||m4()})}function Va(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=tn.Pop,l=null,c=f();c==null&&(c=0,i.replaceState(Vt({},i.state,{idx:c}),""));function f(){return(i.state||{idx:null}).idx}function h(){a=tn.Pop;let b=f(),E=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:E})}function m(b,E){a=tn.Push;let w=Wd(y.location,b,E);c=f()+1;let S=nS(w,c),C=y.createHref(w);try{i.pushState(S,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(C)}o&&l&&l({action:a,location:y.location,delta:1})}function g(b,E){a=tn.Replace;let w=Wd(y.location,b,E);c=f();let S=nS(w,c),C=y.createHref(w);i.replaceState(S,"",C),o&&l&&l({action:a,location:y.location,delta:0})}function x(b){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:Va(b);return w=w.replace(/ $/,"%20"),Ze(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let y={get action(){return a},get location(){return t(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tS,h),l=b,()=>{s.removeEventListener(tS,h),l=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let E=x(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:g,go(b){return i.go(b)}};return y}var xt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xt||(xt={}));const v4=new Set(["lazy","caseSensitive","path","id","index","children"]);function y4(t){return t.index===!0}function Hd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,o)=>{let i=[...n,String(o)],a=typeof s.id=="string"?s.id:i.join("-");if(Ze(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ze(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),y4(s)){let l=Vt({},s,e(s),{id:a});return r[a]=l,l}else{let l=Vt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Hd(s.children,e,i,r)),l}})}function _a(t,e,n){return n===void 0&&(n="/"),mp(t,e,n,!1)}function mp(t,e,n,r){let s=typeof e=="string"?Ki(e):e,o=ou(s.pathname||"/",n);if(o==null)return null;let i=mP(t);_4(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=A4(o);a=P4(i[l],c,r)}return a}function w4(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function mP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Eo([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(Ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mP(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:I4(c,o.index),routesMeta:f})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of gP(o.path))s(o,i,l)}),e}function gP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=gP(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x4=/^:[\w-]+$/,E4=3,b4=2,T4=1,S4=10,C4=-2,rS=t=>t==="*";function I4(t,e){let n=t.split("/"),r=n.length;return n.some(rS)&&(r+=C4),e&&(r+=b4),n.filter(s=>!rS(s)).reduce((s,o)=>s+(x4.test(o)?E4:o===""?T4:S4),r)}function R4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function P4(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=sS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=sS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Eo([o,h.pathname]),pathnameBase:O4(Eo([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=Eo([o,h.pathnameBase]))}return i}function sS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let y=a[h]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[h];return g&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function k4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function A4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ou(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ki(t):t;return{pathname:n?n.startsWith("/")?n:D4(n,e):e,search:M4(r),hash:j4(s)}}function D4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yg(t,e){let n=vP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ki(t):(s=Vt({},t),Ze(!s.pathname||!s.pathname.includes("?"),iy("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),iy("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),iy("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=N4(s,a),c=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Eo=t=>t.join("/").replace(/\/\/+/g,"/"),O4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class im{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function _g(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yP=["post","put","patch","delete"],L4=new Set(yP),F4=["get",...yP],V4=new Set(F4),U4=new Set([301,302,303,307,308]),$4=new Set([307,308]),ay={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},B4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z4=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),wP="remix-router-transitions";function W4(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ze(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;s=U=>({hasErrorBoundary:F(U)})}else s=z4;let o={},i=Hd(t.routes,s,void 0,o),a,l=t.basename||"/",c=t.unstable_dataStrategy||Q4,f=t.unstable_patchRoutesOnNavigation,h=Vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,g=new Set,x=1e3,y=new Set,b=null,E=null,w=null,S=t.hydrationData!=null,C=_a(i,t.history.location,l),O=null;if(C==null&&!f){let F=zn(404,{pathname:t.history.location.pathname}),{matches:U,route:H}=hS(i);C=U,O={[H.id]:F}}C&&!t.hydrationData&&Zt(C,i,t.history.location.pathname).active&&(C=null);let V;if(C)if(C.some(F=>F.route.lazy))V=!1;else if(!C.some(F=>F.route.loader))V=!0;else if(h.v7_partialHydration){let F=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null,H=Q=>Q.route.loader?typeof Q.route.loader=="function"&&Q.route.loader.hydrate===!0?!1:F&&F[Q.route.id]!==void 0||U&&U[Q.route.id]!==void 0:!0;if(U){let Q=C.findIndex(fe=>U[fe.route.id]!==void 0);V=C.slice(0,Q+1).every(H)}else V=C.every(H)}else V=t.hydrationData!=null;else if(V=!1,C=[],h.v7_partialHydration){let F=Zt(null,i,t.history.location.pathname);F.active&&F.matches&&(C=F.matches)}let R,_={historyAction:t.history.action,location:t.history.location,matches:C,initialized:V,navigation:ay,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},I=tn.Pop,P=!1,D,N=!1,k=new Map,B=null,Y=!1,X=!1,j=[],M=new Set,$=new Map,G=0,re=-1,me=new Map,Ee=new Set,Be=new Map,ht=new Map,He=new Set,ue=new Map,Me=new Map,Ye=new Map,je;function Qe(){if(m=t.history.listen(F=>{let{action:U,location:H,delta:Q}=F;if(je){je(),je=void 0;return}Nc(Me.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Il({currentLocation:_.location,nextLocation:H,historyAction:U});if(fe&&Q!=null){let be=new Promise(Re=>{je=Re});t.history.go(Q*-1),Ds(fe,{state:"blocked",location:H,proceed(){Ds(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),be.then(()=>t.history.go(Q))},reset(){let Re=new Map(_.blockers);Re.set(fe,Lu),lt({blockers:Re})}});return}return L(U,H)}),n){dU(e,k);let F=()=>fU(e,k);e.addEventListener("pagehide",F),B=()=>e.removeEventListener("pagehide",F)}return _.initialized||L(tn.Pop,_.location,{initialHydration:!0}),R}function Xe(){m&&m(),B&&B(),g.clear(),D&&D.abort(),_.fetchers.forEach((F,U)=>Ns(U)),_.blockers.forEach((F,U)=>wu(U))}function Dt(F){return g.add(F),()=>g.delete(F)}function lt(F,U){U===void 0&&(U={}),_=Vt({},_,F);let H=[],Q=[];h.v7_fetcherPersist&&_.fetchers.forEach((fe,be)=>{fe.state==="idle"&&(He.has(be)?Q.push(be):H.push(be))}),[...g].forEach(fe=>fe(_,{deletedFetchers:Q,unstable_viewTransitionOpts:U.viewTransitionOpts,unstable_flushSync:U.flushSync===!0})),h.v7_fetcherPersist&&(H.forEach(fe=>_.fetchers.delete(fe)),Q.forEach(fe=>Ns(fe)))}function gn(F,U,H){var Q,fe;let{flushSync:be}=H===void 0?{}:H,Re=_.actionData!=null&&_.navigation.formMethod!=null&&cs(_.navigation.formMethod)&&_.navigation.state==="loading"&&((Q=F.state)==null?void 0:Q._isRedirect)!==!0,ie;U.actionData?Object.keys(U.actionData).length>0?ie=U.actionData:ie=null:Re?ie=_.actionData:ie=null;let xe=U.loaderData?dS(_.loaderData,U.loaderData,U.matches||[],U.errors):_.loaderData,ve=_.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((ct,_t)=>ve.set(_t,Lu)));let _e=P===!0||_.navigation.formMethod!=null&&cs(_.navigation.formMethod)&&((fe=F.state)==null?void 0:fe._isRedirect)!==!0;a&&(i=a,a=void 0),Y||I===tn.Pop||(I===tn.Push?t.history.push(F,F.state):I===tn.Replace&&t.history.replace(F,F.state));let st;if(I===tn.Pop){let ct=k.get(_.location.pathname);ct&&ct.has(F.pathname)?st={currentLocation:_.location,nextLocation:F}:k.has(F.pathname)&&(st={currentLocation:F,nextLocation:_.location})}else if(N){let ct=k.get(_.location.pathname);ct?ct.add(F.pathname):(ct=new Set([F.pathname]),k.set(_.location.pathname,ct)),st={currentLocation:_.location,nextLocation:F}}lt(Vt({},U,{actionData:ie,loaderData:xe,historyAction:I,location:F,initialized:!0,navigation:ay,revalidation:"idle",restoreScrollPosition:xu(F,U.matches||_.matches),preventScrollReset:_e,blockers:ve}),{viewTransitionOpts:st,flushSync:be===!0}),I=tn.Pop,P=!1,N=!1,Y=!1,X=!1,j=[]}async function Dr(F,U){if(typeof F=="number"){t.history.go(F);return}let H=Bw(_.location,_.matches,l,h.v7_prependBasename,F,h.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:Q,submission:fe,error:be}=oS(h.v7_normalizeFormMethod,!1,H,U),Re=_.location,ie=Wd(_.location,Q,U&&U.state);ie=Vt({},ie,t.history.encodeLocation(ie));let xe=U&&U.replace!=null?U.replace:void 0,ve=tn.Push;xe===!0?ve=tn.Replace:xe===!1||fe!=null&&cs(fe.formMethod)&&fe.formAction===_.location.pathname+_.location.search&&(ve=tn.Replace);let _e=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,st=(U&&U.unstable_flushSync)===!0,ct=Il({currentLocation:Re,nextLocation:ie,historyAction:ve});if(ct){Ds(ct,{state:"blocked",location:ie,proceed(){Ds(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Dr(F,U)},reset(){let _t=new Map(_.blockers);_t.set(ct,Lu),lt({blockers:_t})}});return}return await L(ve,ie,{submission:fe,pendingError:be,preventScrollReset:_e,replace:U&&U.replace,enableViewTransition:U&&U.unstable_viewTransition,flushSync:st})}function ks(){if(Wo(),lt({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){L(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}L(I||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:N===!0})}}async function L(F,U,H){D&&D.abort(),D=null,I=F,Y=(H&&H.startUninterruptedRevalidation)===!0,la(_.location,_.matches),P=(H&&H.preventScrollReset)===!0,N=(H&&H.enableViewTransition)===!0;let Q=a||i,fe=H&&H.overrideNavigation,be=_a(Q,U,l),Re=(H&&H.flushSync)===!0,ie=Zt(be,Q,U.pathname);if(ie.active&&ie.matches&&(be=ie.matches),!be){let{error:et,notFoundMatches:Jt,route:It}=aa(U.pathname);gn(U,{matches:Jt,loaderData:{},errors:{[It.id]:et}},{flushSync:Re});return}if(_.initialized&&!X&&nU(_.location,U)&&!(H&&H.submission&&cs(H.submission.formMethod))){gn(U,{matches:be},{flushSync:Re});return}D=new AbortController;let xe=Ol(t.history,U,D.signal,H&&H.submission),ve;if(H&&H.pendingError)ve=[oc(be).route.id,{type:xt.error,error:H.pendingError}];else if(H&&H.submission&&cs(H.submission.formMethod)){let et=await W(xe,U,H.submission,be,ie.active,{replace:H.replace,flushSync:Re});if(et.shortCircuited)return;if(et.pendingActionResult){let[Jt,It]=et.pendingActionResult;if(vr(It)&&_g(It.error)&&It.error.status===404){D=null,gn(U,{matches:et.matches,loaderData:{},errors:{[Jt]:It.error}});return}}be=et.matches||be,ve=et.pendingActionResult,fe=ly(U,H.submission),Re=!1,ie.active=!1,xe=Ol(t.history,xe.url,xe.signal)}let{shortCircuited:_e,matches:st,loaderData:ct,errors:_t}=await K(xe,U,be,ie.active,fe,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,Re,ve);_e||(D=null,gn(U,Vt({matches:st||be},fS(ve),{loaderData:ct,errors:_t})))}async function W(F,U,H,Q,fe,be){be===void 0&&(be={}),Wo();let Re=cU(U,H);if(lt({navigation:Re},{flushSync:be.flushSync===!0}),fe){let ve=await ca(Q,U.pathname,F.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let{boundaryId:_e,error:st}=Or(U.pathname,ve);return{matches:ve.partialMatches,pendingActionResult:[_e,{type:xt.error,error:st}]}}else if(ve.matches)Q=ve.matches;else{let{notFoundMatches:_e,error:st,route:ct}=aa(U.pathname);return{matches:_e,pendingActionResult:[ct.id,{type:xt.error,error:st}]}}}let ie,xe=Xu(Q,U);if(!xe.route.action&&!xe.route.lazy)ie={type:xt.error,error:zn(405,{method:F.method,pathname:U.pathname,routeId:xe.route.id})};else if(ie=(await Ke("action",_,F,[xe],Q,null))[xe.route.id],F.signal.aborted)return{shortCircuited:!0};if(Ta(ie)){let ve;return be&&be.replace!=null?ve=be.replace:ve=lS(ie.response.headers.get("Location"),new URL(F.url),l)===_.location.pathname+_.location.search,await Ue(F,ie,!0,{submission:H,replace:ve}),{shortCircuited:!0}}if(mi(ie))throw zn(400,{type:"defer-action"});if(vr(ie)){let ve=oc(Q,xe.route.id);return(be&&be.replace)!==!0&&(I=tn.Push),{matches:Q,pendingActionResult:[ve.route.id,ie]}}return{matches:Q,pendingActionResult:[xe.route.id,ie]}}async function K(F,U,H,Q,fe,be,Re,ie,xe,ve,_e){let st=fe||ly(U,be),ct=be||Re||mS(st),_t=!Y&&(!h.v7_partialHydration||!xe);if(Q){if(_t){let Tt=ce(_e);lt(Vt({navigation:st},Tt!==void 0?{actionData:Tt}:{}),{flushSync:ve})}let Le=await ca(H,U.pathname,F.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let{boundaryId:Tt,error:Cn}=Or(U.pathname,Le);return{matches:Le.partialMatches,loaderData:{},errors:{[Tt]:Cn}}}else if(Le.matches)H=Le.matches;else{let{error:Tt,notFoundMatches:Cn,route:Rt}=aa(U.pathname);return{matches:Cn,loaderData:{},errors:{[Rt.id]:Tt}}}}let et=a||i,[Jt,It]=iS(t.history,_,H,ct,U,h.v7_partialHydration&&xe===!0,h.v7_skipActionErrorRevalidation,X,j,M,He,Be,Ee,et,l,_e);if(Rl(Le=>!(H&&H.some(Tt=>Tt.route.id===Le))||Jt&&Jt.some(Tt=>Tt.route.id===Le)),re=++G,Jt.length===0&&It.length===0){let Le=ah();return gn(U,Vt({matches:H,loaderData:{},errors:_e&&vr(_e[1])?{[_e[0]]:_e[1].error}:null},fS(_e),Le?{fetchers:new Map(_.fetchers)}:{}),{flushSync:ve}),{shortCircuited:!0}}if(_t){let Le={};if(!Q){Le.navigation=st;let Tt=ce(_e);Tt!==void 0&&(Le.actionData=Tt)}It.length>0&&(Le.fetchers=oe(It)),lt(Le,{flushSync:ve})}It.forEach(Le=>{$.has(Le.key)&&$n(Le.key),Le.controller&&$.set(Le.key,Le.controller)});let qo=()=>It.forEach(Le=>$n(Le.key));D&&D.signal.addEventListener("abort",qo);let{loaderResults:pr,fetcherResults:Mr}=await Fn(_,H,Jt,It,F);if(F.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",qo),It.forEach(Le=>$.delete(Le.key));let Sn=Vh(pr);if(Sn)return await Ue(F,Sn.result,!0,{replace:ie}),{shortCircuited:!0};if(Sn=Vh(Mr),Sn)return Ee.add(Sn.key),await Ue(F,Sn.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:Ko,errors:ns}=uS(_,H,Jt,pr,_e,It,Mr,ue);ue.forEach((Le,Tt)=>{Le.subscribe(Cn=>{(Cn||Le.done)&&ue.delete(Tt)})}),h.v7_partialHydration&&xe&&_.errors&&Object.entries(_.errors).filter(Le=>{let[Tt]=Le;return!Jt.some(Cn=>Cn.route.id===Tt)}).forEach(Le=>{let[Tt,Cn]=Le;ns=Object.assign(ns||{},{[Tt]:Cn})});let da=ah(),fa=Cl(re),ha=da||fa||It.length>0;return Vt({matches:H,loaderData:Ko,errors:ns},ha?{fetchers:new Map(_.fetchers)}:{})}function ce(F){if(F&&!vr(F[1]))return{[F[0]]:F[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function oe(F){return F.forEach(U=>{let H=_.fetchers.get(U.key),Q=Fu(void 0,H?H.data:void 0);_.fetchers.set(U.key,Q)}),new Map(_.fetchers)}function ne(F,U,H,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(F)&&$n(F);let fe=(Q&&Q.unstable_flushSync)===!0,be=a||i,Re=Bw(_.location,_.matches,l,h.v7_prependBasename,H,h.v7_relativeSplatPath,U,Q==null?void 0:Q.relative),ie=_a(be,Re,l),xe=Zt(ie,be,Re);if(xe.active&&xe.matches&&(ie=xe.matches),!ie){Un(F,U,zn(404,{pathname:Re}),{flushSync:fe});return}let{path:ve,submission:_e,error:st}=oS(h.v7_normalizeFormMethod,!0,Re,Q);if(st){Un(F,U,st,{flushSync:fe});return}let ct=Xu(ie,ve);if(P=(Q&&Q.preventScrollReset)===!0,_e&&cs(_e.formMethod)){we(F,U,ve,ct,ie,xe.active,fe,_e);return}Be.set(F,{routeId:U,path:ve}),rt(F,U,ve,ct,ie,xe.active,fe,_e)}async function we(F,U,H,Q,fe,be,Re,ie){Wo(),Be.delete(F);function xe(Rt){if(!Rt.route.action&&!Rt.route.lazy){let rs=zn(405,{method:ie.formMethod,pathname:H,routeId:U});return Un(F,U,rs,{flushSync:Re}),!0}return!1}if(!be&&xe(Q))return;let ve=_.fetchers.get(F);Vn(F,uU(ie,ve),{flushSync:Re});let _e=new AbortController,st=Ol(t.history,H,_e.signal,ie);if(be){let Rt=await ca(fe,H,st.signal);if(Rt.type==="aborted")return;if(Rt.type==="error"){let{error:rs}=Or(H,Rt);Un(F,U,rs,{flushSync:Re});return}else if(Rt.matches){if(fe=Rt.matches,Q=Xu(fe,H),xe(Q))return}else{Un(F,U,zn(404,{pathname:H}),{flushSync:Re});return}}$.set(F,_e);let ct=G,et=(await Ke("action",_,st,[Q],fe,F))[Q.route.id];if(st.signal.aborted){$.get(F)===_e&&$.delete(F);return}if(h.v7_fetcherPersist&&He.has(F)){if(Ta(et)||vr(et)){Vn(F,ti(void 0));return}}else{if(Ta(et))if($.delete(F),re>ct){Vn(F,ti(void 0));return}else return Ee.add(F),Vn(F,Fu(ie)),Ue(st,et,!1,{fetcherSubmission:ie});if(vr(et)){Un(F,U,et.error);return}}if(mi(et))throw zn(400,{type:"defer-action"});let Jt=_.navigation.location||_.location,It=Ol(t.history,Jt,_e.signal),qo=a||i,pr=_.navigation.state!=="idle"?_a(qo,_.navigation.location,l):_.matches;Ze(pr,"Didn't find any matches after fetcher action");let Mr=++G;me.set(F,Mr);let Sn=Fu(ie,et.data);_.fetchers.set(F,Sn);let[Ko,ns]=iS(t.history,_,pr,ie,Jt,!1,h.v7_skipActionErrorRevalidation,X,j,M,He,Be,Ee,qo,l,[Q.route.id,et]);ns.filter(Rt=>Rt.key!==F).forEach(Rt=>{let rs=Rt.key,ch=_.fetchers.get(rs),uh=Fu(void 0,ch?ch.data:void 0);_.fetchers.set(rs,uh),$.has(rs)&&$n(rs),Rt.controller&&$.set(rs,Rt.controller)}),lt({fetchers:new Map(_.fetchers)});let da=()=>ns.forEach(Rt=>$n(Rt.key));_e.signal.addEventListener("abort",da);let{loaderResults:fa,fetcherResults:ha}=await Fn(_,pr,Ko,ns,It);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",da),me.delete(F),$.delete(F),ns.forEach(Rt=>$.delete(Rt.key));let Le=Vh(fa);if(Le)return Ue(It,Le.result,!1);if(Le=Vh(ha),Le)return Ee.add(Le.key),Ue(It,Le.result,!1);let{loaderData:Tt,errors:Cn}=uS(_,pr,Ko,fa,void 0,ns,ha,ue);if(_.fetchers.has(F)){let Rt=ti(et.data);_.fetchers.set(F,Rt)}Cl(Mr),_.navigation.state==="loading"&&Mr>re?(Ze(I,"Expected pending action"),D&&D.abort(),gn(_.navigation.location,{matches:pr,loaderData:Tt,errors:Cn,fetchers:new Map(_.fetchers)})):(lt({errors:Cn,loaderData:dS(_.loaderData,Tt,pr,Cn),fetchers:new Map(_.fetchers)}),X=!1)}async function rt(F,U,H,Q,fe,be,Re,ie){let xe=_.fetchers.get(F);Vn(F,Fu(ie,xe?xe.data:void 0),{flushSync:Re});let ve=new AbortController,_e=Ol(t.history,H,ve.signal);if(be){let et=await ca(fe,H,_e.signal);if(et.type==="aborted")return;if(et.type==="error"){let{error:Jt}=Or(H,et);Un(F,U,Jt,{flushSync:Re});return}else if(et.matches)fe=et.matches,Q=Xu(fe,H);else{Un(F,U,zn(404,{pathname:H}),{flushSync:Re});return}}$.set(F,ve);let st=G,_t=(await Ke("loader",_,_e,[Q],fe,F))[Q.route.id];if(mi(_t)&&(_t=await W0(_t,_e.signal,!0)||_t),$.get(F)===ve&&$.delete(F),!_e.signal.aborted){if(He.has(F)){Vn(F,ti(void 0));return}if(Ta(_t))if(re>st){Vn(F,ti(void 0));return}else{Ee.add(F),await Ue(_e,_t,!1);return}if(vr(_t)){Un(F,U,_t.error);return}Ze(!mi(_t),"Unhandled fetcher deferred data"),Vn(F,ti(_t.data))}}async function Ue(F,U,H,Q){let{submission:fe,fetcherSubmission:be,replace:Re}=Q===void 0?{}:Q;U.response.headers.has("X-Remix-Revalidate")&&(X=!0);let ie=U.response.headers.get("Location");Ze(ie,"Expected a Location header on the redirect Response"),ie=lS(ie,new URL(F.url),l);let xe=Wd(_.location,ie,{_isRedirect:!0});if(n){let et=!1;if(U.response.headers.has("X-Remix-Reload-Document"))et=!0;else if(z0.test(ie)){const Jt=t.history.createURL(ie);et=Jt.origin!==e.location.origin||ou(Jt.pathname,l)==null}if(et){Re?e.location.replace(ie):e.location.assign(ie);return}}D=null;let ve=Re===!0||U.response.headers.has("X-Remix-Replace")?tn.Replace:tn.Push,{formMethod:_e,formAction:st,formEncType:ct}=_.navigation;!fe&&!be&&_e&&st&&ct&&(fe=mS(_.navigation));let _t=fe||be;if($4.has(U.response.status)&&_t&&cs(_t.formMethod))await L(ve,xe,{submission:Vt({},_t,{formAction:ie}),preventScrollReset:P,enableViewTransition:H?N:void 0});else{let et=ly(xe,fe);await L(ve,xe,{overrideNavigation:et,fetcherSubmission:be,preventScrollReset:P,enableViewTransition:H?N:void 0})}}async function Ke(F,U,H,Q,fe,be){let Re,ie={};try{Re=await X4(c,F,U,H,Q,fe,be,o,s)}catch(xe){return Q.forEach(ve=>{ie[ve.route.id]={type:xt.error,error:xe}}),ie}for(let[xe,ve]of Object.entries(Re))if(sU(ve)){let _e=ve.result;ie[xe]={type:xt.redirect,response:eU(_e,H,xe,fe,l,h.v7_relativeSplatPath)}}else ie[xe]=await J4(ve);return ie}async function Fn(F,U,H,Q,fe){let be=F.matches,Re=Ke("loader",F,fe,H,U,null),ie=Promise.all(Q.map(async _e=>{if(_e.matches&&_e.match&&_e.controller){let ct=(await Ke("loader",F,Ol(t.history,_e.path,_e.controller.signal),[_e.match],_e.matches,_e.key))[_e.match.route.id];return{[_e.key]:ct}}else return Promise.resolve({[_e.key]:{type:xt.error,error:zn(404,{pathname:_e.path})}})})),xe=await Re,ve=(await ie).reduce((_e,st)=>Object.assign(_e,st),{});return await Promise.all([aU(U,xe,fe.signal,be,F.loaderData),lU(U,ve,Q)]),{loaderResults:xe,fetcherResults:ve}}function Wo(){X=!0,j.push(...Rl()),Be.forEach((F,U)=>{$.has(U)&&(M.add(U),$n(U))})}function Vn(F,U,H){H===void 0&&(H={}),_.fetchers.set(F,U),lt({fetchers:new Map(_.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Un(F,U,H,Q){Q===void 0&&(Q={});let fe=oc(_.matches,U);Ns(F),lt({errors:{[fe.route.id]:H},fetchers:new Map(_.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function As(F){return h.v7_fetcherPersist&&(ht.set(F,(ht.get(F)||0)+1),He.has(F)&&He.delete(F)),_.fetchers.get(F)||B4}function Ns(F){let U=_.fetchers.get(F);$.has(F)&&!(U&&U.state==="loading"&&me.has(F))&&$n(F),Be.delete(F),me.delete(F),Ee.delete(F),He.delete(F),M.delete(F),_.fetchers.delete(F)}function Sl(F){if(h.v7_fetcherPersist){let U=(ht.get(F)||0)-1;U<=0?(ht.delete(F),He.add(F)):ht.set(F,U)}else Ns(F);lt({fetchers:new Map(_.fetchers)})}function $n(F){let U=$.get(F);Ze(U,"Expected fetch controller: "+F),U.abort(),$.delete(F)}function ih(F){for(let U of F){let H=As(U),Q=ti(H.data);_.fetchers.set(U,Q)}}function ah(){let F=[],U=!1;for(let H of Ee){let Q=_.fetchers.get(H);Ze(Q,"Expected fetcher: "+H),Q.state==="loading"&&(Ee.delete(H),F.push(H),U=!0)}return ih(F),U}function Cl(F){let U=[];for(let[H,Q]of me)if(Q<F){let fe=_.fetchers.get(H);Ze(fe,"Expected fetcher: "+H),fe.state==="loading"&&($n(H),me.delete(H),U.push(H))}return ih(U),U.length>0}function lh(F,U){let H=_.blockers.get(F)||Lu;return Me.get(F)!==U&&Me.set(F,U),H}function wu(F){_.blockers.delete(F),Me.delete(F)}function Ds(F,U){let H=_.blockers.get(F)||Lu;Ze(H.state==="unblocked"&&U.state==="blocked"||H.state==="blocked"&&U.state==="blocked"||H.state==="blocked"&&U.state==="proceeding"||H.state==="blocked"&&U.state==="unblocked"||H.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+U.state);let Q=new Map(_.blockers);Q.set(F,U),lt({blockers:Q})}function Il(F){let{currentLocation:U,nextLocation:H,historyAction:Q}=F;if(Me.size===0)return;Me.size>1&&Nc(!1,"A router only supports one blocker at a time");let fe=Array.from(Me.entries()),[be,Re]=fe[fe.length-1],ie=_.blockers.get(be);if(!(ie&&ie.state==="proceeding")&&Re({currentLocation:U,nextLocation:H,historyAction:Q}))return be}function aa(F){let U=zn(404,{pathname:F}),H=a||i,{matches:Q,route:fe}=hS(H);return Rl(),{notFoundMatches:Q,route:fe,error:U}}function Or(F,U){return{boundaryId:oc(U.partialMatches).route.id,error:zn(400,{type:"route-discovery",pathname:F,message:U.error!=null&&"message"in U.error?U.error:String(U.error)})}}function Rl(F){let U=[];return ue.forEach((H,Q)=>{(!F||F(Q))&&(H.cancel(),U.push(Q),ue.delete(Q))}),U}function Pl(F,U,H){if(b=F,w=U,E=H||null,!S&&_.navigation===ay){S=!0;let Q=xu(_.location,_.matches);Q!=null&&lt({restoreScrollPosition:Q})}return()=>{b=null,w=null,E=null}}function _u(F,U){return E&&E(F,U.map(Q=>w4(Q,_.loaderData)))||F.key}function la(F,U){if(b&&w){let H=_u(F,U);b[H]=w()}}function xu(F,U){if(b){let H=_u(F,U),Q=b[H];if(typeof Q=="number")return Q}return null}function Zt(F,U,H){if(f){if(y.has(H))return{active:!1,matches:F};if(F){if(Object.keys(F[0].params).length>0)return{active:!0,matches:mp(U,H,l,!0)}}else return{active:!0,matches:mp(U,H,l,!0)||[]}}return{active:!1,matches:null}}async function ca(F,U,H){let Q=F;for(;;){let fe=a==null,be=a||i;try{await G4(f,U,Q,be,o,s,Ye,H)}catch(xe){return{type:"error",error:xe,partialMatches:Q}}finally{fe&&(i=[...i])}if(H.aborted)return{type:"aborted"};let Re=_a(be,U,l);if(Re)return Ho(U,y),{type:"success",matches:Re};let ie=mp(be,U,l,!0);if(!ie||Q.length===ie.length&&Q.every((xe,ve)=>xe.route.id===ie[ve].route.id))return Ho(U,y),{type:"success",matches:null};Q=ie}}function Ho(F,U){if(U.size>=x){let H=U.values().next().value;U.delete(H)}U.add(F)}function ua(F){o={},a=Hd(F,s,void 0,o)}function Rv(F,U){let H=a==null;xP(F,U,a||i,o,s),H&&(i=[...i],lt({}))}return R={get basename(){return l},get future(){return h},get state(){return _},get routes(){return i},get window(){return e},initialize:Qe,subscribe:Dt,enableScrollRestoration:Pl,navigate:Dr,fetch:ne,revalidate:ks,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:As,deleteFetcher:Sl,dispose:Xe,getBlocker:lh,deleteBlocker:wu,patchRoutes:Rv,_internalFetchControllers:$,_internalActiveDeferreds:ue,_internalSetRoutes:ua},R}function H4(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Bw(t,e,n,r,s,o,i,a){let l,c;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){c=h;break}}else l=e,c=e[e.length-1];let f=wg(s||".",yg(l,o),ou(t.pathname,n)||t.pathname,a==="path");return s==null&&(f.search=t.search,f.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!H0(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Eo([n,f.pathname])),Va(f)}function oS(t,e,n,r){if(!r||!H4(r))return{path:n};if(r.formMethod&&!iU(r.formMethod))return{path:n,error:zn(405,{method:r.formMethod})};let s=()=>({path:n,error:zn(400,{type:"invalid-body"})}),o=r.formMethod||"get",i=t?o.toUpperCase():o.toLowerCase(),a=EP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!cs(i))return s();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,x)=>{let[y,b]=x;return""+g+y+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!cs(i))return s();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return s()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=zw(r.formData),c=r.formData;else if(r.body instanceof FormData)l=zw(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=cS(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=cS(l)}catch{return s()}let f={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(cs(f.formMethod))return{path:n,submission:f};let h=Ki(n);return e&&h.search&&H0(h.search)&&l.append("index",""),h.search="?"+l,{path:Va(h),submission:f}}function q4(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function iS(t,e,n,r,s,o,i,a,l,c,f,h,m,g,x,y){let b=y?vr(y[1])?y[1].error:y[1].data:void 0,E=t.createURL(e.location),w=t.createURL(s),S=y&&vr(y[1])?y[0]:void 0,C=S?q4(n,S):n,O=y?y[1].statusCode:void 0,V=i&&O&&O>=400,R=C.filter((I,P)=>{let{route:D}=I;if(D.lazy)return!0;if(D.loader==null)return!1;if(o)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(K4(e.loaderData,e.matches[P],I)||l.some(B=>B===I.route.id))return!0;let N=e.matches[P],k=I;return aS(I,Vt({currentUrl:E,currentParams:N.params,nextUrl:w,nextParams:k.params},r,{actionResult:b,actionStatus:O,defaultShouldRevalidate:V?!1:a||E.pathname+E.search===w.pathname+w.search||E.search!==w.search||_P(N,k)}))}),_=[];return h.forEach((I,P)=>{if(o||!n.some(Y=>Y.route.id===I.routeId)||f.has(P))return;let D=_a(g,I.path,x);if(!D){_.push({key:P,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(P),k=Xu(D,I.path),B=!1;m.has(P)?B=!1:c.has(P)?(c.delete(P),B=!0):N&&N.state!=="idle"&&N.data===void 0?B=a:B=aS(k,Vt({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:O,defaultShouldRevalidate:V?!1:a})),B&&_.push({key:P,routeId:I.routeId,path:I.path,matches:D,match:k,controller:new AbortController})}),[R,_]}function K4(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function _P(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function aS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function G4(t,e,n,r,s,o,i,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=i.get(l);c||(c=t({path:e,matches:n,patch:(f,h)=>{a.aborted||xP(f,h,r,s,o)}}),i.set(l,c)),c&&rU(c)&&await c}finally{i.delete(l)}}function xP(t,e,n,r,s){if(t){var o;let i=r[t];Ze(i,"No route found to patch children into: routeId = "+t);let a=Hd(e,s,[t,"patch",String(((o=i.children)==null?void 0:o.length)||"0")],r);i.children?i.children.push(...a):i.children=a}else{let i=Hd(e,s,["patch",String(n.length||"0")],r);n.push(...i)}}async function Y4(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ze(s,"No route found in manifest");let o={};for(let i in r){let l=s[i]!==void 0&&i!=="hasErrorBoundary";Nc(!l,'Route "'+s.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!l&&!v4.has(i)&&(o[i]=r[i])}Object.assign(s,o),Object.assign(s,Vt({},e(s),{lazy:void 0}))}async function Q4(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,o,i)=>Object.assign(s,{[n[i].route.id]:o}),{})}async function X4(t,e,n,r,s,o,i,a,l,c){let f=o.map(g=>g.route.lazy?Y4(g.route,l,a):void 0),h=o.map((g,x)=>{let y=f[x],b=s.some(w=>w.route.id===g.route.id);return Vt({},g,{shouldLoad:b,resolve:async w=>(w&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(b=!0),b?Z4(e,r,g,y,w,c):Promise.resolve({type:xt.data,result:void 0}))})}),m=await t({matches:h,request:r,params:o[0].params,fetcherKey:i,context:c});try{await Promise.all(f)}catch{}return m}async function Z4(t,e,n,r,s,o){let i,a,l=c=>{let f,h=new Promise((x,y)=>f=y);a=()=>f(),e.signal.addEventListener("abort",a);let m=x=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...x!==void 0?[x]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(y=>m(y)):m())}}catch(x){return{type:"error",result:x}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let f,[h]=await Promise.all([l(c).catch(m=>{f=m}),r]);if(f!==void 0)throw f;i=h}else if(await r,c=n.route[t],c)i=await l(c);else if(t==="action"){let f=new URL(e.url),h=f.pathname+f.search;throw zn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:xt.data,result:void 0};else if(c)i=await l(c);else{let f=new URL(e.url),h=f.pathname+f.search;throw zn(404,{pathname:h})}Ze(i.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:xt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return i}async function J4(t){let{result:e,type:n}=t;if(bP(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:xt.error,error:f}}return n===xt.error?{type:xt.error,error:new im(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:xt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===xt.error){if(pS(e)){var r;if(e.data instanceof Error){var s;return{type:xt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new im(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:xt.error,error:e,statusCode:_g(e)?e.status:void 0}}if(oU(e)){var o,i;return{type:xt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((i=e.init)==null?void 0:i.headers)&&new Headers(e.init.headers)}}if(pS(e)){var a,l;return{type:xt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:xt.data,data:e}}function eU(t,e,n,r,s,o){let i=t.headers.get("Location");if(Ze(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!z0.test(i)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);i=Bw(new URL(e.url),a,s,!0,i,o),t.headers.set("Location",i)}return t}function lS(t,e,n){if(z0.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ou(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Ol(t,e,n,r){let s=t.createURL(EP(e)).toString(),o={signal:n};if(r&&cs(r.formMethod)){let{formMethod:i,formEncType:a}=r;o.method=i.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=zw(r.formData):o.body=r.formData}return new Request(s,o)}function zw(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function cS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function tU(t,e,n,r,s){let o={},i=null,a,l=!1,c={},f=n&&vr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let m=h.route.id,g=e[m];if(Ze(!Ta(g),"Cannot handle redirect results in processLoaderData"),vr(g)){let x=g.error;f!==void 0&&(x=f,f=void 0),i=i||{};{let y=oc(t,m);i[y.route.id]==null&&(i[y.route.id]=x)}o[m]=void 0,l||(l=!0,a=_g(g.error)?g.error.status:500),g.headers&&(c[m]=g.headers)}else mi(g)?(r.set(m,g.deferredData),o[m]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[m]=g.headers)):(o[m]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[m]=g.headers))}),f!==void 0&&n&&(i={[n[0]]:f},o[n[0]]=void 0),{loaderData:o,errors:i,statusCode:a||200,loaderHeaders:c}}function uS(t,e,n,r,s,o,i,a){let{loaderData:l,errors:c}=tU(e,r,s,a);return o.forEach(f=>{let{key:h,match:m,controller:g}=f,x=i[h];if(Ze(x,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(vr(x)){let y=oc(t.matches,m==null?void 0:m.route.id);c&&c[y.route.id]||(c=Vt({},c,{[y.route.id]:x.error})),t.fetchers.delete(h)}else if(Ta(x))Ze(!1,"Unhandled fetcher revalidation redirect");else if(mi(x))Ze(!1,"Unhandled fetcher deferred data");else{let y=ti(x.data);t.fetchers.set(h,y)}}),{loaderData:l,errors:c}}function dS(t,e,n,r){let s=Vt({},e);for(let o of n){let i=o.route.id;if(e.hasOwnProperty(i)?e[i]!==void 0&&(s[i]=e[i]):t[i]!==void 0&&o.route.loader&&(s[i]=t[i]),r&&r.hasOwnProperty(i))break}return s}function fS(t){return t?vr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function oc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zn(t,e){let{pathname:n,routeId:r,method:s,type:o,message:i}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",o==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+i):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new im(t||500,a,new Error(l),!0)}function Vh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ta(s))return{key:r,result:s}}}function EP(t){let e=typeof t=="string"?Ki(t):t;return Va(Vt({},e,{hash:""}))}function nU(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function rU(t){return typeof t=="object"&&t!=null&&"then"in t}function sU(t){return bP(t.result)&&U4.has(t.result.status)}function mi(t){return t.type===xt.deferred}function vr(t){return t.type===xt.error}function Ta(t){return(t&&t.type)===xt.redirect}function pS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function oU(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iU(t){return V4.has(t.toLowerCase())}function cs(t){return L4.has(t.toLowerCase())}async function aU(t,e,n,r,s){let o=Object.entries(e);for(let i=0;i<o.length;i++){let[a,l]=o[i],c=t.find(m=>(m==null?void 0:m.route.id)===a);if(!c)continue;let f=r.find(m=>m.route.id===c.route.id),h=f!=null&&!_P(f,c)&&(s&&s[c.route.id])!==void 0;mi(l)&&h&&await W0(l,n,!1).then(m=>{m&&(e[a]=m)})}}async function lU(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:o,controller:i}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===o)&&mi(a)&&(Ze(i,"Expected an AbortController for revalidating fetcher deferred result"),await W0(a,i.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function W0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:xt.error,error:s}}return{type:xt.data,data:t.deferredData.data}}}function H0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xu(t,e){let n=typeof e=="string"?Ki(e).search:e.search;if(t[t.length-1].route.index&&H0(n||""))return t[t.length-1];let r=vP(t);return r[r.length-1]}function mS(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:o,json:i}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(i!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:i,text:void 0}}}function ly(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cU(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function uU(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ti(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function dU(t,e){try{let n=t.sessionStorage.getItem(wP);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function fU(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(wP,JSON.stringify(n))}catch(r){Nc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}const xg=p.createContext(null),TP=p.createContext(null),Gi=p.createContext(null),q0=p.createContext(null),Lo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),SP=p.createContext(null);function hU(t,e){let{relative:n}=e===void 0?{}:e;iu()||Ze(!1);let{basename:r,navigator:s}=p.useContext(Gi),{hash:o,pathname:i,search:a}=RP(t,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Eo([r,i])),s.createHref({pathname:l,search:a,hash:o})}function iu(){return p.useContext(q0)!=null}function au(){return iu()||Ze(!1),p.useContext(q0).location}function CP(t){p.useContext(Gi).static||p.useLayoutEffect(t)}function IP(){let{isDataRoute:t}=p.useContext(Lo);return t?IU():pU()}function pU(){iu()||Ze(!1);let t=p.useContext(xg),{basename:e,future:n,navigator:r}=p.useContext(Gi),{matches:s}=p.useContext(Lo),{pathname:o}=au(),i=JSON.stringify(yg(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return CP(()=>{a.current=!0}),p.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=wg(c,JSON.parse(i),o,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Eo([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,i,o,t])}const mU=p.createContext(null);function gU(t){let e=p.useContext(Lo).outlet;return e&&p.createElement(mU.Provider,{value:t},e)}function RP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Gi),{matches:s}=p.useContext(Lo),{pathname:o}=au(),i=JSON.stringify(yg(s,r.v7_relativeSplatPath));return p.useMemo(()=>wg(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function vU(t,e,n,r){iu()||Ze(!1);let{navigator:s}=p.useContext(Gi),{matches:o}=p.useContext(Lo),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=au(),f;f=c;let h=f.pathname||"/",m=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=_a(t,{pathname:m});return EU(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Eo([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Eo([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r)}function yU(){let t=CU(),e=_g(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const wU=p.createElement(yU,null);class _U extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Lo.Provider,{value:this.props.routeContext},p.createElement(SP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xU(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(xg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Lo.Provider,{value:e},r)}function EU(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||Ze(!1),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:g}=n,x=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let g,x=!1,y=null,b=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||wU,l&&(c<0&&m===0?(RU("route-fallback"),x=!0,b=null):c===m&&(x=!0,b=h.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,m+1)),w=()=>{let S;return g?S=y:x?S=b:h.route.Component?S=p.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,p.createElement(xU,{match:h,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(_U,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var PP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PP||{}),lm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lm||{});function bU(t){let e=p.useContext(xg);return e||Ze(!1),e}function TU(t){let e=p.useContext(TP);return e||Ze(!1),e}function SU(t){let e=p.useContext(Lo);return e||Ze(!1),e}function kP(t){let e=SU(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function CU(){var t;let e=p.useContext(SP),n=TU(lm.UseRouteError),r=kP(lm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function IU(){let{router:t}=bU(PP.UseNavigateStable),e=kP(lm.UseNavigateStable),n=p.useRef(!1);return CP(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,am({fromRouteId:e},o)))},[t,e])}const gS={};function RU(t,e,n){gS[t]||(gS[t]=!0)}function vS(t){let{to:e,replace:n,state:r,relative:s}=t;iu()||Ze(!1);let{future:o,static:i}=p.useContext(Gi),{matches:a}=p.useContext(Lo),{pathname:l}=au(),c=IP(),f=wg(e,yg(a,o.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(f);return p.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function PU(t){return gU(t.context)}function kU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=tn.Pop,navigator:o,static:i=!1,future:a}=t;iu()&&Ze(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:o,static:i,future:am({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Ki(r));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:x="default"}=r,y=p.useMemo(()=>{let b=ou(f,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:g,key:x},navigationType:s}},[l,f,h,m,g,x,s]);return y==null?null:p.createElement(Gi.Provider,{value:c},p.createElement(q0.Provider,{children:n,value:y}))}new Promise(()=>{});function AU(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:p.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:p.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:p.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function NU(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function DU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OU(t,e){return t.button===0&&(!e||e==="_self")&&!DU(t)}const MU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jU="6";try{window.__reactRouterVersion=jU}catch{}function LU(t,e){return W4({basename:void 0,future:qd({},void 0,{v7_prependBasename:!0}),history:p4({window:void 0}),hydrationData:FU(),routes:t,mapRouteProperties:AU,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function FU(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=qd({},e,{errors:VU(e.errors)})),e}function VU(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new im(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let i=new o(s.message);i.stack="",n[r]=i}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}const UU=p.createContext({isTransitioning:!1}),$U=p.createContext(new Map),BU="startTransition",yS=uI[BU],zU="flushSync",wS=h4[zU];function WU(t){yS?yS(t):t()}function Vu(t){wS?wS(t):t()}let HU=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function qU(t){let{fallbackElement:e,router:n,future:r}=t,[s,o]=p.useState(n.state),[i,a]=p.useState(),[l,c]=p.useState({isTransitioning:!1}),[f,h]=p.useState(),[m,g]=p.useState(),[x,y]=p.useState(),b=p.useRef(new Map),{v7_startTransition:E}=r||{},w=p.useCallback(_=>{E?WU(_):_()},[E]),S=p.useCallback((_,I)=>{let{deletedFetchers:P,unstable_flushSync:D,unstable_viewTransitionOpts:N}=I;P.forEach(B=>b.current.delete(B)),_.fetchers.forEach((B,Y)=>{B.data!==void 0&&b.current.set(Y,B.data)});let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||k){D?Vu(()=>o(_)):w(()=>o(_));return}if(D){Vu(()=>{m&&(f&&f.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let B=n.window.document.startViewTransition(()=>{Vu(()=>o(_))});B.finished.finally(()=>{Vu(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Vu(()=>g(B));return}m?(f&&f.resolve(),m.skipTransition(),y({state:_,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(a(_),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,m,f,b,w]);p.useLayoutEffect(()=>n.subscribe(S),[n,S]),p.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new HU)},[l]),p.useEffect(()=>{if(f&&i&&n.window){let _=i,I=f.promise,P=n.window.document.startViewTransition(async()=>{w(()=>o(_)),await I});P.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(P)}},[w,i,f,n.window]),p.useEffect(()=>{f&&i&&s.location.key===i.location.key&&f.resolve()},[f,m,s.location,i]),p.useEffect(()=>{!l.isTransitioning&&x&&(a(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),y(void 0))},[l.isTransitioning,x]),p.useEffect(()=>{},[]);let C=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,I,P)=>n.navigate(_,{state:I,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(_,I,P)=>n.navigate(_,{replace:!0,state:I,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),O=n.basename||"/",V=p.useMemo(()=>({router:n,navigator:C,static:!1,basename:O}),[n,C,O]),R=p.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return p.createElement(p.Fragment,null,p.createElement(xg.Provider,{value:V},p.createElement(TP.Provider,{value:s},p.createElement($U.Provider,{value:b.current},p.createElement(UU.Provider,{value:l},p.createElement(kU,{basename:O,location:s.location,navigationType:s.historyAction,navigator:C,future:R},s.initialized||n.future.v7_partialHydration?p.createElement(KU,{routes:n.routes,future:n.future,state:s}):e))))),null)}const KU=p.memo(GU);function GU(t){let{routes:e,future:n,state:r}=t;return vU(e,void 0,r,n)}const YU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ww=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:f,unstable_viewTransition:h}=e,m=NU(e,MU),{basename:g}=p.useContext(Gi),x,y=!1;if(typeof c=="string"&&QU.test(c)&&(x=c,YU))try{let S=new URL(window.location.href),C=c.startsWith("//")?new URL(S.protocol+c):new URL(c),O=ou(C.pathname,g);C.origin===S.origin&&O!=null?c=O+C.search+C.hash:y=!0}catch{}let b=hU(c,{relative:s}),E=XU(c,{replace:i,state:a,target:l,preventScrollReset:f,relative:s,unstable_viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||E(S)}return p.createElement("a",qd({},m,{href:x||b,onClick:y||o?r:w,ref:n,target:l}))});var _S;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_S||(_S={}));var xS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xS||(xS={}));function XU(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,unstable_viewTransition:a}=e===void 0?{}:e,l=IP(),c=au(),f=RP(t,{relative:i});return p.useCallback(h=>{if(OU(h,n)){h.preventDefault();let m=r!==void 0?r:Va(c)===Va(f);l(t,{replace:m,state:s,preventScrollReset:o,relative:i,unstable_viewTransition:a})}},[c,l,f,r,s,n,t,o,i,a])}/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AP=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>p.createElement("svg",{ref:l,...JU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AP("lucide",s),...a},[...i.map(([c,f])=>p.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(t,e)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(e3,{ref:o,iconNode:e,className:AP(`lucide-${ZU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=mt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=mt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=mt("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=mt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=mt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=mt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=mt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=mt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=mt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=mt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=mt("StretchHorizontal",[["rect",{width:"20",height:"6",x:"2",y:"4",rx:"2",key:"qdearl"}],["rect",{width:"20",height:"6",x:"2",y:"14",rx:"2",key:"1xrn6j"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function f3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Tg(...t){return e=>t.forEach(n=>f3(n,e))}function We(...t){return p.useCallback(Tg(...t),t)}function h3(t,e){const n=p.createContext(e),r=o=>{const{children:i,...a}=o,l=p.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Jr(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];const c=h=>{var E;const{scope:m,children:g,...x}=h,y=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,b=p.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})};c.displayName=o+"Provider";function f(h,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,x=p.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,p3(s,...e)]}function p3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Ys=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),o=s.find(m3);if(o){const i=o.props.children,a=s.map(l=>l===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:l);return u.jsx(Hw,{...r,ref:e,children:p.isValidElement(i)?p.cloneElement(i,void 0,a):null})}return u.jsx(Hw,{...r,ref:e,children:n})});Ys.displayName="Slot";var Hw=p.forwardRef((t,e)=>{const{children:n,...r}=t;if(p.isValidElement(n)){const s=v3(n);return p.cloneElement(n,{...g3(r,n.props),ref:e?Tg(e,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});Hw.displayName="SlotClone";var Z0=({children:t})=>u.jsx(u.Fragment,{children:t});function m3(t){return p.isValidElement(t)&&t.type===Z0}function g3(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function v3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var y3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=y3.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Ys:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function J0(t,e){t&&qi.flushSync(()=>t.dispatchEvent(e))}function jt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function w3(t,e=globalThis==null?void 0:globalThis.document){const n=jt(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _3="DismissableLayer",qw="dismissableLayer.update",x3="dismissableLayer.pointerDownOutside",E3="dismissableLayer.focusOutside",TS,LP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gl=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=p.useContext(LP),[f,h]=p.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),x=We(e,R=>h(R)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(b),w=f?y.indexOf(f):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=E,O=T3(R=>{const _=R.target,I=[...c.branches].some(P=>P.contains(_));!C||I||(s==null||s(R),i==null||i(R),R.defaultPrevented||a==null||a())},m),V=S3(R=>{const _=R.target;[...c.branches].some(P=>P.contains(_))||(o==null||o(R),i==null||i(R),R.defaultPrevented||a==null||a())},m);return w3(R=>{w===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},m),p.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(TS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),SS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=TS)}},[f,m,n,c]),p.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),SS())},[f,c]),p.useEffect(()=>{const R=()=>g({});return document.addEventListener(qw,R),()=>document.removeEventListener(qw,R)},[]),u.jsx(Ce.div,{...l,ref:x,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,V.onFocusCapture),onBlurCapture:se(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,O.onPointerDownCapture)})});gl.displayName=_3;var b3="DismissableLayerBranch",FP=p.forwardRef((t,e)=>{const n=p.useContext(LP),r=p.useRef(null),s=We(e,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Ce.div,{...t,ref:s})});FP.displayName=b3;function T3(t,e=globalThis==null?void 0:globalThis.document){const n=jt(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){VP(x3,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function S3(t,e=globalThis==null?void 0:globalThis.document){const n=jt(t),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&VP(E3,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SS(){const t=new CustomEvent(qw);document.dispatchEvent(t)}function VP(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?J0(s,o):s.dispatchEvent(o)}var C3=gl,I3=FP,un=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},R3=uI.useId||(()=>{}),P3=0;function Wr(t){const[e,n]=p.useState(R3());return un(()=>{n(r=>r??String(P3++))},[t]),e?`radix-${e}`:""}const k3=["top","right","bottom","left"],Ni=Math.min,yr=Math.max,um=Math.round,Uh=Math.floor,Di=t=>({x:t,y:t}),A3={left:"right",right:"left",bottom:"top",top:"bottom"},N3={start:"end",end:"start"};function Kw(t,e,n){return yr(t,Ni(e,n))}function Po(t,e){return typeof t=="function"?t(e):t}function ko(t){return t.split("-")[0]}function lu(t){return t.split("-")[1]}function ex(t){return t==="x"?"y":"x"}function tx(t){return t==="y"?"height":"width"}function Oi(t){return["top","bottom"].includes(ko(t))?"y":"x"}function nx(t){return ex(Oi(t))}function D3(t,e,n){n===void 0&&(n=!1);const r=lu(t),s=nx(t),o=tx(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=dm(i)),[i,dm(i)]}function O3(t){const e=dm(t);return[Gw(t),e,Gw(e)]}function Gw(t){return t.replace(/start|end/g,e=>N3[e])}function M3(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function j3(t,e,n,r){const s=lu(t);let o=M3(ko(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Gw)))),o}function dm(t){return t.replace(/left|right|bottom|top/g,e=>A3[e])}function L3(t){return{top:0,right:0,bottom:0,left:0,...t}}function UP(t){return typeof t!="number"?L3(t):{top:t,right:t,bottom:t,left:t}}function fm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function CS(t,e,n){let{reference:r,floating:s}=t;const o=Oi(e),i=nx(e),a=tx(i),l=ko(e),c=o==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:f,y:r.y-s.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(lu(e)){case"start":g[i]-=m*(n&&c?-1:1);break;case"end":g[i]+=m*(n&&c?-1:1);break}return g}const F3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=CS(c,r,l),m=r,g={},x=0;for(let y=0;y<a.length;y++){const{name:b,fn:E}=a[y],{x:w,y:S,data:C,reset:O}=await E({x:f,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:c,platform:i,elements:{reference:t,floating:e}});f=w??f,h=S??h,g={...g,[b]:{...g[b],...C}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:f,y:h}=CS(c,m,l)),y=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:g}};async function Kd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Po(e,t),x=UP(g),b=a[m?h==="floating"?"reference":"floating":h],E=fm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),w=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},O=fm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(E.top-O.top+x.top)/C.y,bottom:(O.bottom-E.bottom+x.bottom)/C.y,left:(E.left-O.left+x.left)/C.x,right:(O.right-E.right+x.right)/C.x}}const V3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Po(t,e)||{};if(c==null)return{};const h=UP(f),m={x:n,y:r},g=nx(s),x=tx(g),y=await i.getDimensions(c),b=g==="y",E=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=o.reference[x]+o.reference[g]-m[g]-o.floating[x],O=m[g]-o.reference[g],V=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let R=V?V[S]:0;(!R||!await(i.isElement==null?void 0:i.isElement(V)))&&(R=a.floating[S]||o.floating[x]);const _=C/2-O/2,I=R/2-y[x]/2-1,P=Ni(h[E],I),D=Ni(h[w],I),N=P,k=R-y[x]-D,B=R/2-y[x]/2+_,Y=Kw(N,B,k),X=!l.arrow&&lu(s)!=null&&B!==Y&&o.reference[x]/2-(B<N?P:D)-y[x]/2<0,j=X?B<N?B-N:B-k:0;return{[g]:m[g]+j,data:{[g]:Y,centerOffset:B-Y-j,...X&&{alignmentOffset:j}},reset:X}}}),U3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=Po(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=ko(s),w=Oi(a),S=ko(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=m||(S||!y?[dm(a)]:O3(a)),V=x!=="none";!m&&V&&O.push(...j3(a,y,x,C));const R=[a,...O],_=await Kd(e,b),I=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&I.push(_[E]),h){const B=D3(s,i,C);I.push(_[B[0]],_[B[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(B=>B<=0)){var D,N;const B=(((D=o.flip)==null?void 0:D.index)||0)+1,Y=R[B];if(Y)return{data:{index:B,overflows:P},reset:{placement:Y}};let X=(N=P.filter(j=>j.overflows[0]<=0).sort((j,M)=>j.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!X)switch(g){case"bestFit":{var k;const j=(k=P.filter(M=>{if(V){const $=Oi(M.placement);return $===w||$==="y"}return!0}).map(M=>[M.placement,M.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((M,$)=>M[1]-$[1])[0])==null?void 0:k[0];j&&(X=j);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function IS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RS(t){return k3.some(e=>t[e]>=0)}const $3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Po(t,e);switch(r){case"referenceHidden":{const o=await Kd(e,{...s,elementContext:"reference"}),i=IS(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:RS(i)}}}case"escaped":{const o=await Kd(e,{...s,altBoundary:!0}),i=IS(o,n.floating);return{data:{escapedOffsets:i,escaped:RS(i)}}}default:return{}}}}};async function B3(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=ko(n),a=lu(n),l=Oi(n)==="y",c=["left","top"].includes(i)?-1:1,f=o&&l?-1:1,h=Po(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*f,y:m*c}:{x:m*c,y:g*f}}const z3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await B3(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},W3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:E,y:w}=b;return{x:E,y:w}}},...l}=Po(t,e),c={x:n,y:r},f=await Kd(e,l),h=Oi(ko(s)),m=ex(h);let g=c[m],x=c[h];if(o){const b=m==="y"?"top":"left",E=m==="y"?"bottom":"right",w=g+f[b],S=g-f[E];g=Kw(w,g,S)}if(i){const b=h==="y"?"top":"left",E=h==="y"?"bottom":"right",w=x+f[b],S=x-f[E];x=Kw(w,x,S)}const y=a.fn({...e,[m]:g,[h]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[h]:i}}}}}},H3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Po(t,e),f={x:n,y:r},h=Oi(s),m=ex(h);let g=f[m],x=f[h];const y=Po(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=m==="y"?"height":"width",C=o.reference[m]-o.floating[S]+b.mainAxis,O=o.reference[m]+o.reference[S]-b.mainAxis;g<C?g=C:g>O&&(g=O)}if(c){var E,w;const S=m==="y"?"width":"height",C=["top","left"].includes(ko(s)),O=o.reference[h]-o.floating[S]+(C&&((E=i.offset)==null?void 0:E[h])||0)+(C?0:b.crossAxis),V=o.reference[h]+o.reference[S]+(C?0:((w=i.offset)==null?void 0:w[h])||0)-(C?b.crossAxis:0);x<O?x=O:x>V&&(x=V)}return{[m]:g,[h]:x}}}},q3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=Po(t,e),f=await Kd(e,c),h=ko(s),m=lu(s),g=Oi(s)==="y",{width:x,height:y}=o.floating;let b,E;h==="top"||h==="bottom"?(b=h,E=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,b=m==="end"?"top":"bottom");const w=y-f.top-f.bottom,S=x-f.left-f.right,C=Ni(y-f[b],w),O=Ni(x-f[E],S),V=!e.middlewareData.shift;let R=C,_=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=w),V&&!m){const P=yr(f.left,0),D=yr(f.right,0),N=yr(f.top,0),k=yr(f.bottom,0);g?_=x-2*(P!==0||D!==0?P+D:yr(f.left,f.right)):R=y-2*(N!==0||k!==0?N+k:yr(f.top,f.bottom))}await l({...e,availableWidth:_,availableHeight:R});const I=await i.getDimensions(a.floating);return x!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Sg(){return typeof window<"u"}function cu(t){return $P(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ro(t){var e;return(e=($P(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $P(t){return Sg()?t instanceof Node||t instanceof Cr(t).Node:!1}function Es(t){return Sg()?t instanceof Element||t instanceof Cr(t).Element:!1}function Qs(t){return Sg()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function PS(t){return!Sg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}function Rf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function K3(t){return["table","td","th"].includes(cu(t))}function Cg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rx(t){const e=sx(),n=Es(t)?bs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function G3(t){let e=Mi(t);for(;Qs(e)&&!Dc(e);){if(rx(e))return e;if(Cg(e))return null;e=Mi(e)}return null}function sx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dc(t){return["html","body","#document"].includes(cu(t))}function bs(t){return Cr(t).getComputedStyle(t)}function Ig(t){return Es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PS(t)&&t.host||ro(t);return PS(e)?e.host:e}function BP(t){const e=Mi(t);return Dc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qs(e)&&Rf(e)?e:BP(e)}function Gd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=BP(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Cr(s);if(o){const a=Yw(i);return e.concat(i,i.visualViewport||[],Rf(s)?s:[],a&&n?Gd(a):[])}return e.concat(s,Gd(s,[],n))}function Yw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zP(t){const e=bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qs(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=um(n)!==o||um(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function ox(t){return Es(t)?t:t.contextElement}function mc(t){const e=ox(t);if(!Qs(e))return Di(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=zP(e);let i=(o?um(n.width):n.width)/r,a=(o?um(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Y3=Di(0);function WP(t){const e=Cr(t);return!sx()||!e.visualViewport?Y3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cr(t)?!1:e}function Ua(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=ox(t);let i=Di(1);e&&(r?Es(r)&&(i=mc(r)):i=mc(t));const a=Q3(o,n,r)?WP(o):Di(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const m=Cr(o),g=r&&Es(r)?Cr(r):r;let x=m,y=Yw(x);for(;y&&r&&g!==x;){const b=mc(y),E=y.getBoundingClientRect(),w=bs(y),S=E.left+(y.clientLeft+parseFloat(w.paddingLeft))*b.x,C=E.top+(y.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,f*=b.x,h*=b.y,l+=S,c+=C,x=Cr(y),y=Yw(x)}}return fm({width:f,height:h,x:l,y:c})}function X3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=ro(r),a=e?Cg(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Di(1);const f=Di(0),h=Qs(r);if((h||!h&&!o)&&((cu(r)!=="body"||Rf(i))&&(l=Ig(r)),Qs(r))){const m=Ua(r);c=mc(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function Z3(t){return Array.from(t.getClientRects())}function Qw(t,e){const n=Ig(t).scrollLeft;return e?e.left+n:Ua(ro(t)).left+n}function J3(t){const e=ro(t),n=Ig(t),r=t.ownerDocument.body,s=yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Qw(t);const a=-n.scrollTop;return bs(r).direction==="rtl"&&(i+=yr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function e$(t,e){const n=Cr(t),r=ro(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=sx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function t$(t,e){const n=Ua(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Qs(t)?mc(t):Di(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function kS(t,e,n){let r;if(e==="viewport")r=e$(t,n);else if(e==="document")r=J3(ro(t));else if(Es(e))r=t$(e,n);else{const s=WP(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return fm(r)}function HP(t,e){const n=Mi(t);return n===e||!Es(n)||Dc(n)?!1:bs(n).position==="fixed"||HP(n,e)}function n$(t,e){const n=e.get(t);if(n)return n;let r=Gd(t,[],!1).filter(a=>Es(a)&&cu(a)!=="body"),s=null;const o=bs(t).position==="fixed";let i=o?Mi(t):t;for(;Es(i)&&!Dc(i);){const a=bs(i),l=rx(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rf(i)&&!l&&HP(t,i))?r=r.filter(f=>f!==i):s=a,i=Mi(i)}return e.set(t,r),r}function r$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Cg(e)?[]:n$(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,f)=>{const h=kS(e,f,s);return c.top=yr(h.top,c.top),c.right=Ni(h.right,c.right),c.bottom=Ni(h.bottom,c.bottom),c.left=yr(h.left,c.left),c},kS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function s$(t){const{width:e,height:n}=zP(t);return{width:e,height:n}}function o$(t,e,n){const r=Qs(e),s=ro(e),o=n==="fixed",i=Ua(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Di(0);if(r||!r&&!o)if((cu(e)!=="body"||Rf(s))&&(a=Ig(e)),r){const g=Ua(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Qw(s));let c=0,f=0;if(s&&!r&&!o){const g=s.getBoundingClientRect();f=g.top+a.scrollTop,c=g.left+a.scrollLeft-Qw(s,g)}const h=i.left+a.scrollLeft-l.x-c,m=i.top+a.scrollTop-l.y-f;return{x:h,y:m,width:i.width,height:i.height}}function cy(t){return bs(t).position==="static"}function AS(t,e){if(!Qs(t)||bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ro(t)===n&&(n=n.ownerDocument.body),n}function qP(t,e){const n=Cr(t);if(Cg(t))return n;if(!Qs(t)){let s=Mi(t);for(;s&&!Dc(s);){if(Es(s)&&!cy(s))return s;s=Mi(s)}return n}let r=AS(t,e);for(;r&&K3(r)&&cy(r);)r=AS(r,e);return r&&Dc(r)&&cy(r)&&!rx(r)?n:r||G3(t)||n}const i$=async function(t){const e=this.getOffsetParent||qP,n=this.getDimensions,r=await n(t.floating);return{reference:o$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function a$(t){return bs(t).direction==="rtl"}const l$={convertOffsetParentRelativeRectToViewportRelativeRect:X3,getDocumentElement:ro,getClippingRect:r$,getOffsetParent:qP,getElementRects:i$,getClientRects:Z3,getDimensions:s$,getScale:mc,isElement:Es,isRTL:a$};function c$(t,e){let n=null,r;const s=ro(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:f,width:h,height:m}=t.getBoundingClientRect();if(a||e(),!h||!m)return;const g=Uh(f),x=Uh(s.clientWidth-(c+h)),y=Uh(s.clientHeight-(f+m)),b=Uh(c),w={rootMargin:-g+"px "+-x+"px "+-y+"px "+-b+"px",threshold:yr(0,Ni(1,l))||1};let S=!0;function C(O){const V=O[0].intersectionRatio;if(V!==l){if(!S)return i();V?i(!1,V):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return i(!0),o}function u$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ox(t),f=s||o?[...c?Gd(c):[],...Gd(e)]:[];f.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const h=c&&a?c$(c,n):null;let m=-1,g=null;i&&(g=new ResizeObserver(E=>{let[w]=E;w&&w.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,y=l?Ua(t):null;l&&b();function b(){const E=Ua(t);y&&(E.x!==y.x||E.y!==y.y||E.width!==y.width||E.height!==y.height)&&n(),y=E,x=requestAnimationFrame(b)}return n(),()=>{var E;f.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const d$=z3,f$=W3,h$=U3,p$=q3,m$=$3,NS=V3,g$=H3,v$=(t,e,n)=>{const r=new Map,s={platform:l$,...n},o={...s.platform,_c:r};return F3(t,e,{...s,platform:o})};var gp=typeof document<"u"?p.useLayoutEffect:p.useEffect;function hm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!hm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!hm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function KP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DS(t,e){const n=KP(t);return Math.round(e*n)/n}function uy(t){const e=p.useRef(t);return gp(()=>{e.current=t}),e}function y$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);hm(m,r)||g(r);const[x,y]=p.useState(null),[b,E]=p.useState(null),w=p.useCallback(M=>{M!==V.current&&(V.current=M,y(M))},[]),S=p.useCallback(M=>{M!==R.current&&(R.current=M,E(M))},[]),C=o||x,O=i||b,V=p.useRef(null),R=p.useRef(null),_=p.useRef(f),I=l!=null,P=uy(l),D=uy(s),N=uy(c),k=p.useCallback(()=>{if(!V.current||!R.current)return;const M={placement:e,strategy:n,middleware:m};D.current&&(M.platform=D.current),v$(V.current,R.current,M).then($=>{const G={...$,isPositioned:N.current!==!1};B.current&&!hm(_.current,G)&&(_.current=G,qi.flushSync(()=>{h(G)}))})},[m,e,n,D,N]);gp(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[c]);const B=p.useRef(!1);gp(()=>(B.current=!0,()=>{B.current=!1}),[]),gp(()=>{if(C&&(V.current=C),O&&(R.current=O),C&&O){if(P.current)return P.current(C,O,k);k()}},[C,O,k,P,I]);const Y=p.useMemo(()=>({reference:V,floating:R,setReference:w,setFloating:S}),[w,S]),X=p.useMemo(()=>({reference:C,floating:O}),[C,O]),j=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!X.floating)return M;const $=DS(X.floating,f.x),G=DS(X.floating,f.y);return a?{...M,transform:"translate("+$+"px, "+G+"px)",...KP(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,a,X.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:k,refs:Y,elements:X,floatingStyles:j}),[f,k,Y,X,j])}const w$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?NS({element:r.current,padding:s}).fn(n):{}:r?NS({element:r,padding:s}).fn(n):{}}}},_$=(t,e)=>({...d$(t),options:[t,e]}),x$=(t,e)=>({...f$(t),options:[t,e]}),E$=(t,e)=>({...g$(t),options:[t,e]}),b$=(t,e)=>({...h$(t),options:[t,e]}),T$=(t,e)=>({...p$(t),options:[t,e]}),S$=(t,e)=>({...m$(t),options:[t,e]}),C$=(t,e)=>({...w$(t),options:[t,e]});var I$="Arrow",GP=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return u.jsx(Ce.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});GP.displayName=I$;var R$=GP;function P$(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(h){const{scope:m,children:g,...x}=h,y=(m==null?void 0:m[t][l])||a,b=p.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})}function f(h,m){const g=(m==null?void 0:m[t][l])||a,x=p.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,k$(s,...e)]}function k$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function YP(t){const[e,n]=p.useState(void 0);return un(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ix="Popper",[QP,Yi]=P$(ix),[A$,XP]=QP(ix),ZP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return u.jsx(A$,{scope:e,anchor:r,onAnchorChange:s,children:n})};ZP.displayName=ix;var JP="PopperAnchor",ek=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=XP(JP,n),i=p.useRef(null),a=We(e,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(Ce.div,{...s,ref:a})});ek.displayName=JP;var ax="PopperContent",[N$,D$]=QP(ax),tk=p.forwardRef((t,e)=>{var ue,Me,Ye,je,Qe,Xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=t,b=XP(ax,n),[E,w]=p.useState(null),S=We(e,Dt=>w(Dt)),[C,O]=p.useState(null),V=YP(C),R=(V==null?void 0:V.width)??0,_=(V==null?void 0:V.height)??0,I=r+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(c)?c:[c],N=D.length>0,k={padding:P,boundary:D.filter(M$),altBoundary:N},{refs:B,floatingStyles:Y,placement:X,isPositioned:j,middlewareData:M}=y$({strategy:"fixed",placement:I,whileElementsMounted:(...Dt)=>u$(...Dt,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[_$({mainAxis:s+_,alignmentAxis:i}),l&&x$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?E$():void 0,...k}),l&&b$({...k}),T$({...k,apply:({elements:Dt,rects:lt,availableWidth:gn,availableHeight:Dr})=>{const{width:ks,height:L}=lt.reference,W=Dt.floating.style;W.setProperty("--radix-popper-available-width",`${gn}px`),W.setProperty("--radix-popper-available-height",`${Dr}px`),W.setProperty("--radix-popper-anchor-width",`${ks}px`),W.setProperty("--radix-popper-anchor-height",`${L}px`)}}),C&&C$({element:C,padding:a}),j$({arrowWidth:R,arrowHeight:_}),m&&S$({strategy:"referenceHidden",...k})]}),[$,G]=sk(X),re=jt(x);un(()=>{j&&(re==null||re())},[j,re]);const me=(ue=M.arrow)==null?void 0:ue.x,Ee=(Me=M.arrow)==null?void 0:Me.y,Be=((Ye=M.arrow)==null?void 0:Ye.centerOffset)!==0,[ht,He]=p.useState();return un(()=>{E&&He(window.getComputedStyle(E).zIndex)},[E]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:j?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ht,"--radix-popper-transform-origin":[(je=M.transformOrigin)==null?void 0:je.x,(Qe=M.transformOrigin)==null?void 0:Qe.y].join(" "),...((Xe=M.hide)==null?void 0:Xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(N$,{scope:n,placedSide:$,onArrowChange:O,arrowX:me,arrowY:Ee,shouldHideArrow:Be,children:u.jsx(Ce.div,{"data-side":$,"data-align":G,...y,ref:S,style:{...y.style,animation:j?void 0:"none"}})})})});tk.displayName=ax;var nk="PopperArrow",O$={top:"bottom",right:"left",bottom:"top",left:"right"},rk=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=D$(nk,r),i=O$[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(R$,{...s,ref:n,style:{...s.style,display:"block"}})})});rk.displayName=nk;function M$(t){return t!==null}var j$=t=>({name:"transformOrigin",options:t,fn(e){var b,E,w;const{placement:n,rects:r,middlewareData:s}=e,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,f]=sk(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=i?h:`${m}px`,y=`${-l}px`):c==="top"?(x=i?h:`${m}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=i?h:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=i?h:`${g}px`),{data:{x,y}}}});function sk(t){const[e,n="center"]=t.split("-");return[e,n]}var Rg=ZP,Pf=ek,Pg=tk,kg=rk,L$="Portal",uu=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=p.useState(!1);un(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?hP.createPortal(u.jsx(Ce.div,{...r,ref:e}),i):null});uu.displayName=L$;function F$(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var mn=t=>{const{present:e,children:n}=t,r=V$(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=We(r.ref,U$(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};mn.displayName="Presence";function V$(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),o=p.useRef("none"),i=t?"mounted":"unmounted",[a,l]=F$(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=$h(r.current);o.current=a==="mounted"?c:"none"},[a]),un(()=>{const c=r.current,f=s.current;if(f!==t){const m=o.current,g=$h(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),un(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=g=>{const y=$h(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(o.current=$h(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function $h(t){return(t==null?void 0:t.animationName)||"none"}function U$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xs({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=$$({defaultProp:e,onChange:n}),o=t!==void 0,i=o?t:r,a=jt(n),l=p.useCallback(c=>{if(o){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[o,t,s,a]);return[i,l]}function $$({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),o=jt(e);return p.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var B$="VisuallyHidden",kf=p.forwardRef((t,e)=>u.jsx(Ce.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kf.displayName=B$;var z$=kf,[Ag,nre]=Jr("Tooltip",[Yi]),Ng=Yi(),ok="TooltipProvider",W$=700,Xw="tooltip.open",[H$,lx]=Ag(ok),ik=t=>{const{__scopeTooltip:e,delayDuration:n=W$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,[i,a]=p.useState(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),u.jsx(H$,{scope:e,isOpenDelayed:i,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(f=>{l.current=f},[]),disableHoverableContent:s,children:o})};ik.displayName=ok;var Dg="Tooltip",[q$,Og]=Ag(Dg),ak=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=t,l=lx(Dg,t.__scopeTooltip),c=Ng(e),[f,h]=p.useState(null),m=Wr(),g=p.useRef(0),x=i??l.disableHoverableContent,y=a??l.delayDuration,b=p.useRef(!1),[E=!1,w]=Xs({prop:r,defaultProp:s,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(Xw))):l.onClose(),o==null||o(R)}}),S=p.useMemo(()=>E?b.current?"delayed-open":"instant-open":"closed",[E]),C=p.useCallback(()=>{window.clearTimeout(g.current),b.current=!1,w(!0)},[w]),O=p.useCallback(()=>{window.clearTimeout(g.current),w(!1)},[w]),V=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,w(!0)},y)},[y,w]);return p.useEffect(()=>()=>window.clearTimeout(g.current),[]),u.jsx(Rg,{...c,children:u.jsx(q$,{scope:e,contentId:m,open:E,stateAttribute:S,trigger:f,onTriggerChange:h,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayed?V():C()},[l.isOpenDelayed,V,C]),onTriggerLeave:p.useCallback(()=>{x?O():window.clearTimeout(g.current)},[O,x]),onOpen:C,onClose:O,disableHoverableContent:x,children:n})})};ak.displayName=Dg;var Zw="TooltipTrigger",lk=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Og(Zw,n),o=lx(Zw,n),i=Ng(n),a=p.useRef(null),l=We(e,a,s.onTriggerChange),c=p.useRef(!1),f=p.useRef(!1),h=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Pf,{asChild:!0,...i,children:u.jsx(Ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:se(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});lk.displayName=Zw;var K$="TooltipPortal",[rre,G$]=Ag(K$,{forceMount:void 0}),Oc="TooltipContent",ck=p.forwardRef((t,e)=>{const n=G$(Oc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Og(Oc,t.__scopeTooltip);return u.jsx(mn,{present:r||i.open,children:i.disableHoverableContent?u.jsx(uk,{side:s,...o,ref:e}):u.jsx(Y$,{side:s,...o,ref:e})})}),Y$=p.forwardRef((t,e)=>{const n=Og(Oc,t.__scopeTooltip),r=lx(Oc,t.__scopeTooltip),s=p.useRef(null),o=We(e,s),[i,a]=p.useState(null),{trigger:l,onClose:c}=n,f=s.current,{onPointerInTransitChange:h}=r,m=p.useCallback(()=>{a(null),h(!1)},[h]),g=p.useCallback((x,y)=>{const b=x.currentTarget,E={x:x.clientX,y:x.clientY},w=J$(E,b.getBoundingClientRect()),S=e9(E,w),C=t9(y.getBoundingClientRect()),O=r9([...S,...C]);a(O),h(!0)},[h]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(l&&f){const x=b=>g(b,f),y=b=>g(b,l);return l.addEventListener("pointerleave",x),f.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",y)}}},[l,f,g,m]),p.useEffect(()=>{if(i){const x=y=>{const b=y.target,E={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(b))||(f==null?void 0:f.contains(b)),S=!n9(E,i);w?m():S&&(m(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,f,i,c,m]),u.jsx(uk,{...t,ref:o})}),[Q$,X$]=Ag(Dg,{isInside:!1}),uk=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Og(Oc,n),c=Ng(n),{onClose:f}=l;return p.useEffect(()=>(document.addEventListener(Xw,f),()=>document.removeEventListener(Xw,f)),[f]),p.useEffect(()=>{if(l.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),u.jsx(gl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:u.jsxs(Pg,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Z0,{children:r}),u.jsx(Q$,{scope:n,isInside:!0,children:u.jsx(z$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ck.displayName=Oc;var dk="TooltipArrow",Z$=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ng(n);return X$(dk,n).isInside?null:u.jsx(kg,{...s,...r,ref:e})});Z$.displayName=dk;function J$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function e9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function t9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function n9(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,l=e[o].y,c=e[i].x,f=e[i].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(s=!s)}return s}function r9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),s9(e)}function s9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o9=ik,i9=ak,a9=lk,fk=ck;function hk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function l9(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hk(t))&&(r&&(r+=" "),r+=e);return r}const cx="-",c9=t=>{const e=d9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(cx);return a[0]===""&&a.length!==1&&a.shift(),pk(a,e)||u9(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},pk=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?pk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(cx);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},OS=/^\[(.+)\]$/,u9=t=>{if(OS.test(t)){const e=OS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},d9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return h9(Object.entries(t.classGroups),n).forEach(([o,i])=>{Jw(i,r,o,e)}),r},Jw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:MS(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(f9(s)){Jw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Jw(i,MS(e,o),n,r)})})},MS=(t,e)=>{let n=t;return e.split(cx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f9=t=>t.isThemeGetter,h9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,p9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},mk="!",m9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,f=0,h;for(let b=0;b<a.length;b++){let E=a[b];if(c===0){if(E===s&&(r||a.slice(b,b+o)===e)){l.push(a.slice(f,b)),f=b+o;continue}if(E==="/"){h=b;continue}}E==="["?c++:E==="]"&&c--}const m=l.length===0?a:a.substring(f),g=m.startsWith(mk),x=g?m.substring(1):m,y=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},g9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},v9=t=>({cache:p9(t.cacheSize),parseClassName:m9(t),...c9(t)}),y9=/\s+/,w9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(y9);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(c);let x=!!g,y=r(x?m.substring(0,g):m);if(!y){if(!x){a=c+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=c+(a.length>0?" "+a:a);continue}x=!1}const b=g9(f).join(":"),E=h?b+mk:b,w=E+y;if(o.includes(w))continue;o.push(w);const S=s(y,x);for(let C=0;C<S.length;++C){const O=S[C];o.push(E+O)}a=c+(a.length>0?" "+a:a)}return a};function _9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gk(e))&&(r&&(r+=" "),r+=n);return r}const gk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gk(t[r]))&&(n&&(n+=" "),n+=e);return n};function x9(t,...e){let n,r,s,o=i;function i(l){const c=e.reduce((f,h)=>h(f),t());return n=v9(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=w9(l,n);return s(l,f),f}return function(){return o(_9.apply(null,arguments))}}const kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vk=/^\[(?:([a-z-]+):)?(.+)\]$/i,E9=/^\d+\/\d+$/,b9=new Set(["px","full","screen"]),T9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,C9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ao=t=>gc(t)||b9.has(t)||E9.test(t),Xo=t=>du(t,"length",j9),gc=t=>!!t&&!Number.isNaN(Number(t)),dy=t=>du(t,"number",gc),Uu=t=>!!t&&Number.isInteger(Number(t)),P9=t=>t.endsWith("%")&&gc(t.slice(0,-1)),qe=t=>vk.test(t),Zo=t=>T9.test(t),k9=new Set(["length","size","percentage"]),A9=t=>du(t,k9,yk),N9=t=>du(t,"position",yk),D9=new Set(["image","url"]),O9=t=>du(t,D9,F9),M9=t=>du(t,"",L9),$u=()=>!0,du=(t,e,n)=>{const r=vk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},j9=t=>S9.test(t)&&!C9.test(t),yk=()=>!1,L9=t=>I9.test(t),F9=t=>R9.test(t),V9=()=>{const t=kt("colors"),e=kt("spacing"),n=kt("blur"),r=kt("brightness"),s=kt("borderColor"),o=kt("borderRadius"),i=kt("borderSpacing"),a=kt("borderWidth"),l=kt("contrast"),c=kt("grayscale"),f=kt("hueRotate"),h=kt("invert"),m=kt("gap"),g=kt("gradientColorStops"),x=kt("gradientColorStopPositions"),y=kt("inset"),b=kt("margin"),E=kt("opacity"),w=kt("padding"),S=kt("saturate"),C=kt("scale"),O=kt("sepia"),V=kt("skew"),R=kt("space"),_=kt("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",qe,e],N=()=>[qe,e],k=()=>["",ao,Xo],B=()=>["auto",gc,qe],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",qe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[gc,qe];return{cacheSize:500,separator:":",theme:{colors:[$u],spacing:[ao,Xo],blur:["none","",Zo,qe],brightness:re(),borderColor:[t],borderRadius:["none","","full",Zo,qe],borderSpacing:N(),borderWidth:k(),contrast:re(),grayscale:$(),hueRotate:re(),invert:$(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[P9,Xo],inset:D(),margin:D(),opacity:re(),padding:N(),saturate:re(),scale:re(),sepia:$(),skew:re(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Zo]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),qe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uu,qe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Uu,qe]}],"grid-cols":[{"grid-cols":[$u]}],"col-start-end":[{col:["auto",{span:["full",Uu,qe]},qe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[$u]}],"row-start-end":[{row:["auto",{span:[Uu,qe]},qe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[Zo]},Zo]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zo,Xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dy]}],"font-family":[{font:[$u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",gc,dy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ao,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ao,Xo]}],"underline-offset":[{"underline-offset":["auto",ao,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),N9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ao,qe]}],"outline-w":[{outline:[ao,Xo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ao,Xo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zo,M9]}],"shadow-color":[{shadow:[$u]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zo,qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Uu,qe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ao,Xo,dy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},U9=x9(V9);function de(...t){return U9(l9(t))}const $9=o9,B9=i9,z9=a9,wk=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(fk,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wk.displayName=fk.displayName;var ux="Avatar",[W9,sre]=Jr(ux),[H9,_k]=W9(ux),xk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=p.useState("idle");return u.jsx(H9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:u.jsx(Ce.span,{...r,ref:e})})});xk.displayName=ux;var Ek="AvatarImage",bk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,i=_k(Ek,n),a=q9(r,o.referrerPolicy),l=jt(c=>{s(c),i.onImageLoadingStatusChange(c)});return un(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Ce.img,{...o,ref:e,src:r}):null});bk.displayName=Ek;var Tk="AvatarFallback",Sk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=_k(Tk,n),[i,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?u.jsx(Ce.span,{...s,ref:e}):null});Sk.displayName=Tk;function q9(t,e){const[n,r]=p.useState("idle");return un(()=>{if(!t){r("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&r(a)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var Ck=xk,Ik=bk,Rk=Sk;const dx=p.forwardRef(({className:t,...e},n)=>u.jsx(Ck,{ref:n,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));dx.displayName=Ck.displayName;const fx=p.forwardRef(({className:t,...e},n)=>u.jsx(Ik,{ref:n,className:de("aspect-square h-full w-full",t),...e}));fx.displayName=Ik.displayName;const hx=p.forwardRef(({className:t,...e},n)=>u.jsx(Rk,{ref:n,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));hx.displayName=Rk.displayName;var fy=0;function Mg(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jS()),document.body.insertAdjacentElement("beforeend",t[1]??jS()),fy++,()=>{fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fy--}},[])}function jS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hy="focusScope.autoFocusOnMount",py="focusScope.autoFocusOnUnmount",LS={bubbles:!1,cancelable:!0},K9="FocusScope",Af=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=p.useState(null),c=jt(s),f=jt(o),h=p.useRef(null),m=We(e,y=>l(y)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(S){if(g.paused||!a)return;const C=S.target;a.contains(C)?h.current=C:ni(h.current,{select:!0})},b=function(S){if(g.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||ni(h.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&ni(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,g.paused]),p.useEffect(()=>{if(a){VS.add(g);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(hy,LS);a.addEventListener(hy,c),a.dispatchEvent(E),E.defaultPrevented||(G9(J9(Pk(a)),{select:!0}),document.activeElement===y&&ni(a))}return()=>{a.removeEventListener(hy,c),setTimeout(()=>{const E=new CustomEvent(py,LS);a.addEventListener(py,f),a.dispatchEvent(E),E.defaultPrevented||ni(y??document.body,{select:!0}),a.removeEventListener(py,f),VS.remove(g)},0)}}},[a,c,f,g]);const x=p.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(b&&E){const w=y.currentTarget,[S,C]=Y9(w);S&&C?!y.shiftKey&&E===C?(y.preventDefault(),n&&ni(S,{select:!0})):y.shiftKey&&E===S&&(y.preventDefault(),n&&ni(C,{select:!0})):E===w&&y.preventDefault()}},[n,r,g.paused]);return u.jsx(Ce.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});Af.displayName=K9;function G9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ni(r,{select:e}),document.activeElement!==n)return}function Y9(t){const e=Pk(t),n=FS(e,t),r=FS(e.reverse(),t);return[n,r]}function Pk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FS(t,e){for(const n of t)if(!Q9(n,{upTo:e}))return n}function Q9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X9(t){return t instanceof HTMLInputElement&&"select"in t}function ni(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&X9(t)&&e&&t.select()}}var VS=Z9();function Z9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=US(t,e),t.unshift(e)},remove(e){var n;t=US(t,e),(n=t[0])==null||n.resume()}}}function US(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function J9(t){return t.filter(e=>e.tagName!=="A")}var e5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ml=new WeakMap,Bh=new WeakMap,zh={},my=0,kk=function(t){return t&&(t.host||kk(t.parentNode))},t5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},n5=function(t,e,n,r){var s=t5(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var o=zh[n],i=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))f(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",y=(Ml.get(m)||0)+1,b=(o.get(m)||0)+1;Ml.set(m,y),o.set(m,b),i.push(m),y===1&&x&&Bh.set(m,!0),b===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return f(e),a.clear(),my++,function(){i.forEach(function(h){var m=Ml.get(h)-1,g=o.get(h)-1;Ml.set(h,m),o.set(h,g),m||(Bh.has(h)||h.removeAttribute(r),Bh.delete(h)),g||h.removeAttribute(n)}),my--,my||(Ml=new WeakMap,Ml=new WeakMap,Bh=new WeakMap,zh={})}},jg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),n5(r,s,n,"aria-hidden")):function(){return null}},Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ls.apply(this,arguments)};function Nf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function r5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var vp="right-scroll-bar-position",yp="width-before-scroll-bar",s5="with-scroll-bars-hidden",o5="--removed-body-scroll-bar-size";function gy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function i5(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var a5=typeof window<"u"?p.useLayoutEffect:p.useEffect,$S=new WeakMap;function l5(t,e){var n=i5(null,function(r){return t.forEach(function(s){return gy(s,r)})});return a5(function(){var r=$S.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||gy(a,null)}),o.forEach(function(a){s.has(a)||gy(a,i)})}$S.set(n,t)},[t]),n}function c5(t){return t}function u5(t,e){e===void 0&&(e=c5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var f=i;i=[],f.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){i.push(f),c()},filter:function(f){return i=i.filter(f),n}}}};return s}function d5(t){t===void 0&&(t={});var e=u5(null);return e.options=Ls({async:!0,ssr:!1},t),e}var Ak=function(t){var e=t.sideCar,n=Nf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ls({},n))};Ak.isSideCarExport=!0;function f5(t,e){return t.useMedium(e),Ak}var Nk=d5(),vy=function(){},Lg=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:vy,onWheelCapture:vy,onTouchMoveCapture:vy}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noIsolation,x=t.inert,y=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,w=t.gapMode,S=Nf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,O=l5([n,e]),V=Ls(Ls({},S),s);return p.createElement(p.Fragment,null,f&&p.createElement(C,{sideCar:Nk,removeScrollBar:c,shards:h,noIsolation:g,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:w}),i?p.cloneElement(p.Children.only(a),Ls(Ls({},V),{ref:O})):p.createElement(E,Ls({},V,{className:l,ref:O}),a))});Lg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lg.classNames={fullWidth:yp,zeroRight:vp};var h5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h5();return e&&t.setAttribute("nonce",e),t}function m5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function g5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var v5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=p5())&&(m5(e,n),g5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y5=function(){var t=v5();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Dk=function(){var t=y5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},w5={left:0,top:0,right:0,gap:0},yy=function(t){return parseInt(t||"",10)||0},_5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[yy(n),yy(r),yy(s)]},x5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return w5;var e=_5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},E5=Dk(),vc="data-scroll-locked",b5=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(s5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yp," .").concat(yp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vc,`] {
    `).concat(o5,": ").concat(a,`px;
  }
`)},BS=function(){var t=parseInt(document.body.getAttribute(vc)||"0",10);return isFinite(t)?t:0},T5=function(){p.useEffect(function(){return document.body.setAttribute(vc,(BS()+1).toString()),function(){var t=BS()-1;t<=0?document.body.removeAttribute(vc):document.body.setAttribute(vc,t.toString())}},[])},S5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;T5();var o=p.useMemo(function(){return x5(s)},[s]);return p.createElement(E5,{styles:b5(o,!e,s,n?"":"!important")})},e_=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return e_=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{e_=!1}var jl=e_?{passive:!1}:!1,C5=function(t){return t.tagName==="TEXTAREA"},Ok=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!C5(t)&&n[e]==="visible")},I5=function(t){return Ok(t,"overflowY")},R5=function(t){return Ok(t,"overflowX")},zS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Mk(t,r);if(s){var o=jk(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},k5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Mk=function(t,e){return t==="v"?I5(e):R5(e)},jk=function(t,e){return t==="v"?P5(e):k5(e)},A5=function(t,e){return t==="h"&&e==="rtl"?-1:1},N5=function(t,e,n,r,s){var o=A5(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,l=e.contains(a),c=!1,f=i>0,h=0,m=0;do{var g=jk(t,a),x=g[0],y=g[1],b=g[2],E=y-b-o*x;(x||E)&&Mk(t,a)&&(h+=E,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(c=!0),c},Hh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WS=function(t){return[t.deltaX,t.deltaY]},HS=function(t){return t&&"current"in t?t.current:t},D5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},O5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M5=0,Ll=[];function j5(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(M5++)[0],o=p.useState(Dk)[0],i=p.useRef(t);p.useEffect(function(){i.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=r5([t.lockRef.current],(t.shards||[]).map(HS),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var E=Hh(y),w=n.current,S="deltaX"in y?y.deltaX:w[0]-E[0],C="deltaY"in y?y.deltaY:w[1]-E[1],O,V=y.target,R=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in y&&R==="h"&&V.type==="range")return!1;var _=zS(R,V);if(!_)return!0;if(_?O=R:(O=R==="v"?"h":"v",_=zS(R,V)),!_)return!1;if(!r.current&&"changedTouches"in y&&(S||C)&&(r.current=O),!O)return!0;var I=r.current||O;return N5(I,b,y,I==="h"?S:C,!0)},[]),l=p.useCallback(function(y){var b=y;if(!(!Ll.length||Ll[Ll.length-1]!==o)){var E="deltaY"in b?WS(b):Hh(b),w=e.current.filter(function(O){return O.name===b.type&&(O.target===b.target||b.target===O.shadowParent)&&D5(O.delta,E)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(i.current.shards||[]).map(HS).filter(Boolean).filter(function(O){return O.contains(b.target)}),C=S.length>0?a(b,S[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=p.useCallback(function(y,b,E,w){var S={name:y,delta:b,target:E,should:w,shadowParent:L5(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),f=p.useCallback(function(y){n.current=Hh(y),r.current=void 0},[]),h=p.useCallback(function(y){c(y.type,WS(y),y.target,a(y,t.lockRef.current))},[]),m=p.useCallback(function(y){c(y.type,Hh(y),y.target,a(y,t.lockRef.current))},[]);p.useEffect(function(){return Ll.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,jl),document.addEventListener("touchmove",l,jl),document.addEventListener("touchstart",f,jl),function(){Ll=Ll.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,jl),document.removeEventListener("touchmove",l,jl),document.removeEventListener("touchstart",f,jl)}},[]);var g=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:O5(s)}):null,g?p.createElement(S5,{gapMode:t.gapMode}):null)}function L5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const F5=f5(Nk,j5);var Df=p.forwardRef(function(t,e){return p.createElement(Lg,Ls({},t,{ref:e,sideCar:F5}))});Df.classNames=Lg.classNames;var px="Popover",[Lk,ore]=Jr(px,[Yi]),Of=Yi(),[V5,Qi]=Lk(px),Fk=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,a=Of(e),l=p.useRef(null),[c,f]=p.useState(!1),[h=!1,m]=Xs({prop:r,defaultProp:s,onChange:o});return u.jsx(Rg,{...a,children:u.jsx(V5,{scope:e,contentId:Wr(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>f(!0),[]),onCustomAnchorRemove:p.useCallback(()=>f(!1),[]),modal:i,children:n})})};Fk.displayName=px;var Vk="PopoverAnchor",U5=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qi(Vk,n),o=Of(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(i(),()=>a()),[i,a]),u.jsx(Pf,{...o,...r,ref:e})});U5.displayName=Vk;var Uk="PopoverTrigger",$k=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qi(Uk,n),o=Of(n),i=We(e,s.triggerRef),a=u.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qk(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(Pf,{asChild:!0,...o,children:a})});$k.displayName=Uk;var mx="PopoverPortal",[$5,B5]=Lk(mx,{forceMount:void 0}),Bk=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Qi(mx,e);return u.jsx($5,{scope:e,forceMount:n,children:u.jsx(mn,{present:n||o.open,children:u.jsx(uu,{asChild:!0,container:s,children:r})})})};Bk.displayName=mx;var Mc="PopoverContent",zk=p.forwardRef((t,e)=>{const n=B5(Mc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Qi(Mc,t.__scopePopover);return u.jsx(mn,{present:r||o.open,children:o.modal?u.jsx(z5,{...s,ref:e}):u.jsx(W5,{...s,ref:e})})});zk.displayName=Mc;var z5=p.forwardRef((t,e)=>{const n=Qi(Mc,t.__scopePopover),r=p.useRef(null),s=We(e,r),o=p.useRef(!1);return p.useEffect(()=>{const i=r.current;if(i)return jg(i)},[]),u.jsx(Df,{as:Ys,allowPinchZoom:!0,children:u.jsx(Wk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),W5=p.forwardRef((t,e)=>{const n=Qi(Mc,t.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return u.jsx(Wk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Wk=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,...h}=t,m=Qi(Mc,n),g=Of(n);return Mg(),u.jsx(Af,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(gl,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(Pg,{"data-state":qk(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Hk="PopoverClose",H5=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qi(Hk,n);return u.jsx(Ce.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});H5.displayName=Hk;var q5="PopoverArrow",K5=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Of(n);return u.jsx(kg,{...s,...r,ref:e})});K5.displayName=q5;function qk(t){return t?"open":"closed"}var G5=Fk,Y5=$k,Q5=Bk,Kk=zk;const Yd=G5,Qd=Y5,jc=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(Q5,{children:u.jsx(Kk,{ref:s,align:e,sideOffset:n,className:de("flex justify-center gap-3  z-50 min-w-fit rounded-md border bg-popover p-4  text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));jc.displayName=Kk.displayName;function Gk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Gk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function X5(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Gk(t))&&(r&&(r+=" "),r+=e);return r}const qS=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,KS=X5,Mf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],h=o==null?void 0:o[c];if(f===null)return null;const m=qS(f)||qS(h);return s[c][m]}),a=n&&Object.entries(n).reduce((c,f)=>{let[h,m]=f;return m===void 0||(c[h]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...c,h,m]:c},[]);return KS(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},Xd=Mf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Ys:"button";return u.jsx(i,{className:de(Xd({variant:e,size:n,className:t})),ref:o,...s})});Pe.displayName="Button";function Z5(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(h){const{scope:m,children:g,...x}=h,y=(m==null?void 0:m[t][l])||a,b=p.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})}function f(h,m){const g=(m==null?void 0:m[t][l])||a,x=p.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,J5(s,...e)]}function J5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Fg(t){const e=t+"CollectionProvider",[n,r]=Z5(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:x,children:y}=g,b=$e.useRef(null),E=$e.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:E,collectionRef:b,children:y})};i.displayName=e;const a=t+"CollectionSlot",l=$e.forwardRef((g,x)=>{const{scope:y,children:b}=g,E=o(a,y),w=We(x,E.collectionRef);return u.jsx(Ys,{ref:w,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",h=$e.forwardRef((g,x)=>{const{scope:y,children:b,...E}=g,w=$e.useRef(null),S=We(x,w),C=o(c,y);return $e.useEffect(()=>(C.itemMap.set(w,{ref:w,...E}),()=>void C.itemMap.delete(w))),u.jsx(Ys,{[f]:"",ref:S,children:b})});h.displayName=c;function m(g){const x=o(t+"CollectionConsumer",g);return $e.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((C,O)=>E.indexOf(C.ref.current)-E.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:l,ItemSlot:h},m,r]}var eB=p.createContext(void 0);function jf(t){const e=p.useContext(eB);return t||e||"ltr"}function tB(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(h){const{scope:m,children:g,...x}=h,y=(m==null?void 0:m[t][l])||a,b=p.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})}function f(h,m){const g=(m==null?void 0:m[t][l])||a,x=p.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,nB(s,...e)]}function nB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var wy="rovingFocusGroup.onEntryFocus",rB={bubbles:!1,cancelable:!0},Vg="RovingFocusGroup",[t_,Yk,sB]=Fg(Vg),[oB,Ug]=tB(Vg,[sB]),[iB,aB]=oB(Vg),Qk=p.forwardRef((t,e)=>u.jsx(t_.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(t_.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(lB,{...t,ref:e})})}));Qk.displayName=Vg;var lB=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...h}=t,m=p.useRef(null),g=We(e,m),x=jf(o),[y=null,b]=Xs({prop:i,defaultProp:a,onChange:l}),[E,w]=p.useState(!1),S=jt(c),C=Yk(n),O=p.useRef(!1),[V,R]=p.useState(0);return p.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(wy,S),()=>_.removeEventListener(wy,S)},[S]),u.jsx(iB,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(_=>b(_),[b]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>R(_=>_-1),[]),children:u.jsx(Ce.div,{tabIndex:E||V===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{O.current=!0}),onFocus:se(t.onFocus,_=>{const I=!O.current;if(_.target===_.currentTarget&&I&&!E){const P=new CustomEvent(wy,rB);if(_.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=C().filter(X=>X.focusable),N=D.find(X=>X.active),k=D.find(X=>X.id===y),Y=[N,k,...D].filter(Boolean).map(X=>X.ref.current);Jk(Y,f)}}O.current=!1}),onBlur:se(t.onBlur,()=>w(!1))})})}),Xk="RovingFocusGroupItem",Zk=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=t,a=Wr(),l=o||a,c=aB(Xk,n),f=c.currentTabStopId===l,h=Yk(n),{onFocusableItemAdd:m,onFocusableItemRemove:g}=c;return p.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),u.jsx(t_.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Ce.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...i,ref:e,onMouseDown:se(t.onMouseDown,x=>{r?c.onItemFocus(l):x.preventDefault()}),onFocus:se(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){c.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=dB(x,c.orientation,c.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=h().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")E.reverse();else if(y==="prev"||y==="next"){y==="prev"&&E.reverse();const w=E.indexOf(x.currentTarget);E=c.loop?fB(E,w+1):E.slice(w+1)}setTimeout(()=>Jk(E))}})})})});Zk.displayName=Xk;var cB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dB(t,e,n){const r=uB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cB[r]}function Jk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function fB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eA=Qk,tA=Zk,n_=["Enter"," "],hB=["ArrowDown","PageUp","Home"],nA=["ArrowUp","PageDown","End"],pB=[...hB,...nA],mB={ltr:[...n_,"ArrowRight"],rtl:[...n_,"ArrowLeft"]},gB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lf="Menu",[Zd,vB,yB]=Fg(Lf),[vl,rA]=Jr(Lf,[yB,Yi,Ug]),$g=Yi(),sA=Ug(),[wB,yl]=vl(Lf),[_B,Ff]=vl(Lf),oA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=t,a=$g(e),[l,c]=p.useState(null),f=p.useRef(!1),h=jt(o),m=jf(s);return p.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),u.jsx(Rg,{...a,children:u.jsx(wB,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:u.jsx(_B,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:i,children:r})})})};oA.displayName=Lf;var xB="MenuAnchor",gx=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=$g(n);return u.jsx(Pf,{...s,...r,ref:e})});gx.displayName=xB;var vx="MenuPortal",[EB,iA]=vl(vx,{forceMount:void 0}),aA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=yl(vx,e);return u.jsx(EB,{scope:e,forceMount:n,children:u.jsx(mn,{present:n||o.open,children:u.jsx(uu,{asChild:!0,container:s,children:r})})})};aA.displayName=vx;var Hr="MenuContent",[bB,yx]=vl(Hr),lA=p.forwardRef((t,e)=>{const n=iA(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=yl(Hr,t.__scopeMenu),i=Ff(Hr,t.__scopeMenu);return u.jsx(Zd.Provider,{scope:t.__scopeMenu,children:u.jsx(mn,{present:r||o.open,children:u.jsx(Zd.Slot,{scope:t.__scopeMenu,children:i.modal?u.jsx(TB,{...s,ref:e}):u.jsx(SB,{...s,ref:e})})})})}),TB=p.forwardRef((t,e)=>{const n=yl(Hr,t.__scopeMenu),r=p.useRef(null),s=We(e,r);return p.useEffect(()=>{const o=r.current;if(o)return jg(o)},[]),u.jsx(wx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),SB=p.forwardRef((t,e)=>{const n=yl(Hr,t.__scopeMenu);return u.jsx(wx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wx=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...y}=t,b=yl(Hr,n),E=Ff(Hr,n),w=$g(n),S=sA(n),C=vB(n),[O,V]=p.useState(null),R=p.useRef(null),_=We(e,R,b.onContentChange),I=p.useRef(0),P=p.useRef(""),D=p.useRef(0),N=p.useRef(null),k=p.useRef("right"),B=p.useRef(0),Y=x?Df:p.Fragment,X=x?{as:Ys,allowPinchZoom:!0}:void 0,j=$=>{var ue,Me;const G=P.current+$,re=C().filter(Ye=>!Ye.disabled),me=document.activeElement,Ee=(ue=re.find(Ye=>Ye.ref.current===me))==null?void 0:ue.textValue,Be=re.map(Ye=>Ye.textValue),ht=LB(Be,G,Ee),He=(Me=re.find(Ye=>Ye.textValue===ht))==null?void 0:Me.ref.current;(function Ye(je){P.current=je,window.clearTimeout(I.current),je!==""&&(I.current=window.setTimeout(()=>Ye(""),1e3))})(G),He&&setTimeout(()=>He.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),Mg();const M=p.useCallback($=>{var re,me;return k.current===((re=N.current)==null?void 0:re.side)&&VB($,(me=N.current)==null?void 0:me.area)},[]);return u.jsx(bB,{scope:n,searchRef:P,onItemEnter:p.useCallback($=>{M($)&&$.preventDefault()},[M]),onItemLeave:p.useCallback($=>{var G;M($)||((G=R.current)==null||G.focus(),V(null))},[M]),onTriggerLeave:p.useCallback($=>{M($)&&$.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback($=>{N.current=$},[]),children:u.jsx(Y,{...X,children:u.jsx(Af,{asChild:!0,trapped:s,onMountAutoFocus:se(o,$=>{var G;$.preventDefault(),(G=R.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(gl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:u.jsx(eA,{asChild:!0,...S,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:V,onEntryFocus:se(l,$=>{E.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Pg,{role:"menu","aria-orientation":"vertical","data-state":TA(b.open),"data-radix-menu-content":"",dir:E.dir,...w,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:se(y.onKeyDown,$=>{const re=$.target.closest("[data-radix-menu-content]")===$.currentTarget,me=$.ctrlKey||$.altKey||$.metaKey,Ee=$.key.length===1;re&&($.key==="Tab"&&$.preventDefault(),!me&&Ee&&j($.key));const Be=R.current;if($.target!==Be||!pB.includes($.key))return;$.preventDefault();const He=C().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);nA.includes($.key)&&He.reverse(),MB(He)}),onBlur:se(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:se(t.onPointerMove,Jd($=>{const G=$.target,re=B.current!==$.clientX;if($.currentTarget.contains(G)&&re){const me=$.clientX>B.current?"right":"left";k.current=me,B.current=$.clientX}}))})})})})})})});lA.displayName=Hr;var CB="MenuGroup",_x=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ce.div,{role:"group",...r,ref:e})});_x.displayName=CB;var IB="MenuLabel",cA=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ce.div,{...r,ref:e})});cA.displayName=IB;var pm="MenuItem",GS="menu.itemSelect",Bg=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=p.useRef(null),i=Ff(pm,t.__scopeMenu),a=yx(pm,t.__scopeMenu),l=We(e,o),c=p.useRef(!1),f=()=>{const h=o.current;if(!n&&h){const m=new CustomEvent(GS,{bubbles:!0,cancelable:!0});h.addEventListener(GS,g=>r==null?void 0:r(g),{once:!0}),J0(h,m),m.defaultPrevented?c.current=!1:i.onClose()}};return u.jsx(uA,{...s,ref:l,disabled:n,onClick:se(t.onClick,f),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),c.current=!0},onPointerUp:se(t.onPointerUp,h=>{var m;c.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:se(t.onKeyDown,h=>{const m=a.searchRef.current!=="";n||m&&h.key===" "||n_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Bg.displayName=pm;var uA=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,i=yx(pm,n),a=sA(n),l=p.useRef(null),c=We(e,l),[f,h]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const x=l.current;x&&g((x.textContent??"").trim())},[o.children]),u.jsx(Zd.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:u.jsx(tA,{asChild:!0,...a,focusable:!r,children:u.jsx(Ce.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:se(t.onPointerMove,Jd(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Jd(x=>i.onItemLeave(x))),onFocus:se(t.onFocus,()=>h(!0)),onBlur:se(t.onBlur,()=>h(!1))})})})}),RB="MenuCheckboxItem",dA=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(gA,{scope:t.__scopeMenu,checked:n,children:u.jsx(Bg,{role:"menuitemcheckbox","aria-checked":mm(n)?"mixed":n,...s,ref:e,"data-state":Ex(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(mm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});dA.displayName=RB;var fA="MenuRadioGroup",[PB,kB]=vl(fA,{value:void 0,onValueChange:()=>{}}),hA=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=jt(r);return u.jsx(PB,{scope:t.__scopeMenu,value:n,onValueChange:o,children:u.jsx(_x,{...s,ref:e})})});hA.displayName=fA;var pA="MenuRadioItem",mA=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=kB(pA,t.__scopeMenu),o=n===s.value;return u.jsx(gA,{scope:t.__scopeMenu,checked:o,children:u.jsx(Bg,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Ex(o),onSelect:se(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});mA.displayName=pA;var xx="MenuItemIndicator",[gA,AB]=vl(xx,{checked:!1}),vA=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=AB(xx,n);return u.jsx(mn,{present:r||mm(o.checked)||o.checked===!0,children:u.jsx(Ce.span,{...s,ref:e,"data-state":Ex(o.checked)})})});vA.displayName=xx;var NB="MenuSeparator",yA=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});yA.displayName=NB;var DB="MenuArrow",wA=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=$g(n);return u.jsx(kg,{...s,...r,ref:e})});wA.displayName=DB;var OB="MenuSub",[ire,_A]=vl(OB),Zu="MenuSubTrigger",xA=p.forwardRef((t,e)=>{const n=yl(Zu,t.__scopeMenu),r=Ff(Zu,t.__scopeMenu),s=_A(Zu,t.__scopeMenu),o=yx(Zu,t.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},f=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),u.jsx(gx,{asChild:!0,...c,children:u.jsx(uA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":TA(n.open),...t,ref:Tg(e,s.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Jd(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:se(t.onPointerLeave,Jd(h=>{var g,x;f();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(x=n.content)==null?void 0:x.dataset.side,b=y==="right",E=b?-5:5,w=m[b?"left":"right"],S=m[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:w,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,h=>{var g;const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||mB[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});xA.displayName=Zu;var EA="MenuSubContent",bA=p.forwardRef((t,e)=>{const n=iA(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=yl(Hr,t.__scopeMenu),i=Ff(Hr,t.__scopeMenu),a=_A(EA,t.__scopeMenu),l=p.useRef(null),c=We(e,l);return u.jsx(Zd.Provider,{scope:t.__scopeMenu,children:u.jsx(mn,{present:r||o.open,children:u.jsx(Zd.Slot,{scope:t.__scopeMenu,children:u.jsx(wx,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:se(t.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{var g;const h=f.currentTarget.contains(f.target),m=gB[i.dir].includes(f.key);h&&m&&(o.onOpenChange(!1),(g=a.trigger)==null||g.focus(),f.preventDefault())})})})})})});bA.displayName=EA;function TA(t){return t?"open":"closed"}function mm(t){return t==="indeterminate"}function Ex(t){return mm(t)?"indeterminate":t?"checked":"unchecked"}function MB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function jB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function LB(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=jB(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function FB(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,l=e[o].y,c=e[i].x,f=e[i].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(s=!s)}return s}function VB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return FB(n,e)}function Jd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var UB=oA,$B=gx,BB=aA,zB=lA,WB=_x,HB=cA,qB=Bg,KB=dA,GB=hA,YB=mA,QB=vA,XB=yA,ZB=wA,JB=xA,e6=bA,bx="DropdownMenu",[t6,are]=Jr(bx,[rA]),er=rA(),[n6,SA]=t6(bx),CA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,l=er(e),c=p.useRef(null),[f=!1,h]=Xs({prop:s,defaultProp:o,onChange:i});return u.jsx(n6,{scope:e,triggerId:Wr(),triggerRef:c,contentId:Wr(),open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:a,children:u.jsx(UB,{...l,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};CA.displayName=bx;var IA="DropdownMenuTrigger",RA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=SA(IA,n),i=er(n);return u.jsx($B,{asChild:!0,...i,children:u.jsx(Ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Tg(e,o.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});RA.displayName=IA;var r6="DropdownMenuPortal",PA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=er(e);return u.jsx(BB,{...r,...n})};PA.displayName=r6;var kA="DropdownMenuContent",AA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=SA(kA,n),o=er(n),i=p.useRef(!1);return u.jsx(zB,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!s.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AA.displayName=kA;var s6="DropdownMenuGroup",o6=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(WB,{...s,...r,ref:e})});o6.displayName=s6;var i6="DropdownMenuLabel",NA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(HB,{...s,...r,ref:e})});NA.displayName=i6;var a6="DropdownMenuItem",DA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(qB,{...s,...r,ref:e})});DA.displayName=a6;var l6="DropdownMenuCheckboxItem",OA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(KB,{...s,...r,ref:e})});OA.displayName=l6;var c6="DropdownMenuRadioGroup",u6=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(GB,{...s,...r,ref:e})});u6.displayName=c6;var d6="DropdownMenuRadioItem",MA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(YB,{...s,...r,ref:e})});MA.displayName=d6;var f6="DropdownMenuItemIndicator",jA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(QB,{...s,...r,ref:e})});jA.displayName=f6;var h6="DropdownMenuSeparator",LA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(XB,{...s,...r,ref:e})});LA.displayName=h6;var p6="DropdownMenuArrow",m6=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(ZB,{...s,...r,ref:e})});m6.displayName=p6;var g6="DropdownMenuSubTrigger",FA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(JB,{...s,...r,ref:e})});FA.displayName=g6;var v6="DropdownMenuSubContent",VA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=er(n);return u.jsx(e6,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VA.displayName=v6;var y6=CA,w6=RA,_6=PA,UA=AA,$A=NA,BA=DA,zA=OA,WA=MA,HA=jA,qA=LA,KA=FA,GA=VA;const x6=y6,E6=p.forwardRef((t,e)=>u.jsx(w6,{ref:e,...t})),b6=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(KA,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(DP,{className:"ml-auto h-4 w-4"})]}));b6.displayName=KA.displayName;const T6=p.forwardRef(({className:t,...e},n)=>u.jsx(GA,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));T6.displayName=GA.displayName;const YA=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(_6,{children:u.jsx(UA,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));YA.displayName=UA.displayName;const wp=p.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(BA,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));wp.displayName=BA.displayName;const S6=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(zA,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(HA,{children:u.jsx(K0,{className:"h-4 w-4"})})}),e]}));S6.displayName=zA.displayName;const C6=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(WA,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(HA,{children:u.jsx(r3,{className:"h-2 w-2 fill-current"})})}),e]}));C6.displayName=WA.displayName;const I6=p.forwardRef(({className:t,inset:e,...n},r)=>u.jsx($A,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));I6.displayName=$A.displayName;const R6=p.forwardRef(({className:t,...e},n)=>u.jsx(qA,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));R6.displayName=qA.displayName;const P6={theme:"system",setTheme:()=>null},QA=p.createContext(P6);function k6({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,o]=p.useState(()=>localStorage.getItem(n)||e);p.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(s)},[s]);const i={theme:s,setTheme:a=>{localStorage.setItem(n,a),o(a)}};return u.jsx(QA.Provider,{...r,value:i,children:t})}const A6=()=>{const t=p.useContext(QA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},YS=p.forwardRef((t,e)=>{const{setTheme:n}=A6();return u.jsxs(x6,{children:[u.jsx(E6,{ref:e,className:"border-none bg-inherit text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8 hover:bg-transparent active:bg-transparent focus:border-nonee focus:ring-0",asChild:!0,children:u.jsxs(Pe,{variant:"outline",size:"icon",children:[u.jsx(d3,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),u.jsx(c3,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}),u.jsxs(YA,{align:"end",className:"absolute -top-20 ml-3",children:[u.jsx(wp,{onClick:()=>n("light"),children:"Light"}),u.jsx(wp,{onClick:()=>n("dark"),children:"Dark"}),u.jsx(wp,{onClick:()=>n("system"),children:"System"})]})]})});var Tx="Dialog",[XA,ZA]=Jr(Tx),[N6,Ps]=XA(Tx),JA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=p.useRef(null),l=p.useRef(null),[c=!1,f]=Xs({prop:r,defaultProp:s,onChange:o});return u.jsx(N6,{scope:e,triggerRef:a,contentRef:l,contentId:Wr(),titleId:Wr(),descriptionId:Wr(),open:c,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};JA.displayName=Tx;var eN="DialogTrigger",tN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ps(eN,n),o=We(e,s.triggerRef);return u.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ix(s.open),...r,ref:o,onClick:se(t.onClick,s.onOpenToggle)})});tN.displayName=eN;var Sx="DialogPortal",[D6,nN]=XA(Sx,{forceMount:void 0}),rN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ps(Sx,e);return u.jsx(D6,{scope:e,forceMount:n,children:p.Children.map(r,i=>u.jsx(mn,{present:n||o.open,children:u.jsx(uu,{asChild:!0,container:s,children:i})}))})};rN.displayName=Sx;var gm="DialogOverlay",sN=p.forwardRef((t,e)=>{const n=nN(gm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ps(gm,t.__scopeDialog);return o.modal?u.jsx(mn,{present:r||o.open,children:u.jsx(O6,{...s,ref:e})}):null});sN.displayName=gm;var O6=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ps(gm,n);return u.jsx(Df,{as:Ys,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Ce.div,{"data-state":Ix(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$a="DialogContent",oN=p.forwardRef((t,e)=>{const n=nN($a,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ps($a,t.__scopeDialog);return u.jsx(mn,{present:r||o.open,children:o.modal?u.jsx(M6,{...s,ref:e}):u.jsx(j6,{...s,ref:e})})});oN.displayName=$a;var M6=p.forwardRef((t,e)=>{const n=Ps($a,t.__scopeDialog),r=p.useRef(null),s=We(e,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return jg(o)},[]),u.jsx(iN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault())})}),j6=p.forwardRef((t,e)=>{const n=Ps($a,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return u.jsx(iN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),iN=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Ps($a,n),l=p.useRef(null),c=We(e,l);return Mg(),u.jsxs(u.Fragment,{children:[u.jsx(Af,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(gl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ix(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(F6,{titleId:a.titleId}),u.jsx(U6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Cx="DialogTitle",aN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ps(Cx,n);return u.jsx(Ce.h2,{id:s.titleId,...r,ref:e})});aN.displayName=Cx;var lN="DialogDescription",cN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ps(lN,n);return u.jsx(Ce.p,{id:s.descriptionId,...r,ref:e})});cN.displayName=lN;var uN="DialogClose",dN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ps(uN,n);return u.jsx(Ce.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});dN.displayName=uN;function Ix(t){return t?"open":"closed"}var fN="DialogTitleWarning",[L6,hN]=h3(fN,{contentName:$a,titleName:Cx,docsSlug:"dialog"}),F6=({titleId:t})=>{const e=hN(fN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},V6="DialogDescriptionWarning",U6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hN(V6).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pN=JA,mN=tN,gN=rN,Rx=sN,Px=oN,kx=aN,Ax=cN,Nx=dN;const Xi=pN,Zi=mN,$6=gN,vN=p.forwardRef(({className:t,...e},n)=>u.jsx(Rx,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));vN.displayName=Rx.displayName;const Fo=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs($6,{children:[u.jsx(vN,{}),u.jsxs(Px,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Nx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(X0,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fo.displayName=Px.displayName;const Vo=({className:t,...e})=>u.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vo.displayName="DialogHeader";const Ji=({className:t,...e})=>u.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ji.displayName="DialogFooter";const Uo=p.forwardRef(({className:t,...e},n)=>u.jsx(kx,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));Uo.displayName=kx.displayName;const $o=p.forwardRef(({className:t,...e},n)=>u.jsx(Ax,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));$o.displayName=Ax.displayName;var QS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},B6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},wN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;l||(g=64,i||(m=64)),r.push(n[f],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||h==null)throw new z6;const m=o<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W6=function(t){const e=yN(t);return wN.encodeByteArray(e,!0)},vm=function(t){return W6(t).replace(/\./g,"")},_N=function(t){try{return wN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=()=>H6().__FIREBASE_DEFAULTS__,K6=()=>{if(typeof process>"u"||typeof QS>"u")return;const t=QS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_N(t[1]);return e&&JSON.parse(e)},zg=()=>{try{return q6()||K6()||G6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xN=t=>{var e,n;return(n=(e=zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EN=t=>{const e=xN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bN=()=>{var t;return(t=zg())===null||t===void 0?void 0:t.config},TN=t=>{var e;return(e=zg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify(n)),vm(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function X6(){var t;const e=(t=zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ez(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tz(){return!X6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IN(){try{return typeof indexedDB=="object"}catch{return!1}}function RN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function nz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rz,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?sz(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new es(s,a,r)}}function sz(t,e){return t.replace(oz,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oz=/\{\$([^}]+)}/g;function iz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ba(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(XS(o)&&XS(i)){if(!Ba(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function ed(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function az(t,e){const n=new lz(t,e);return n.subscribe.bind(n)}class lz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cz(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_y),s.error===void 0&&(s.error=_y),s.complete===void 0&&(s.complete=_y);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _y(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=1e3,dz=2,fz=4*60*60*1e3,hz=.5;function ZS(t,e=uz,n=dz){const r=e*Math.pow(n,t),s=Math.round(hz*r*(Math.random()-.5)*2);return Math.min(fz,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pz=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gz(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mz(t){return t===ya?void 0:t}function gz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const yz={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},wz=ot.INFO,_z={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},xz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_z[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=wz,this._logHandler=xz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Ez=(t,e)=>e.some(n=>t instanceof n);let JS,eC;function bz(){return JS||(JS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tz(){return eC||(eC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PN=new WeakMap,r_=new WeakMap,kN=new WeakMap,xy=new WeakMap,Dx=new WeakMap;function Sz(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Ci(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&PN.set(n,t)}).catch(()=>{}),Dx.set(e,t),e}function Cz(t){if(r_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});r_.set(t,e)}let s_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Iz(t){s_=t(s_)}function Rz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ey(this),e,...n);return kN.set(r,e.sort?e.sort():[e]),Ci(r)}:Tz().includes(t)?function(...e){return t.apply(Ey(this),e),Ci(PN.get(this))}:function(...e){return Ci(t.apply(Ey(this),e))}}function Pz(t){return typeof t=="function"?Rz(t):(t instanceof IDBTransaction&&Cz(t),Ez(t,bz())?new Proxy(t,s_):t)}function Ci(t){if(t instanceof IDBRequest)return Sz(t);if(xy.has(t))return xy.get(t);const e=Pz(t);return e!==t&&(xy.set(t,e),Dx.set(e,t)),e}const Ey=t=>Dx.get(t);function AN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Ci(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Ci(i.result),l.oldVersion,l.newVersion,Ci(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kz=["get","getKey","getAll","getAllKeys","count"],Az=["put","add","delete","clear"],by=new Map;function tC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Az.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kz.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return by.set(e,o),o}Iz(t=>({...t,get:(e,n,r)=>tC(e,n)||t.get(e,n,r),has:(e,n)=>!!tC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o_="@firebase/app",nC="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Wg("@firebase/app"),Oz="@firebase/app-compat",Mz="@firebase/analytics-compat",jz="@firebase/analytics",Lz="@firebase/app-check-compat",Fz="@firebase/app-check",Vz="@firebase/auth",Uz="@firebase/auth-compat",$z="@firebase/database",Bz="@firebase/data-connect",zz="@firebase/database-compat",Wz="@firebase/functions",Hz="@firebase/functions-compat",qz="@firebase/installations",Kz="@firebase/installations-compat",Gz="@firebase/messaging",Yz="@firebase/messaging-compat",Qz="@firebase/performance",Xz="@firebase/performance-compat",Zz="@firebase/remote-config",Jz="@firebase/remote-config-compat",eW="@firebase/storage",tW="@firebase/storage-compat",nW="@firebase/firestore",rW="@firebase/vertexai-preview",sW="@firebase/firestore-compat",oW="firebase",iW="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="[DEFAULT]",aW={[o_]:"fire-core",[Oz]:"fire-core-compat",[jz]:"fire-analytics",[Mz]:"fire-analytics-compat",[Fz]:"fire-app-check",[Lz]:"fire-app-check-compat",[Vz]:"fire-auth",[Uz]:"fire-auth-compat",[$z]:"fire-rtdb",[Bz]:"fire-data-connect",[zz]:"fire-rtdb-compat",[Wz]:"fire-fn",[Hz]:"fire-fn-compat",[qz]:"fire-iid",[Kz]:"fire-iid-compat",[Gz]:"fire-fcm",[Yz]:"fire-fcm-compat",[Qz]:"fire-perf",[Xz]:"fire-perf-compat",[Zz]:"fire-rc",[Jz]:"fire-rc-compat",[eW]:"fire-gcs",[tW]:"fire-gcs-compat",[nW]:"fire-fst",[sW]:"fire-fst-compat",[rW]:"fire-vertex","fire-js":"fire-js",[oW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Map,lW=new Map,a_=new Map;function rC(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ts(t){const e=t.name;if(a_.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of ym.values())rC(n,t);for(const n of lW.values())rC(n,t);return!0}function ea(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new wl("app","Firebase",cW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=iW;function NN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:i_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ii.create("bad-app-name",{appName:String(s)});if(n||(n=bN()),!n)throw Ii.create("no-options");const o=ym.get(s);if(o){if(Ba(n,o.options)&&Ba(r,o.config))return o;throw Ii.create("duplicate-app",{appName:s})}const i=new vz(s);for(const l of a_.values())i.addComponent(l);const a=new uW(n,r,i);return ym.set(s,a),a}function Hg(t=i_){const e=ym.get(t);if(!e&&t===i_&&bN())return NN();if(!e)throw Ii.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let s=(r=aW[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ao.warn(a.join(" "));return}Ts(new Yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="firebase-heartbeat-database",fW=1,ef="firebase-heartbeat-store";let Ty=null;function DN(){return Ty||(Ty=AN(dW,fW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ef)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),Ty}async function hW(t){try{const n=(await DN()).transaction(ef),r=await n.objectStore(ef).get(ON(t));return await n.done,r}catch(e){if(e instanceof es)Ao.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ao.warn(n.message)}}}async function sC(t,e){try{const r=(await DN()).transaction(ef,"readwrite");await r.objectStore(ef).put(e,ON(t)),await r.done}catch(n){if(n instanceof es)Ao.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ao.warn(r.message)}}}function ON(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=1024,mW=30*24*60*60*1e3;class gW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=mW}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ao.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oC(),{heartbeatsToSend:r,unsentEntries:s}=vW(this._heartbeatsCache.heartbeats),o=vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ao.warn(n),""}}}function oC(){return new Date().toISOString().substring(0,10)}function vW(t,e=pW){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),iC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),iC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IN()?RN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iC(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){Ts(new Yr("platform-logger",e=>new Nz(e),"PRIVATE")),Ts(new Yr("heartbeat",e=>new gW(e),"PRIVATE")),dr(o_,nC,t),dr(o_,nC,"esm2017"),dr("fire-js","")}wW("");var _W="firebase",xW="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(_W,xW,"app");const MN="@firebase/installations",Ox="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1e4,LN=`w:${Ox}`,FN="FIS_v2",EW="https://firebaseinstallations.googleapis.com/v1",bW=60*60*1e3,TW="installations",SW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},za=new wl(TW,SW,CW);function VN(t){return t instanceof es&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN({projectId:t}){return`${EW}/projects/${t}/installations`}function $N(t){return{token:t.token,requestStatus:2,expiresIn:RW(t.expiresIn),creationTime:Date.now()}}async function BN(t,e){const r=(await e.json()).error;return za.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IW(t,{refreshToken:e}){const n=zN(t);return n.append("Authorization",PW(e)),n}async function WN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function RW(t){return Number(t.replace("s","000"))}function PW(t){return`${FN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=UN(t),s=zN(t),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const i={fid:n,authVersion:FN,appId:t.appId,sdkVersion:LN},a={method:"POST",headers:s,body:JSON.stringify(i)},l=await WN(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:$N(c.authToken)}}else throw await BN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=/^[cdef][\w-]{21}$/,l_="";function DW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=OW(t);return NW.test(n)?n:l_}catch{return l_}}function OW(t){return AW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Map;function KN(t,e){const n=qg(t);GN(n,e),MW(n,e)}function GN(t,e){const n=qN.get(t);if(n)for(const r of n)r(e)}function MW(t,e){const n=jW();n&&n.postMessage({key:t,fid:e}),LW()}let Sa=null;function jW(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=t=>{GN(t.data.key,t.data.fid)}),Sa}function LW(){qN.size===0&&Sa&&(Sa.close(),Sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW="firebase-installations-database",VW=1,Wa="firebase-installations-store";let Sy=null;function Mx(){return Sy||(Sy=AN(FW,VW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wa)}}})),Sy}async function wm(t,e){const n=qg(t),s=(await Mx()).transaction(Wa,"readwrite"),o=s.objectStore(Wa),i=await o.get(n);return await o.put(e,n),await s.done,(!i||i.fid!==e.fid)&&KN(t,e.fid),e}async function YN(t){const e=qg(t),r=(await Mx()).transaction(Wa,"readwrite");await r.objectStore(Wa).delete(e),await r.done}async function Kg(t,e){const n=qg(t),s=(await Mx()).transaction(Wa,"readwrite"),o=s.objectStore(Wa),i=await o.get(n),a=e(i);return a===void 0?await o.delete(n):await o.put(a,n),await s.done,a&&(!i||i.fid!==a.fid)&&KN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(t){let e;const n=await Kg(t.appConfig,r=>{const s=UW(r),o=$W(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===l_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function UW(t){const e=t||{fid:DW(),registrationStatus:0};return QN(e)}function $W(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(za.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zW(t)}:{installationEntry:e}}async function BW(t,e){try{const n=await kW(t,e);return wm(t.appConfig,n)}catch(n){throw VN(n)&&n.customData.serverCode===409?await YN(t.appConfig):await wm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zW(t){let e=await aC(t.appConfig);for(;e.registrationStatus===1;)await HN(100),e=await aC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jx(t);return r||n}return e}function aC(t){return Kg(t,e=>{if(!e)throw za.create("installation-not-found");return QN(e)})}function QN(t){return WW(t)?{fid:t.fid,registrationStatus:0}:t}function WW(t){return t.registrationStatus===1&&t.registrationTime+jN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW({appConfig:t,heartbeatServiceProvider:e},n){const r=qW(t,n),s=IW(t,n),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const i={installation:{sdkVersion:LN,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(i)},l=await WN(()=>fetch(r,a));if(l.ok){const c=await l.json();return $N(c)}else throw await BN("Generate Auth Token",l)}function qW(t,{fid:e}){return`${UN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e=!1){let n;const r=await Kg(t.appConfig,o=>{if(!XN(o))throw za.create("not-registered");const i=o.authToken;if(!e&&YW(i))return o;if(i.requestStatus===1)return n=KW(t,e),o;{if(!navigator.onLine)throw za.create("app-offline");const a=XW(o);return n=GW(t,a),a}});return n?await n:r.authToken}async function KW(t,e){let n=await lC(t.appConfig);for(;n.authToken.requestStatus===1;)await HN(100),n=await lC(t.appConfig);const r=n.authToken;return r.requestStatus===0?Lx(t,e):r}function lC(t){return Kg(t,e=>{if(!XN(e))throw za.create("not-registered");const n=e.authToken;return ZW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GW(t,e){try{const n=await HW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await wm(t.appConfig,r),n}catch(n){if(VN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await YN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await wm(t.appConfig,r)}throw n}}function XN(t){return t!==void 0&&t.registrationStatus===2}function YW(t){return t.requestStatus===2&&!QW(t)}function QW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bW}function XW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZW(t){return t.requestStatus===1&&t.requestTime+jN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t){const e=t,{installationEntry:n,registrationPromise:r}=await jx(e);return r?r.catch(console.error):Lx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(t,e=!1){const n=t;return await t8(n),(await Lx(n,e)).token}async function t8(t){const{registrationPromise:e}=await jx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){if(!t||!t.options)throw Cy("App Configuration");if(!t.name)throw Cy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cy(t){return za.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="installations",r8="installations-internal",s8=t=>{const e=t.getProvider("app").getImmediate(),n=n8(e),r=ea(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},o8=t=>{const e=t.getProvider("app").getImmediate(),n=ea(e,ZN).getImmediate();return{getId:()=>JW(n),getToken:s=>e8(n,s)}};function i8(){Ts(new Yr(ZN,s8,"PUBLIC")),Ts(new Yr(r8,o8,"PRIVATE"))}i8();dr(MN,Ox);dr(MN,Ox,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="analytics",a8="firebase_id",l8="origin",c8=60*1e3,u8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Wg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ir=new wl("analytics","Analytics",d8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){if(!t.startsWith(Fx)){const e=Ir.create("invalid-gtag-resource",{gtagURL:t});return Qn.warn(e.message),""}return t}function JN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function p8(t,e){const n=h8("firebase-js-sdk-policy",{createScriptURL:f8}),r=document.createElement("script"),s=`${Fx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function m8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function g8(t,e,n,r,s,o){const i=r[s];try{if(i)await e[i];else{const l=(await JN(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Qn.error(a)}t("config",s,o)}async function v8(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let i=s.send_to;Array.isArray(i)||(i=[i]);const a=await JN(n);for(const l of i){const c=a.find(h=>h.measurementId===l),f=c&&e[c.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){Qn.error(o)}}function y8(t,e,n,r){async function s(o,...i){try{if(o==="event"){const[a,l]=i;await v8(t,e,n,a,l)}else if(o==="config"){const[a,l]=i;await g8(t,e,n,r,a,l)}else if(o==="consent"){const[a,l]=i;t("consent",a,l)}else if(o==="get"){const[a,l,c]=i;t("get",a,l,c)}else if(o==="set"){const[a]=i;t("set",a)}else t(o,...i)}catch(a){Qn.error(a)}}return s}function w8(t,e,n,r,s){let o=function(...i){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=y8(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function _8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Fx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=30,E8=1e3;class b8{constructor(e={},n=E8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eD=new b8;function T8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function S8(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:T8(r)},o=u8.replace("{app-id}",n),i=await fetch(o,s);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function C8(t,e=eD,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw Ir.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw Ir.create("no-api-key")}const i=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new P8;return setTimeout(async()=>{a.abort()},c8),tD({appId:r,apiKey:s,measurementId:o},i,a,e)}async function tD(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=eD){var o;const{appId:i,measurementId:a}=t;try{await I8(r,e)}catch(l){if(a)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw l}try{const l=await S8(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!R8(c)){if(s.deleteThrottleMetadata(i),a)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw l}const f=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?ZS(n,s.intervalMillis,x8):ZS(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,h),Qn.debug(`Calling attemptFetch again in ${f} millis`),tD(t,h,r,s)}}function I8(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function R8(t){if(!(t instanceof es)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class P8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function k8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,i=Object.assign(Object.assign({},r),{send_to:o});t("event",n,i)}}async function A8(t,e,n,r){{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(){if(IN())try{await RN()}catch(t){return Qn.warn(Ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qn.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D8(t,e,n,r,s,o,i){var a;const l=C8(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Qn.error(g)),e.push(l);const c=N8().then(g=>{if(g)return r.getId()}),[f,h]=await Promise.all([l,c]);_8(o)||p8(o,f.measurementId),s("js",new Date);const m=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return m[l8]="firebase",m.update=!0,h!=null&&(m[a8]=h),s("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.app=e}_delete(){return delete yc[this.app.options.appId],Promise.resolve()}}let yc={},cC=[];const uC={};let Iy="dataLayer",M8="gtag",dC,Vx,fC=!1;function j8(){const t=[];if(CN()&&t.push("This is a browser extension environment."),nz()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:e});Qn.warn(n.message)}}function L8(t,e,n){j8();const r=t.options.appId;if(!r)throw Ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ir.create("no-api-key");if(yc[r]!=null)throw Ir.create("already-exists",{id:r});if(!fC){m8(Iy);const{wrappedGtag:o,gtagCore:i}=w8(yc,cC,uC,Iy,M8);Vx=o,dC=i,fC=!0}return yc[r]=D8(t,cC,uC,e,dC,Iy,n),new O8(t)}function c_(t=Hg()){t=Et(t);const e=ea(t,_m);return e.isInitialized()?e.getImmediate():F8(t)}function F8(t,e={}){const n=ea(t,_m);if(n.isInitialized()){const s=n.getImmediate();if(Ba(e,n.getOptions()))return s;throw Ir.create("already-initialized")}return n.initialize({options:e})}function hC(t,e,n){t=Et(t),A8(Vx,yc[t.app.options.appId],e).catch(r=>Qn.error(r))}function V8(t,e,n,r){t=Et(t),k8(Vx,yc[t.app.options.appId],e,n,r).catch(s=>Qn.error(s))}const pC="@firebase/analytics",mC="0.10.8";function U8(){Ts(new Yr(_m,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return L8(r,s,n)},"PUBLIC")),Ts(new Yr("analytics-internal",t,"PRIVATE")),dr(pC,mC),dr(pC,mC,"esm2017");function t(e){try{const n=e.getProvider(_m).getImmediate();return{logEvent:(r,s,o)=>V8(n,r,s,o)}}catch(n){throw Ir.create("interop-component-reg-failed",{reason:n})}}}U8();function nD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $8=nD,rD=new wl("auth","Firebase",nD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Wg("@firebase/auth");function B8(t,...e){xm.logLevel<=ot.WARN&&xm.warn(`Auth (${_l}): ${t}`,...e)}function _p(t,...e){xm.logLevel<=ot.ERROR&&xm.error(`Auth (${_l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw $x(t,...e)}function ys(t,...e){return $x(t,...e)}function Ux(t,e,n){const r=Object.assign(Object.assign({},$8()),{[e]:n});return new wl("auth","Firebase",r).create(e,{appName:t.name})}function bo(t){return Ux(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),Ux(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $x(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rD.create(t,...e)}function Ne(t,e,...n){if(!t)throw $x(e,...n)}function vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function No(t,e){t||vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W8(){return gC()==="http:"||gC()==="https:"}function gC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W8()||CN()||"connection"in navigator)?navigator.onLine:!0}function q8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.shortDelay=e,this.longDelay=n,No(n>e,"Short delay should be less than long delay!"),this.isMobile=Q6()||J6()}get(){return H8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e){No(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=new Uf(3e4,6e4);function ta(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bo(t,e,n,r,s={}){return oD(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=Vf(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return Z6()||(c.referrerPolicy="no-referrer"),sD.fetch()(iD(t,t.config.apiHost,n,a),c)})}async function oD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},K8),e);try{const s=new Q8(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw qh(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw qh(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw qh(t,"user-disabled",i);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ux(t,f,c);Qr(t,f)}}catch(s){if(s instanceof es)throw s;Qr(t,"network-request-failed",{message:String(s)})}}async function $f(t,e,n,r,s={}){const o=await Bo(t,e,n,r,s);return"mfaPendingCredential"in o&&Qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function iD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Bx(t.config,s):`${t.config.apiScheme}://${s}`}function Y8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ys(this.auth,"network-request-failed")),G8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ys(t,e,r);return s.customData._tokenResponse=n,s}function vC(t){return t!==void 0&&t.enterprise!==void 0}class X8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Z8(t,e){return Bo(t,"GET","/v2/recaptchaConfig",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return Bo(t,"POST","/v1/accounts:delete",e)}async function aD(t,e){return Bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eH(t,e=!1){const n=Et(t),r=await n.getIdToken(e),s=zx(r);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:yd(Ry(s.auth_time)),issuedAtTime:yd(Ry(s.iat)),expirationTime:yd(Ry(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ry(t){return Number(t)*1e3}function zx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const s=_N(n);return s?JSON.parse(s):(_p("Failed to decode base64 JWT payload"),null)}catch(s){return _p("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yC(t){const e=zx(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&tH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yd(this.lastLoginAt),this.creationTime=yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Lc(t,aD(n,{idToken:r}));Ne(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lD(o.providerUserInfo):[],a=sH(t.providerData,i),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new d_(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function rH(t){const e=Et(t);await Em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lD(t){return t.map(e=>{var{providerId:n}=e,r=Nf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e){const n=await oD(t,{},async()=>{const r=Vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=iD(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sD.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iH(t,e){return Bo(t,"POST","/v2/accounts:revokeToken",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=yC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await oH(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new wc;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Ne(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wc,this.toJSON())}_performRefresh(){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new d_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eH(this,e)}reload(){return rH(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Em(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(bo(this.auth));const e=await this.getIdToken();return await Lc(this,J8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(i=n.photoURL)!==null&&i!==void 0?i:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:C,isAnonymous:O,providerData:V,stsTokenManager:R}=n;Ne(S&&R,e,"internal-error");const _=wc.fromJSON(this.name,R);Ne(typeof S=="string",e,"internal-error"),Jo(h,e.name),Jo(m,e.name),Ne(typeof C=="boolean",e,"internal-error"),Ne(typeof O=="boolean",e,"internal-error"),Jo(g,e.name),Jo(x,e.name),Jo(y,e.name),Jo(b,e.name),Jo(E,e.name),Jo(w,e.name);const I=new yo({uid:S,auth:e,email:m,emailVerified:C,displayName:h,isAnonymous:O,photoURL:x,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:E,lastLoginAt:w});return V&&Array.isArray(V)&&(I.providerData=V.map(P=>Object.assign({},P))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new wc;s.updateFromServerResponse(n);const o=new yo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Em(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?lD(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),a=new wc;a.updateFromIdToken(r);const l=new yo({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new d_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Map;function wo(t){No(t instanceof Function,"Expected a class definition");let e=wC.get(t);return e?(No(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cD.type="NONE";const _C=cD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e,n){return`firebase:${t}:${e}:${n}`}class _c{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=xp(this.userKey,s.apiKey,o),this.fullPersistenceKey=xp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _c(wo(_C),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=s[0]||wo(_C);const i=xp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(i);if(f){const h=yo._fromJSON(e,f);c!==o&&(a=h),o=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new _c(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(i)}catch{}})),new _c(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mD(e))return"Blackberry";if(gD(e))return"Webos";if(dD(e))return"Safari";if((e.includes("chrome/")||fD(e))&&!e.includes("edge/"))return"Chrome";if(pD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uD(t=jn()){return/firefox\//i.test(t)}function dD(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fD(t=jn()){return/crios\//i.test(t)}function hD(t=jn()){return/iemobile/i.test(t)}function pD(t=jn()){return/android/i.test(t)}function mD(t=jn()){return/blackberry/i.test(t)}function gD(t=jn()){return/webos/i.test(t)}function Wx(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aH(t=jn()){var e;return Wx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lH(){return ez()&&document.documentMode===10}function vD(t=jn()){return Wx(t)||pD(t)||gD(t)||mD(t)||/windows phone/i.test(t)||hD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e=[]){let n;switch(t){case"Browser":n=xC(jn());break;case"Worker":n=`${xC(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(t,e={}){return Bo(t,"GET","/v2/passwordPolicy",ta(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=6;class fH{constructor(e){var n,r,s,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:dH,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EC(this),this.idTokenSubscription=new EC(this),this.beforeStateQueue=new cH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wo(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await _c.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aD(this,{idToken:e}),r=await yo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Em(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(bo(this));const n=e?Et(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uH(this),n=new fH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wo(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await _c.create(this,[wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function na(t){return Et(t)}class EC{constructor(e){this.auth=e,this.observer=null,this.addObserver=az(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pH(t){Gg=t}function wD(t){return Gg.loadJS(t)}function mH(){return Gg.recaptchaEnterpriseScript}function gH(){return Gg.gapiScript}function vH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const yH="recaptcha-enterprise",wH="NO_RECAPTCHA";class _H{constructor(e){this.type=yH,this.auth=na(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{Z8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new X8(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,i(c.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;vC(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{i(c)}).catch(()=>{i(wH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&vC(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mH();l.length!==0&&(l+=a),wD(l).then(()=>{s(a,o,i)}).catch(c=>{i(c)})}}).catch(a=>{i(a)})})}}async function bC(t,e,n,r=!1){const s=new _H(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function f_(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await bC(t,e,n,n==="getOobCode");return r(t,i)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t,e){const n=ea(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ba(o,e??{}))return s;Qr(s,"already-initialized")}return n.initialize({options:e})}function EH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bH(t,e,n){const r=na(t);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=_D(e),{host:i,port:a}=TH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),SH()}function _D(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TH(t){const e=_D(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:TC(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:TC(i)}}}function TC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,n){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}async function CH(t,e){return Bo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IH(t,e){return $f(t,"POST","/v1/accounts:signInWithPassword",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e){return $f(t,"POST","/v1/accounts:signInWithEmailLink",ta(t,e))}async function PH(t,e){return $f(t,"POST","/v1/accounts:signInWithEmailLink",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends Hx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,n,"signInWithPassword",IH);case"emailLink":return RH(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,r,"signUpPassword",CH);case"emailLink":return PH(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e){return $f(t,"POST","/v1/accounts:signInWithIdp",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="http://localhost";class Ha extends Hx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Nf(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new Ha(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return xc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xc(e,n)}buildRequest(){const e={requestUri:kH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NH(t){const e=Ju(ed(t)).link,n=e?Ju(ed(e)).deep_link_id:null,r=Ju(ed(t)).deep_link_id;return(r?Ju(ed(r)).link:null)||r||n||e||t}class qx{constructor(e){var n,r,s,o,i,a;const l=Ju(ed(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=AH((s=l.mode)!==null&&s!==void 0?s:null);Ne(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=NH(e);try{return new qx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(e,n){return tf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qx.parseLink(n);return Ne(r,"argument-error"),tf._fromEmailAndCode(e,r.code,r.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Bf{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return po.credential(n,r)}catch{return null}}}po.GOOGLE_SIGN_IN_METHOD="google.com";po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Bf{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Bf{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH(t,e){return $f(t,"POST","/v1/accounts:signUp",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await yo._fromIdTokenResponse(e,r,s),i=SC(r);return new qa({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=SC(r);return new qa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function SC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends es{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bm(e,n,r,s)}}function xD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(t,o,e,r):o})}async function OH(t,e,n=!1){const r=await Lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e,n=!1){const{auth:r}=t;if(fs(r.app))return Promise.reject(bo(r));const s="reauthenticate";try{const o=await Lc(t,xD(r,s,e,t),n);Ne(o.idToken,r,"internal-error");const i=zx(o.idToken);Ne(i,r,"internal-error");const{sub:a}=i;return Ne(t.uid===a,r,"user-mismatch"),qa._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e,n=!1){if(fs(t.app))return Promise.reject(bo(t));const r="signIn",s=await xD(t,r,e),o=await qa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function jH(t,e){return ED(na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t){const e=na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LH(t,e,n){if(fs(t.app))return Promise.reject(bo(t));const r=na(t),i=await f_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bD(t),l}),a=await qa._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function FH(t,e,n){return fs(t.app)?Promise.reject(bo(t)):jH(Et(t),fu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH(t,e){return Bo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Et(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await Lc(r,VH(r.auth,o));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}function UH(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function $H(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Gx(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function BH(t){return Et(t).signOut()}const Tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tm,"1"),this.storage.removeItem(Tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=1e3,WH=10;class CD extends SD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);lH()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CD.type="LOCAL";const HH=CD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends SD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ID.type="SESSION";const RD=ID;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async c=>c(n.origin,o)),l=await qH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const c=Yx("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function GH(t){Hs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function YH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XH(){return PD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebaseLocalStorageDb",ZH=1,Sm="firebaseLocalStorage",AD="fbase_key";class zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qg(t,e){return t.transaction([Sm],e?"readwrite":"readonly").objectStore(Sm)}function JH(){const t=indexedDB.deleteDatabase(kD);return new zf(t).toPromise()}function h_(){const t=indexedDB.open(kD,ZH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sm,{keyPath:AD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sm)?e(r):(r.close(),await JH(),e(await h_()))})})}async function CC(t,e,n){const r=Qg(t,!0).put({[AD]:e,value:n});return new zf(r).toPromise()}async function e7(t,e){const n=Qg(t,!1).get(e),r=await new zf(n).toPromise();return r===void 0?null:r.value}function IC(t,e){const n=Qg(t,!0).delete(e);return new zf(n).toPromise()}const t7=800,n7=3;class ND{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yg._getInstance(XH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YH(),!this.activeServiceWorker)return;this.sender=new KH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await CC(e,Tm,"1"),await IC(e,Tm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Qg(s,!1).getAll();return new zf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ND.type="LOCAL";const r7=ND;new Uf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e){return e?wo(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends Hx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s7(t){return ED(t.auth,new Qx(t),t.bypassAuthState)}function o7(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),MH(n,new Qx(t),t.bypassAuthState)}async function i7(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),OH(n,new Qx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s7;case"linkViaPopup":case"linkViaRedirect":return i7;case"reauthViaPopup":case"reauthViaRedirect":return o7;default:Qr(this.auth,"internal-error")}}resolve(e){No(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){No(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=new Uf(2e3,1e4);async function l7(t,e,n){if(fs(t.app))return Promise.reject(ys(t,"operation-not-supported-in-this-environment"));const r=na(t);z8(t,e,Kx);const s=DD(r,n);return new Ca(r,"signInViaPopup",e,s).executeNotNull()}class Ca extends OD{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){No(this.filter.length===1,"Popup operations only handle one event");const e=Yx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a7.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="pendingRedirect",Ep=new Map;class u7 extends OD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ep.get(this.auth._key());if(!e){try{const r=await d7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ep.set(this.auth._key(),e)}return this.bypassAuthState||Ep.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d7(t,e){const n=p7(e),r=h7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function f7(t,e){Ep.set(t._key(),e)}function h7(t){return wo(t._redirectPersistence)}function p7(t){return xp(c7,t.config.apiKey,t.name)}async function m7(t,e,n=!1){if(fs(t.app))return Promise.reject(bo(t));const r=na(t),s=DD(r,e),i=await new u7(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=10*60*1e3;class v7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g7&&this.cachedEventUids.clear(),this.cachedEventUids.has(RC(e))}saveEventToCache(e){this.cachedEventUids.add(RC(e)),this.lastProcessedEventTime=Date.now()}}function RC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t,e={}){return Bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x7=/^https?/;async function E7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w7(t);for(const n of e)try{if(b7(n))return}catch{}Qr(t,"unauthorized-domain")}function b7(t){const e=u_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!x7.test(n))return!1;if(_7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=new Uf(3e4,6e4);function PC(){const t=Hs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S7(t){return new Promise((e,n)=>{var r,s,o;function i(){PC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PC(),n(ys(t,"network-request-failed"))},timeout:T7.get()})}if(!((s=(r=Hs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Hs().gapi)===null||o===void 0)&&o.load)i();else{const a=vH("iframefcb");return Hs()[a]=()=>{gapi.load?i():n(ys(t,"network-request-failed"))},wD(`${gH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bp=null,e})}let bp=null;function C7(t){return bp=bp||S7(t),bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new Uf(5e3,15e3),R7="__/auth/iframe",P7="emulator/auth/iframe",k7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N7(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bx(e,P7):`https://${t.config.authDomain}/${R7}`,r={apiKey:e.apiKey,appName:t.name,v:_l},s=A7.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vf(r).slice(1)}`}async function D7(t){const e=await C7(t),n=Hs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:N7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k7,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=ys(t,"network-request-failed"),a=Hs().setTimeout(()=>{o(i)},I7.get());function l(){Hs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M7=500,j7=600,L7="_blank",F7="http://localhost";class kC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V7(t,e,n,r=M7,s=j7){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O7),{width:r.toString(),height:s.toString(),top:o,left:i}),c=jn().toLowerCase();n&&(a=fD(c)?L7:n),uD(c)&&(e=e||F7,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[g,x])=>`${m}${g}=${x},`,"");if(aH(c)&&a!=="_self")return U7(e||"",a),new kC(null);const h=window.open(e||"",a,f);Ne(h,t,"popup-blocked");try{h.focus()}catch{}return new kC(h)}function U7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="__/auth/handler",B7="emulator/auth/handler",z7=encodeURIComponent("fac");async function AC(t,e,n,r,s,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_l,eventId:s};if(e instanceof Kx){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",iz(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))i[f]=h}if(e instanceof Bf){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(i.scopes=f.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${z7}=${encodeURIComponent(l)}`:"";return`${W7(t)}?${Vf(a).slice(1)}${c}`}function W7({config:t}){return t.emulator?Bx(t,B7):`https://${t.authDomain}/${$7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class H7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RD,this._completeRedirectFn=m7,this._overrideRedirectResult=f7}async _openPopup(e,n,r,s){var o;No((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await AC(e,n,r,u_(),s);return V7(e,i,Yx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await AC(e,n,r,u_(),s);return GH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(No(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D7(e),r=new v7(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Py];i!==void 0&&n(!!i),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vD()||dD()||Wx()}}const q7=H7;var NC="@firebase/auth",DC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y7(t){Ts(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;Ne(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yD(t)},c=new hH(r,s,o,l);return EH(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ts(new Yr("auth-internal",e=>{const n=na(e.getProvider("auth").getImmediate());return(r=>new K7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(NC,DC,G7(t)),dr(NC,DC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=5*60,X7=TN("authIdTokenMaxAge")||Q7;let OC=null;const Z7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X7)return;const s=n==null?void 0:n.token;OC!==s&&(OC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function J7(t=Hg()){const e=ea(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xH(t,{popupRedirectResolver:q7,persistence:[r7,HH,RD]}),r=TN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=Z7(o.toString());$H(n,i,()=>i(n.currentUser)),UH(n,a=>i(a))}}const s=xN("auth");return s&&bH(n,`http://${s}`),n}function eq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=ys("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",eq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y7("Browser");var MC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,jD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,_){function I(){}I.prototype=_.prototype,R.D=_.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(P,D,N){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return _.prototype[D].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,_,I){I||(I=0);var P=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)P[D]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=R.g[0],I=R.g[1],D=R.g[2];var N=R.g[3],k=_+(N^I&(D^N))+P[0]+3614090360&4294967295;_=I+(k<<7&4294967295|k>>>25),k=N+(D^_&(I^D))+P[1]+3905402710&4294967295,N=_+(k<<12&4294967295|k>>>20),k=D+(I^N&(_^I))+P[2]+606105819&4294967295,D=N+(k<<17&4294967295|k>>>15),k=I+(_^D&(N^_))+P[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=_+(N^I&(D^N))+P[4]+4118548399&4294967295,_=I+(k<<7&4294967295|k>>>25),k=N+(D^_&(I^D))+P[5]+1200080426&4294967295,N=_+(k<<12&4294967295|k>>>20),k=D+(I^N&(_^I))+P[6]+2821735955&4294967295,D=N+(k<<17&4294967295|k>>>15),k=I+(_^D&(N^_))+P[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=_+(N^I&(D^N))+P[8]+1770035416&4294967295,_=I+(k<<7&4294967295|k>>>25),k=N+(D^_&(I^D))+P[9]+2336552879&4294967295,N=_+(k<<12&4294967295|k>>>20),k=D+(I^N&(_^I))+P[10]+4294925233&4294967295,D=N+(k<<17&4294967295|k>>>15),k=I+(_^D&(N^_))+P[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=_+(N^I&(D^N))+P[12]+1804603682&4294967295,_=I+(k<<7&4294967295|k>>>25),k=N+(D^_&(I^D))+P[13]+4254626195&4294967295,N=_+(k<<12&4294967295|k>>>20),k=D+(I^N&(_^I))+P[14]+2792965006&4294967295,D=N+(k<<17&4294967295|k>>>15),k=I+(_^D&(N^_))+P[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=_+(D^N&(I^D))+P[1]+4129170786&4294967295,_=I+(k<<5&4294967295|k>>>27),k=N+(I^D&(_^I))+P[6]+3225465664&4294967295,N=_+(k<<9&4294967295|k>>>23),k=D+(_^I&(N^_))+P[11]+643717713&4294967295,D=N+(k<<14&4294967295|k>>>18),k=I+(N^_&(D^N))+P[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=_+(D^N&(I^D))+P[5]+3593408605&4294967295,_=I+(k<<5&4294967295|k>>>27),k=N+(I^D&(_^I))+P[10]+38016083&4294967295,N=_+(k<<9&4294967295|k>>>23),k=D+(_^I&(N^_))+P[15]+3634488961&4294967295,D=N+(k<<14&4294967295|k>>>18),k=I+(N^_&(D^N))+P[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=_+(D^N&(I^D))+P[9]+568446438&4294967295,_=I+(k<<5&4294967295|k>>>27),k=N+(I^D&(_^I))+P[14]+3275163606&4294967295,N=_+(k<<9&4294967295|k>>>23),k=D+(_^I&(N^_))+P[3]+4107603335&4294967295,D=N+(k<<14&4294967295|k>>>18),k=I+(N^_&(D^N))+P[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=_+(D^N&(I^D))+P[13]+2850285829&4294967295,_=I+(k<<5&4294967295|k>>>27),k=N+(I^D&(_^I))+P[2]+4243563512&4294967295,N=_+(k<<9&4294967295|k>>>23),k=D+(_^I&(N^_))+P[7]+1735328473&4294967295,D=N+(k<<14&4294967295|k>>>18),k=I+(N^_&(D^N))+P[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=_+(I^D^N)+P[5]+4294588738&4294967295,_=I+(k<<4&4294967295|k>>>28),k=N+(_^I^D)+P[8]+2272392833&4294967295,N=_+(k<<11&4294967295|k>>>21),k=D+(N^_^I)+P[11]+1839030562&4294967295,D=N+(k<<16&4294967295|k>>>16),k=I+(D^N^_)+P[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=_+(I^D^N)+P[1]+2763975236&4294967295,_=I+(k<<4&4294967295|k>>>28),k=N+(_^I^D)+P[4]+1272893353&4294967295,N=_+(k<<11&4294967295|k>>>21),k=D+(N^_^I)+P[7]+4139469664&4294967295,D=N+(k<<16&4294967295|k>>>16),k=I+(D^N^_)+P[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=_+(I^D^N)+P[13]+681279174&4294967295,_=I+(k<<4&4294967295|k>>>28),k=N+(_^I^D)+P[0]+3936430074&4294967295,N=_+(k<<11&4294967295|k>>>21),k=D+(N^_^I)+P[3]+3572445317&4294967295,D=N+(k<<16&4294967295|k>>>16),k=I+(D^N^_)+P[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=_+(I^D^N)+P[9]+3654602809&4294967295,_=I+(k<<4&4294967295|k>>>28),k=N+(_^I^D)+P[12]+3873151461&4294967295,N=_+(k<<11&4294967295|k>>>21),k=D+(N^_^I)+P[15]+530742520&4294967295,D=N+(k<<16&4294967295|k>>>16),k=I+(D^N^_)+P[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=_+(D^(I|~N))+P[0]+4096336452&4294967295,_=I+(k<<6&4294967295|k>>>26),k=N+(I^(_|~D))+P[7]+1126891415&4294967295,N=_+(k<<10&4294967295|k>>>22),k=D+(_^(N|~I))+P[14]+2878612391&4294967295,D=N+(k<<15&4294967295|k>>>17),k=I+(N^(D|~_))+P[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=_+(D^(I|~N))+P[12]+1700485571&4294967295,_=I+(k<<6&4294967295|k>>>26),k=N+(I^(_|~D))+P[3]+2399980690&4294967295,N=_+(k<<10&4294967295|k>>>22),k=D+(_^(N|~I))+P[10]+4293915773&4294967295,D=N+(k<<15&4294967295|k>>>17),k=I+(N^(D|~_))+P[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=_+(D^(I|~N))+P[8]+1873313359&4294967295,_=I+(k<<6&4294967295|k>>>26),k=N+(I^(_|~D))+P[15]+4264355552&4294967295,N=_+(k<<10&4294967295|k>>>22),k=D+(_^(N|~I))+P[6]+2734768916&4294967295,D=N+(k<<15&4294967295|k>>>17),k=I+(N^(D|~_))+P[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=_+(D^(I|~N))+P[4]+4149444226&4294967295,_=I+(k<<6&4294967295|k>>>26),k=N+(I^(_|~D))+P[11]+3174756917&4294967295,N=_+(k<<10&4294967295|k>>>22),k=D+(_^(N|~I))+P[2]+718787259&4294967295,D=N+(k<<15&4294967295|k>>>17),k=I+(N^(D|~_))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+_&4294967295,R.g[1]=R.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+N&4294967295}r.prototype.u=function(R,_){_===void 0&&(_=R.length);for(var I=_-this.blockSize,P=this.B,D=this.h,N=0;N<_;){if(D==0)for(;N<=I;)s(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<_;)if(P[D++]=R.charCodeAt(N++),D==this.blockSize){s(this,P),D=0;break}}else for(;N<_;)if(P[D++]=R[N++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var _=1;_<R.length-8;++_)R[_]=0;var I=8*this.o;for(_=R.length-8;_<R.length;++_)R[_]=I&255,I/=256;for(this.u(R),R=Array(16),_=I=0;4>_;++_)for(var P=0;32>P;P+=8)R[I++]=this.g[_]>>>P&255;return R};function o(R,_){var I=a;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=_(R)}function i(R,_){this.h=_;for(var I=[],P=!0,D=R.length-1;0<=D;D--){var N=R[D]|0;P&&N==_||(I[D]=N,P=!1)}this.g=I}var a={};function l(R){return-128<=R&&128>R?o(R,function(_){return new i([_|0],0>_?-1:0)}):new i([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return b(c(-R));for(var _=[],I=1,P=0;R>=I;P++)_[P]=R/I|0,I*=4294967296;return new i(_,0)}function f(R,_){if(R.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(R.charAt(0)=="-")return b(f(R.substring(1),_));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(_,8)),P=h,D=0;D<R.length;D+=8){var N=Math.min(8,R.length-D),k=parseInt(R.substring(D,D+N),_);8>N?(N=c(Math.pow(_,N)),P=P.j(N).add(c(k))):(P=P.j(I),P=P.add(c(k)))}return P}var h=l(0),m=l(1),g=l(16777216);t=i.prototype,t.m=function(){if(y(this))return-b(this).m();for(var R=0,_=1,I=0;I<this.g.length;I++){var P=this.i(I);R+=(0<=P?P:4294967296+P)*_,_*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(y(this))return"-"+b(this).toString(R);for(var _=c(Math.pow(R,6)),I=this,P="";;){var D=C(I,_).g;I=E(I,D.j(_));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=D,x(I))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(var _=0;_<R.g.length;_++)if(R.g[_]!=0)return!1;return!0}function y(R){return R.h==-1}t.l=function(R){return R=E(this,R),y(R)?-1:x(R)?0:1};function b(R){for(var _=R.g.length,I=[],P=0;P<_;P++)I[P]=~R.g[P];return new i(I,~R.h).add(m)}t.abs=function(){return y(this)?b(this):this},t.add=function(R){for(var _=Math.max(this.g.length,R.g.length),I=[],P=0,D=0;D<=_;D++){var N=P+(this.i(D)&65535)+(R.i(D)&65535),k=(N>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);P=k>>>16,N&=65535,k&=65535,I[D]=k<<16|N}return new i(I,I[I.length-1]&-2147483648?-1:0)};function E(R,_){return R.add(b(_))}t.j=function(R){if(x(this)||x(R))return h;if(y(this))return y(R)?b(this).j(b(R)):b(b(this).j(R));if(y(R))return b(this.j(b(R)));if(0>this.l(g)&&0>R.l(g))return c(this.m()*R.m());for(var _=this.g.length+R.g.length,I=[],P=0;P<2*_;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<R.g.length;D++){var N=this.i(P)>>>16,k=this.i(P)&65535,B=R.i(D)>>>16,Y=R.i(D)&65535;I[2*P+2*D]+=k*Y,w(I,2*P+2*D),I[2*P+2*D+1]+=N*Y,w(I,2*P+2*D+1),I[2*P+2*D+1]+=k*B,w(I,2*P+2*D+1),I[2*P+2*D+2]+=N*B,w(I,2*P+2*D+2)}for(P=0;P<_;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=_;P<2*_;P++)I[P]=0;return new i(I,0)};function w(R,_){for(;(R[_]&65535)!=R[_];)R[_+1]+=R[_]>>>16,R[_]&=65535,_++}function S(R,_){this.g=R,this.h=_}function C(R,_){if(x(_))throw Error("division by zero");if(x(R))return new S(h,h);if(y(R))return _=C(b(R),_),new S(b(_.g),b(_.h));if(y(_))return _=C(R,b(_)),new S(b(_.g),_.h);if(30<R.g.length){if(y(R)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,P=_;0>=P.l(R);)I=O(I),P=O(P);var D=V(I,1),N=V(P,1);for(P=V(P,2),I=V(I,2);!x(P);){var k=N.add(P);0>=k.l(R)&&(D=D.add(I),N=k),P=V(P,1),I=V(I,1)}return _=E(R,D.j(_)),new S(D,_)}for(D=h;0<=R.l(_);){for(I=Math.max(1,Math.floor(R.m()/_.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(I),k=N.j(_);y(k)||0<k.l(R);)I-=P,N=c(I),k=N.j(_);x(N)&&(N=m),D=D.add(N),R=E(R,k)}return new S(D,R)}t.A=function(R){return C(this,R).h},t.and=function(R){for(var _=Math.max(this.g.length,R.g.length),I=[],P=0;P<_;P++)I[P]=this.i(P)&R.i(P);return new i(I,this.h&R.h)},t.or=function(R){for(var _=Math.max(this.g.length,R.g.length),I=[],P=0;P<_;P++)I[P]=this.i(P)|R.i(P);return new i(I,this.h|R.h)},t.xor=function(R){for(var _=Math.max(this.g.length,R.g.length),I=[],P=0;P<_;P++)I[P]=this.i(P)^R.i(P);return new i(I,this.h^R.h)};function O(R){for(var _=R.g.length+1,I=[],P=0;P<_;P++)I[P]=R.i(P)<<1|R.i(P-1)>>>31;return new i(I,R.h)}function V(R,_){var I=_>>5;_%=32;for(var P=R.g.length-I,D=[],N=0;N<P;N++)D[N]=0<_?R.i(N+I)>>>_|R.i(N+I+1)<<32-_:R.i(N+I);return new i(D,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jD=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=f,ka=i}).apply(typeof MC<"u"?MC:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LD,td,FD,Tp,p_,VD,UD,$D;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var z=d[A];if(!(z in T))break e;T=T[z]}d=d[d.length-1],A=T[d],v=v(A),v!=A&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var T=0,A=!1,z={next:function(){if(!A&&T<d.length){var q=T++;return{value:v(q,d[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(d){return d||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function c(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function h(d,v,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),d.apply(v,z)}}return function(){return d.apply(v,arguments)}}function m(d,v,T){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function g(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function x(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,z,q){for(var ae=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ae[bt-2]=arguments[bt];return v.prototype[z].apply(A,ae)}}function y(d){const v=d.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=d[A];return T}return[]}function b(d,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(l(A)){const z=d.length||0,q=A.length||0;d.length=z+q;for(let ae=0;ae<q;ae++)d[z+ae]=A[ae]}else d.push(A)}}class E{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(d,v,T){for(const A in d)v.call(T,d[A],A,d)}function R(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function _(d){const v={};for(const T in d)v[T]=d[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let T,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(T in A)d[T]=A[T];for(let q=0;q<I.length;q++)T=I[q],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function D(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function N(d){a.setTimeout(()=>{throw d},0)}function k(){var d=$;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,T){const A=Y.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new E(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let j,M=!1,$=new B,G=()=>{const d=a.Promise.resolve(void 0);j=()=>{d.then(re)}};var re=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){N(T)}var v=Y;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}M=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,v),a.removeEventListener("test",T,v)}catch{}return d}();function ht(d,v){if(Ee.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(O){e:{try{C(v.nodeName);var z=!0;break e}catch{}z=!1}z||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:He[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ht.aa.h.call(this)}}x(ht,Ee);var He={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ye(d,v,T,A,z){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=z,this.key=++Me,this.da=this.fa=!1}function je(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Qe(d){this.src=d,this.g={},this.h=0}Qe.prototype.add=function(d,v,T,A,z){var q=d.toString();d=this.g[q],d||(d=this.g[q]=[],this.h++);var ae=Dt(d,v,A,z);return-1<ae?(v=d[ae],T||(v.fa=!1)):(v=new Ye(v,this.src,q,!!A,z),v.fa=T,d.push(v)),v};function Xe(d,v){var T=v.type;if(T in d.g){var A=d.g[T],z=Array.prototype.indexOf.call(A,v,void 0),q;(q=0<=z)&&Array.prototype.splice.call(A,z,1),q&&(je(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Dt(d,v,T,A){for(var z=0;z<d.length;++z){var q=d[z];if(!q.da&&q.listener==v&&q.capture==!!T&&q.ha==A)return z}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),gn={};function Dr(d,v,T,A,z){if(Array.isArray(v)){for(var q=0;q<v.length;q++)Dr(d,v[q],T,A,z);return null}return T=rt(T),d&&d[ue]?d.K(v,T,c(A)?!!A.capture:!!A,z):ks(d,v,T,!1,A,z)}function ks(d,v,T,A,z,q){if(!v)throw Error("Invalid event type");var ae=c(z)?!!z.capture:!!z,bt=ne(d);if(bt||(d[lt]=bt=new Qe(d)),T=bt.add(v,T,A,ae,q),T.proxy)return T;if(A=L(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)Be||(z=ae),z===void 0&&(z=!1),d.addEventListener(v.toString(),A,z);else if(d.attachEvent)d.attachEvent(ce(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function L(){function d(T){return v.call(d.src,d.listener,T)}const v=oe;return d}function W(d,v,T,A,z){if(Array.isArray(v))for(var q=0;q<v.length;q++)W(d,v[q],T,A,z);else A=c(A)?!!A.capture:!!A,T=rt(T),d&&d[ue]?(d=d.i,v=String(v).toString(),v in d.g&&(q=d.g[v],T=Dt(q,T,A,z),-1<T&&(je(q[T]),Array.prototype.splice.call(q,T,1),q.length==0&&(delete d.g[v],d.h--)))):d&&(d=ne(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Dt(v,T,A,z)),(T=-1<d?v[d]:null)&&K(T))}function K(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ue])Xe(v.i,d);else{var T=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(T,A,d.capture):v.detachEvent?v.detachEvent(ce(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=ne(v))?(Xe(T,d),T.h==0&&(T.src=null,v[lt]=null)):je(d)}}}function ce(d){return d in gn?gn[d]:gn[d]="on"+d}function oe(d,v){if(d.da)d=!0;else{v=new ht(v,this);var T=d.listener,A=d.ha||d.src;d.fa&&K(d),d=T.call(A,v)}return d}function ne(d){return d=d[lt],d instanceof Qe?d:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(d){return typeof d=="function"?d:(d[we]||(d[we]=function(v){return d.handleEvent(v)}),d[we])}function Ue(){me.call(this),this.i=new Qe(this),this.M=this,this.F=null}x(Ue,me),Ue.prototype[ue]=!0,Ue.prototype.removeEventListener=function(d,v,T,A){W(this,d,v,T,A)};function Ke(d,v){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new Ee(v,d);else if(v instanceof Ee)v.target=v.target||d;else{var z=v;v=new Ee(A,d),P(v,z)}if(z=!0,T)for(var q=T.length-1;0<=q;q--){var ae=v.g=T[q];z=Fn(ae,A,!0,v)&&z}if(ae=v.g=d,z=Fn(ae,A,!0,v)&&z,z=Fn(ae,A,!1,v)&&z,T)for(q=0;q<T.length;q++)ae=v.g=T[q],z=Fn(ae,A,!1,v)&&z}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],A=0;A<T.length;A++)je(T[A]);delete d.g[v],d.h--}}this.F=null},Ue.prototype.K=function(d,v,T,A){return this.i.add(String(d),v,!1,T,A)},Ue.prototype.L=function(d,v,T,A){return this.i.add(String(d),v,!0,T,A)};function Fn(d,v,T,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,q=0;q<v.length;++q){var ae=v[q];if(ae&&!ae.da&&ae.capture==T){var bt=ae.listener,vn=ae.ha||ae.src;ae.fa&&Xe(d.i,ae),z=bt.call(vn,A)!==!1&&z}}return z&&!A.defaultPrevented}function Wo(d,v,T){if(typeof d=="function")T&&(d=m(d,T));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function Vn(d){d.g=Wo(()=>{d.g=null,d.i&&(d.i=!1,Vn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Un extends me{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(d){me.call(this),this.h=d,this.g={}}x(As,me);var Ns=[];function Sl(d){V(d.g,function(v,T){this.g.hasOwnProperty(T)&&K(v)},d),d.g={}}As.prototype.N=function(){As.aa.N.call(this),Sl(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=a.JSON.stringify,ih=a.JSON.parse,ah=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Cl(){}Cl.prototype.h=null;function lh(d){return d.h||(d.h=d.i())}function wu(){}var Ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Il(){Ee.call(this,"d")}x(Il,Ee);function aa(){Ee.call(this,"c")}x(aa,Ee);var Or={},Rl=null;function Pl(){return Rl=Rl||new Ue}Or.La="serverreachability";function _u(d){Ee.call(this,Or.La,d)}x(_u,Ee);function la(d){const v=Pl();Ke(v,new _u(v))}Or.STAT_EVENT="statevent";function xu(d,v){Ee.call(this,Or.STAT_EVENT,d),this.stat=v}x(xu,Ee);function Zt(d){const v=Pl();Ke(v,new xu(v,d))}Or.Ma="timingevent";function ca(d,v){Ee.call(this,Or.Ma,d),this.size=v}x(ca,Ee);function Ho(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function Rv(d,v,T,A,z,q){d.info(function(){if(d.g)if(q)for(var ae="",bt=q.split("&"),vn=0;vn<bt.length;vn++){var dt=bt[vn].split("=");if(1<dt.length){var In=dt[0];dt=dt[1];var Rn=In.split("_");ae=2<=Rn.length&&Rn[1]=="type"?ae+(In+"="+dt+"&"):ae+(In+"=redacted&")}}else ae=null;else ae=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+v+`
`+T+`
`+ae})}function F(d,v,T,A,z,q,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+v+`
`+T+`
`+q+" "+ae})}function U(d,v,T,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Q(d,T)+(A?" "+A:"")})}function H(d,v){d.info(function(){return"TIMEOUT: "+v})}ua.prototype.info=function(){};function Q(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return $n(T)}catch{return v}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function ie(){}x(ie,Cl),ie.prototype.g=function(){return new XMLHttpRequest},ie.prototype.i=function(){return{}},Re=new ie;function xe(d,v,T,A){this.j=d,this.i=v,this.l=T,this.R=A||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var _e={},st={};function ct(d,v,T){d.L=1,d.v=hh(oo(v)),d.m=T,d.P=!0,_t(d,null)}function _t(d,v){d.F=Date.now(),It(d),d.A=oo(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Tb(T.i,"t",A),d.C=0,T=d.j.J,d.h=new ve,d.g=Bb(d.j,T?v:null,!d.m),0<d.O&&(d.M=new Un(m(d.Y,d,d.g),d.O)),v=d.U,T=d.g,A=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ns[0]=z.toString()),z=Ns);for(var q=0;q<z.length;q++){var ae=Dr(T,z[q],A||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=d.H?_(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),la(),Rv(d.i,d.u,d.A,d.l,d.R,d.m)}xe.prototype.ca=function(d){d=d.target;const v=this.M;v&&io(d)==3?v.j():this.Y(d)},xe.prototype.Y=function(d){try{if(d==this.g)e:{const Rn=io(this.g);var v=this.g.Ba();const Nl=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||Ab(this.g)))){this.J||Rn!=4||v==7||(v==8||0>=Nl?la(3):la(2)),pr(this);var T=this.g.Z();this.X=T;t:if(et(this)){var A=Ab(this.g);d="";var z=A.length,q=io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),Mr(this);var ae="";break t}this.h.i=new a.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(q&&v==z-1)});A.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=T==200,F(this.i,this.u,this.A,this.l,this.R,Rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,vn=this.g;if((bt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(bt)){var dt=bt;break t}}dt=null}if(T=dt)U(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ko(this,T);else{this.o=!1,this.s=3,Zt(12),Sn(this),Mr(this);break e}}if(this.P){T=!0;let ss;for(;!this.J&&this.C<ae.length;)if(ss=Jt(this,ae),ss==st){Rn==4&&(this.s=4,Zt(14),T=!1),U(this.i,this.l,null,"[Incomplete Response]");break}else if(ss==_e){this.s=4,Zt(15),U(this.i,this.l,ae,"[Invalid Chunk]"),T=!1;break}else U(this.i,this.l,ss,null),Ko(this,ss);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||ae.length!=0||this.h.h||(this.s=1,Zt(16),T=!1),this.o=this.o&&T,!T)U(this.i,this.l,ae,"[Invalid Chunked Response]"),Sn(this),Mr(this);else if(0<ae.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Nv(In),In.M=!0,Zt(11))}}else U(this.i,this.l,ae,null),Ko(this,ae);Rn==4&&Sn(this),this.o&&!this.J&&(Rn==4?Fb(this.j,this):(this.o=!1,It(this)))}else UL(this.g),T==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Sn(this),Mr(this)}}}catch{}finally{}};function et(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Jt(d,v){var T=d.C,A=v.indexOf(`
`,T);return A==-1?st:(T=Number(v.substring(T,A)),isNaN(T)?_e:(A+=1,A+T>v.length?st:(v=v.slice(A,A+T),d.C=A+T,v)))}xe.prototype.cancel=function(){this.J=!0,Sn(this)};function It(d){d.S=Date.now()+d.I,qo(d,d.I)}function qo(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ho(m(d.ba,d),v)}function pr(d){d.B&&(a.clearTimeout(d.B),d.B=null)}xe.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(H(this.i,this.A),this.L!=2&&(la(),Zt(17)),Sn(this),this.s=2,Mr(this)):qo(this,this.S-d)};function Mr(d){d.j.G==0||d.J||Fb(d.j,d)}function Sn(d){pr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Sl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ko(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Le(T.h,d))){if(!d.K&&Le(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)wh(T),vh(T);else break e;Av(T),Zt(18)}}else T.za=z[1],0<T.za-T.T&&37500>z[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ho(m(T.Za,T),6e3));if(1>=ha(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ma(T,11)}else if((d.K||T.g==d)&&wh(T),!w(v))for(z=T.Da.g.parse(v),v=0;v<z.length;v++){let dt=z[v];if(T.T=dt[0],dt=dt[1],T.G==2)if(dt[0]=="c"){T.K=dt[1],T.ia=dt[2];const In=dt[3];In!=null&&(T.la=In,T.j.info("VER="+T.la));const Rn=dt[4];Rn!=null&&(T.Aa=Rn,T.j.info("SVER="+T.Aa));const Nl=dt[5];Nl!=null&&typeof Nl=="number"&&0<Nl&&(A=1.5*Nl,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const ss=d.g;if(ss){const xh=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xh){var q=A.h;q.g||xh.indexOf("spdy")==-1&&xh.indexOf("quic")==-1&&xh.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Tt(q,q.h),q.h=null))}if(A.D){const Dv=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;Dv&&(A.ya=Dv,Pt(A.I,A.D,Dv))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ae=d;if(A.qa=$b(A,A.J?A.ia:null,A.W),ae.K){Cn(A.h,ae);var bt=ae,vn=A.L;vn&&(bt.I=vn),bt.B&&(pr(bt),It(bt)),A.g=ae}else jb(A);0<T.i.length&&yh(T)}else dt[0]!="stop"&&dt[0]!="close"||ma(T,7);else T.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?ma(T,7):kv(T):dt[0]!="noop"&&T.l&&T.l.ta(dt),T.v=0)}}la(4)}catch{}}var ns=class{constructor(d,v){this.g=d,this.map=v}};function da(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ha(d){return d.h?1:d.g?d.g.size:0}function Le(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Tt(d,v){d.g?d.g.add(v):d.h=v}function Cn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}da.prototype.cancel=function(){if(this.i=Rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rt(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return y(d.i)}function rs(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],T=d.length,A=0;A<T;A++)v.push(d[A]);return v}v=[],T=0;for(A in d)v[T++]=d[A];return v}function ch(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const A in d)v[T++]=A;return v}}}function uh(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=ch(d),A=rs(d),z=A.length,q=0;q<z;q++)v.call(void 0,A[q],T&&T[q],d)}var wb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IL(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),z=null;if(0<=A){var q=d[T].substring(0,A);z=d[T].substring(A+1)}else q=d[T];v(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function pa(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pa){this.h=d.h,dh(this,d.j),this.o=d.o,this.g=d.g,fh(this,d.s),this.l=d.l;var v=d.i,T=new Tu;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),_b(this,T),this.m=d.m}else d&&(v=String(d).match(wb))?(this.h=!1,dh(this,v[1]||"",!0),this.o=Eu(v[2]||""),this.g=Eu(v[3]||"",!0),fh(this,v[4]),this.l=Eu(v[5]||"",!0),_b(this,v[6]||"",!0),this.m=Eu(v[7]||"")):(this.h=!1,this.i=new Tu(null,this.h))}pa.prototype.toString=function(){var d=[],v=this.j;v&&d.push(bu(v,xb,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(bu(v,xb,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(bu(T,T.charAt(0)=="/"?kL:PL,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",bu(T,NL)),d.join("")};function oo(d){return new pa(d)}function dh(d,v,T){d.j=T?Eu(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function fh(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function _b(d,v,T){v instanceof Tu?(d.i=v,DL(d.i,d.h)):(T||(v=bu(v,AL)),d.i=new Tu(v,d.h))}function Pt(d,v,T){d.i.set(v,T)}function hh(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Eu(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bu(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,RL),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function RL(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var xb=/[#\/\?@]/g,PL=/[#\?:]/g,kL=/[#\?]/g,AL=/[#\?@]/g,NL=/#/g;function Tu(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Go(d){d.g||(d.g=new Map,d.h=0,d.i&&IL(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Tu.prototype,t.add=function(d,v){Go(this),this.i=null,d=kl(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Eb(d,v){Go(d),v=kl(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function bb(d,v){return Go(d),v=kl(d,v),d.g.has(v)}t.forEach=function(d,v){Go(this),this.g.forEach(function(T,A){T.forEach(function(z){d.call(v,z,A,this)},this)},this)},t.na=function(){Go(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const z=d[A];for(let q=0;q<z.length;q++)T.push(v[A])}return T},t.V=function(d){Go(this);let v=[];if(typeof d=="string")bb(this,d)&&(v=v.concat(this.g.get(kl(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},t.set=function(d,v){return Go(this),this.i=null,d=kl(this,d),bb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Tb(d,v,T){Eb(d,v),0<T.length&&(d.i=null,d.g.set(kl(d,v),y(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var z=q;ae[A]!==""&&(z+="="+encodeURIComponent(String(ae[A]))),d.push(z)}}return this.i=d.join("&")};function kl(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function DL(d,v){v&&!d.j&&(Go(d),d.i=null,d.g.forEach(function(T,A){var z=A.toLowerCase();A!=z&&(Eb(this,A),Tb(this,z,T))},d)),d.j=v}function OL(d,v){const T=new ua;if(a.Image){const A=new Image;A.onload=g(Yo,T,"TestLoadImage: loaded",!0,v,A),A.onerror=g(Yo,T,"TestLoadImage: error",!1,v,A),A.onabort=g(Yo,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=g(Yo,T,"TestLoadImage: timeout",!1,v,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function ML(d,v){const T=new ua,A=new AbortController,z=setTimeout(()=>{A.abort(),Yo(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?Yo(T,"TestPingServer: ok",!0,v):Yo(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Yo(T,"TestPingServer: error",!1,v)})}function Yo(d,v,T,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(T)}catch{}}function jL(){this.g=new ah}function LL(d,v,T){const A=T||"";try{uh(d,function(z,q){let ae=z;c(z)&&(ae=$n(z)),v.push(A+q+"="+encodeURIComponent(ae))})}catch(z){throw v.push(A+"type="+encodeURIComponent("_badmap")),z}}function ph(d){this.l=d.Ub||null,this.j=d.eb||!1}x(ph,Cl),ph.prototype.g=function(){return new mh(this.l,this.j)},ph.prototype.i=function(d){return function(){return d}}({});function mh(d,v){Ue.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(mh,Ue),t=mh.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Cu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Su(this):Cu(this),this.readyState==3&&Sb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Su(this))},t.Qa=function(d){this.g&&(this.response=d,Su(this))},t.ga=function(){this.g&&Su(this)};function Su(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cu(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Cu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Cb(d){let v="";return V(d,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function Pv(d,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Cb(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Pt(d,v,T))}function Wt(d){Ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Wt,Ue);var FL=/^https?$/i,VL=["POST","PUT"];t=Wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?lh(this.o):lh(Re),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(q){Ib(this,q);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)T.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())T.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(q=>q.toLowerCase()=="content-type"),z=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VL,v,void 0))||A||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of T)this.g.setRequestHeader(q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kb(this),this.u=!0,this.g.send(d),this.u=!1}catch(q){Ib(this,q)}};function Ib(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Rb(d),gh(d)}function Rb(d){d.A||(d.A=!0,Ke(d,"complete"),Ke(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ke(this,"complete"),Ke(this,"abort"),gh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gh(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pb(this):this.bb())},t.bb=function(){Pb(this)};function Pb(d){if(d.h&&typeof i<"u"&&(!d.v[1]||io(d)!=4||d.Z()!=2)){if(d.u&&io(d)==4)Wo(d.Ea,0,d);else if(Ke(d,"readystatechange"),io(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=ae===0){var z=String(d.D).match(wb)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),A=!FL.test(z?z.toLowerCase():"")}T=A}if(T)Ke(d,"complete"),Ke(d,"success");else{d.m=6;try{var q=2<io(d)?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.Z()+"]",Rb(d)}}finally{gh(d)}}}}function gh(d,v){if(d.g){kb(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ke(d,"ready");try{T.onreadystatechange=A}catch{}}}function kb(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function io(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ih(v)}};function Ab(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function UL(d){const v={};d=(d.g&&2<=io(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(w(d[A]))continue;var T=D(d[A]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const q=v[z]||[];v[z]=q,q.push(T)}R(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Iu(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Nb(d){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Iu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Iu("baseRetryDelayMs",5e3,d),this.cb=Iu("retryDelaySeedMs",1e4,d),this.Wa=Iu("forwardChannelMaxRetries",2,d),this.wa=Iu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new da(d&&d.concurrentRequestLimit),this.Da=new jL,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nb.prototype,t.la=8,t.G=1,t.connect=function(d,v,T,A){Zt(0),this.W=d,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=$b(this,null,this.W),yh(this)};function kv(d){if(Db(d),d.G==3){var v=d.U++,T=oo(d.I);if(Pt(T,"SID",d.K),Pt(T,"RID",v),Pt(T,"TYPE","terminate"),Ru(d,T),v=new xe(d,d.j,v),v.L=2,v.v=hh(oo(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=v.v,T=!0),T||(v.g=Bb(v.j,null),v.g.ea(v.v)),v.F=Date.now(),It(v)}Ub(d)}function vh(d){d.g&&(Nv(d),d.g.cancel(),d.g=null)}function Db(d){vh(d),d.u&&(a.clearTimeout(d.u),d.u=null),wh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function yh(d){if(!fa(d.h)&&!d.s){d.s=!0;var v=d.Ga;j||G(),M||(j(),M=!0),$.add(v,d),d.B=0}}function $L(d,v){return ha(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ho(m(d.Ga,d,v),Vb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new xe(this,this.j,d);let q=this.o;if(this.S&&(q?(q=_(q),P(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Mb(this,z,v),T=oo(this.I),Pt(T,"RID",d),Pt(T,"CVER",22),this.D&&Pt(T,"X-HTTP-Session-Id",this.D),Ru(this,T),q&&(this.O?v="headers="+encodeURIComponent(String(Cb(q)))+"&"+v:this.m&&Pv(T,this.m,q)),Tt(this.h,z),this.Ua&&Pt(T,"TYPE","init"),this.P?(Pt(T,"$req",v),Pt(T,"SID","null"),z.T=!0,ct(z,T,null)):ct(z,T,v),this.G=2}}else this.G==3&&(d?Ob(this,d):this.i.length==0||fa(this.h)||Ob(this))};function Ob(d,v){var T;v?T=v.l:T=d.U++;const A=oo(d.I);Pt(A,"SID",d.K),Pt(A,"RID",T),Pt(A,"AID",d.T),Ru(d,A),d.m&&d.o&&Pv(A,d.m,d.o),T=new xe(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Mb(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Tt(d.h,T),ct(T,A,v)}function Ru(d,v){d.H&&V(d.H,function(T,A){Pt(v,A,T)}),d.l&&uh({},function(T,A){Pt(v,A,T)})}function Mb(d,v,T){T=Math.min(d.i.length,T);var A=d.l?m(d.l.Na,d.l,d):null;e:{var z=d.i;let q=-1;for(;;){const ae=["count="+T];q==-1?0<T?(q=z[0].g,ae.push("ofs="+q)):q=0:ae.push("ofs="+q);let bt=!0;for(let vn=0;vn<T;vn++){let dt=z[vn].g;const In=z[vn].map;if(dt-=q,0>dt)q=Math.max(0,z[vn].g-100),bt=!1;else try{LL(In,ae,"req"+dt+"_")}catch{A&&A(In)}}if(bt){A=ae.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,A}function jb(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;j||G(),M||(j(),M=!0),$.add(v,d),d.v=0}}function Av(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ho(m(d.Fa,d),Vb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Lb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ho(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),vh(this),Lb(this))};function Nv(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Lb(d){d.g=new xe(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=oo(d.qa);Pt(v,"RID","rpc"),Pt(v,"SID",d.K),Pt(v,"AID",d.T),Pt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(v,"TO",d.ja),Pt(v,"TYPE","xmlhttp"),Ru(d,v),d.m&&d.o&&Pv(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=hh(oo(v)),T.m=null,T.P=!0,_t(T,d)}t.Za=function(){this.C!=null&&(this.C=null,vh(this),Av(this),Zt(19))};function wh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Fb(d,v){var T=null;if(d.g==v){wh(d),Nv(d),d.g=null;var A=2}else if(Le(d.h,v))T=v.D,Cn(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var z=d.B;A=Pl(),Ke(A,new ca(A,T)),yh(d)}else jb(d);else if(z=v.s,z==3||z==0&&0<v.X||!(A==1&&$L(d,v)||A==2&&Av(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),z){case 1:ma(d,5);break;case 4:ma(d,10);break;case 3:ma(d,6);break;default:ma(d,2)}}}function Vb(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function ma(d,v){if(d.j.info("Error code "+v),v==2){var T=m(d.fb,d),A=d.Xa;const z=!A;A=new pa(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dh(A,"https"),hh(A),z?OL(A.toString(),T):ML(A.toString(),T)}else Zt(2);d.G=0,d.l&&d.l.sa(v),Ub(d),Db(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Ub(d){if(d.G=0,d.ka=[],d.l){const v=Rt(d.h);(v.length!=0||d.i.length!=0)&&(b(d.ka,v),b(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function $b(d,v,T){var A=T instanceof pa?oo(T):new pa(T);if(A.g!="")v&&(A.g=v+"."+A.g),fh(A,A.s);else{var z=a.location;A=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var q=new pa(null);A&&dh(q,A),v&&(q.g=v),z&&fh(q,z),T&&(q.l=T),A=q}return T=d.D,v=d.ya,T&&v&&Pt(A,T,v),Pt(A,"VER",d.la),Ru(d,A),A}function Bb(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Wt(new ph({eb:T})):new Wt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zb(){}t=zb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _h(){}_h.prototype.g=function(d,v){return new mr(d,v)};function mr(d,v){Ue.call(this),this.g=new Nb(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!w(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!w(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Al(this)}x(mr,Ue),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){kv(this.g)},mr.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=$n(d),d=T);v.i.push(new ns(v.Ya++,d)),v.G==3&&yh(v)},mr.prototype.N=function(){this.g.l=null,delete this.j,kv(this.g),delete this.g,mr.aa.N.call(this)};function Wb(d){Il.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}x(Wb,Il);function Hb(){aa.call(this),this.status=1}x(Hb,aa);function Al(d){this.g=d}x(Al,zb),Al.prototype.ua=function(){Ke(this.g,"a")},Al.prototype.ta=function(d){Ke(this.g,new Wb(d))},Al.prototype.sa=function(d){Ke(this.g,new Hb)},Al.prototype.ra=function(){Ke(this.g,"b")},_h.prototype.createWebChannel=_h.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,$D=function(){return new _h},UD=function(){return Pl()},VD=Or,p_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,Tp=fe,be.COMPLETE="complete",FD=be,wu.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,td=wu,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,LD=Wt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const jC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Wg("@firebase/firestore");function Bu(){return Ka.logLevel}function ye(t,...e){if(Ka.logLevel<=ot.DEBUG){const n=e.map(Xx);Ka.debug(`Firestore (${hu}): ${t}`,...n)}}function Do(t,...e){if(Ka.logLevel<=ot.ERROR){const n=e.map(Xx);Ka.error(`Firestore (${hu}): ${t}`,...n)}}function Fc(t,...e){if(Ka.logLevel<=ot.WARN){const n=e.map(Xx);Ka.warn(`Firestore (${hu}): ${t}`,...n)}}function Xx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+t;throw Do(e),new Error(e)}function wt(t,e){t||Oe()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class nq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rq{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new To;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new To,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new To)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string"),new BD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new Nn(e)}}class sq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){wt(this.o===void 0);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string"),this.R=n.token,new iq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=lq(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function Vc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Xt(0,0))}static max(){return new Fe(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Mt extends nf{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const cq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends nf{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return cq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Se(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Se(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new Se(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Mt.fromString(e))}static fromName(e){return new Ie(Mt.fromString(e).popFirst(5))}static empty(){return new Ie(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Mt(e.slice()))}}function uq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new ji(s,Ie.empty(),e)}function dq(t){return new ji(t.readTime,t.key,-1)}class ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(Fe.min(),Ie.empty(),-1)}static max(){return new ji(Fe.max(),Ie.empty(),-1)}}function fq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==hq)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(f=>{i[c]=f,++a,a===o&&r(i)},f=>s(f))}})}static doWhile(e,n){return new J((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function mq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zx.oe=-1;function Xg(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}function gq(t){return typeof t=="number"&&Number.isInteger(t)&&!Cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??wn.RED,this.left=s??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new wn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,s,o){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FC(this.data.getIterator())}getIteratorFrom(e){return new FC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class FC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new En(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HD("Invalid base64 string: "+o):o}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const vq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(wt(!!t),typeof t=="string"){let e=0;const n=vq.exec(t);if(wt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ga(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eE(t){const e=t.mapValue.fields.__previous_value__;return Jx(e)?eE(e):e}function rf(t){const e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,n,r,s,o,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class sf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jx(t)?4:_q(t)?9007199254740991:wq(t)?10:11:Oe()}function Zs(t,e){if(t===e)return!0;const n=Ya(t);if(n!==Ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Li(s.timestampValue),a=Li(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ga(s.bytesValue).isEqual(Ga(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Yt(s.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Yt(s.integerValue)===Yt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=Yt(s.doubleValue),a=Yt(o.doubleValue);return i===a?Cm(i)===Cm(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Vc(t.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(LC(i)!==LC(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!Zs(i[l],a[l])))return!1;return!0}(t,e);default:return Oe()}}function of(t,e){return(t.values||[]).find(n=>Zs(n,e))!==void 0}function Uc(t,e){if(t===e)return 0;const n=Ya(t),r=Ya(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=Yt(o.integerValue||o.doubleValue),l=Yt(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return VC(t.timestampValue,e.timestampValue);case 4:return VC(rf(t),rf(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(o,i){const a=Ga(o),l=Ga(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=ft(a[c],l[c]);if(f!==0)return f}return ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=ft(Yt(o.latitude),Yt(i.latitude));return a!==0?a:ft(Yt(o.longitude),Yt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UC(t.arrayValue,e.arrayValue);case 10:return function(o,i){var a,l,c,f;const h=o.fields||{},m=i.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,x=(l=m.value)===null||l===void 0?void 0:l.arrayValue,y=ft(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0);return y!==0?y:UC(g,x)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Yh.mapValue&&i===Yh.mapValue)return 0;if(o===Yh.mapValue)return 1;if(i===Yh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=i.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const m=ft(l[h],f[h]);if(m!==0)return m;const g=Uc(a[l[h]],c[f[h]]);if(g!==0)return g}return ft(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function VC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=Li(t),r=Li(e),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function UC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Uc(n[s],r[s]);if(o)return o}return ft(n.length,r.length)}function $c(t){return m_(t)}function m_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ga(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=m_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${m_(n.fields[i])}`;return s+"}"}(t.mapValue):Oe()}function g_(t){return!!t&&"integerValue"in t}function tE(t){return!!t&&"arrayValue"in t}function $C(t){return!!t&&"nullValue"in t}function BC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sp(t){return!!t&&"mapValue"in t}function wq(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _q(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=_n.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=wd(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){xl(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new or(wd(this.value))}}function qD(t){const e=[];return xl(t.fields,(n,r)=>{const s=new _n([n]);if(Sp(r)){const o=qD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new On(e,0,Fe.min(),Fe.min(),Fe.min(),or.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,Fe.min(),Fe.min(),or.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Fe.min(),Fe.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.position=e,this.inclusive=n}}function zC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(i.referenceValue),n.key):r=Uc(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function xq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{}class ln extends KD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bq(e,n,r):n==="array-contains"?new Cq(e,r):n==="in"?new Iq(e,r):n==="not-in"?new Rq(e,r):n==="array-contains-any"?new Pq(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tq(e,r):new Sq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uc(n,this.value)):n!==null&&Ya(this.value)===Ya(n)&&this.matchesComparison(Uc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends KD{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Js(e,n)}matches(e){return GD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GD(t){return t.op==="and"}function YD(t){return Eq(t)&&GD(t)}function Eq(t){for(const e of t.filters)if(e instanceof Js)return!1;return!0}function v_(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(YD(t))return t.filters.map(e=>v_(e)).join(",");{const e=t.filters.map(n=>v_(n)).join(",");return`${t.op}(${e})`}}function QD(t,e){return t instanceof ln?function(r,s){return s instanceof ln&&r.op===s.op&&r.field.isEqual(s.field)&&Zs(r.value,s.value)}(t,e):t instanceof Js?function(r,s){return s instanceof Js&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&QD(i,s.filters[a]),!0):!1}(t,e):void Oe()}function XD(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`}(t):t instanceof Js?function(n){return n.op.toString()+" {"+n.getFilters().map(XD).join(" ,")+"}"}(t):"Filter"}class bq extends ln{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tq extends ln{constructor(e,n){super(e,"in",n),this.keys=ZD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sq extends ln{constructor(e,n){super(e,"not-in",n),this.keys=ZD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class Cq extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tE(n)&&of(n.arrayValue,this.value)}}class Iq extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&of(this.value.arrayValue,n)}}class Rq extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!of(this.value.arrayValue,n)}}class Pq extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>of(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.ue=null}}function HC(t,e=null,n=[],r=[],s=null,o=null,i=null){return new kq(t,e,n,r,s,o,i)}function nE(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>v_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Xg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$c(r)).join(",")),e.ue=n}return e.ue}function rE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WC(t.startAt,e.startAt)&&WC(t.endAt,e.endAt)}function y_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Aq(t,e,n,r,s,o,i,a){return new Zg(t,e,n,r,s,o,i,a)}function sE(t){return new Zg(t)}function qC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nq(t){return t.collectionGroup!==null}function _d(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new En(_n.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Rm(o,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Rm(_n.keyField(),r))}return e.ce}function qs(t){const e=Ve(t);return e.le||(e.le=Dq(e,_d(t))),e.le}function Dq(t,e){if(t.limitType==="F")return HC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Rm(s.field,o)});const n=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;return HC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w_(t,e,n){return new Zg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return rE(qs(t),qs(e))&&t.limitType===e.limitType}function JD(t){return`${nE(qs(t))}|lt:${t.limitType}`}function $l(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XD(s)).join(", ")}]`),Xg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$c(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$c(s)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function ev(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of _d(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,l){const c=zC(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,_d(r),s)||r.endAt&&!function(i,a,l){const c=zC(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,_d(r),s))}(t,e)}function Oq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eO(t){return(e,n)=>{let r=!1;for(const s of _d(t)){const o=Mq(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Mq(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(o,i,a){const l=i.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Uc(l,c):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return WD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new zt(Ie.comparator);function Oo(){return jq}const tO=new zt(Ie.comparator);function nd(...t){let e=tO;for(const n of t)e=e.insert(n.key,n);return e}function nO(t){let e=tO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ia(){return xd()}function rO(){return xd()}function xd(){return new pu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lq=new zt(Ie.comparator),Fq=new En(Ie.comparator);function tt(...t){let e=Fq;for(const n of t)e=e.add(n);return e}const Vq=new En(ft);function Uq(){return Vq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function sO(t){return{integerValue:""+t}}function $q(t,e){return gq(e)?sO(e):oE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this._=void 0}}function Bq(t,e,n){return t instanceof Pm?function(s,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Jx(o)&&(o=eE(o)),o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof Bc?iO(t,e):t instanceof zc?aO(t,e):function(s,o){const i=oO(s,o),a=KC(i)+KC(s.Pe);return g_(i)&&g_(s.Pe)?sO(a):oE(s.serializer,a)}(t,e)}function zq(t,e,n){return t instanceof Bc?iO(t,e):t instanceof zc?aO(t,e):n}function oO(t,e){return t instanceof km?function(r){return g_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Pm extends tv{}class Bc extends tv{constructor(e){super(),this.elements=e}}function iO(t,e){const n=lO(e);for(const r of t.elements)n.some(s=>Zs(s,r))||n.push(r);return{arrayValue:{values:n}}}class zc extends tv{constructor(e){super(),this.elements=e}}function aO(t,e){let n=lO(e);for(const r of t.elements)n=n.filter(s=>!Zs(s,r));return{arrayValue:{values:n}}}class km extends tv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function KC(t){return Yt(t.integerValue||t.doubleValue)}function lO(t){return tE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.field=e,this.transform=n}}function Wq(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Bc&&s instanceof Bc||r instanceof zc&&s instanceof zc?Vc(r.elements,s.elements,Zs):r instanceof km&&s instanceof km?Zs(r.Pe,s.Pe):r instanceof Pm&&s instanceof Pm}(t.transform,e.transform)}class Hq{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nv{}function uO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iE(t.key,qr.none()):new qf(t.key,t.data,qr.none());{const n=t.data,r=or.empty();let s=new En(_n.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new ra(t.key,r,new Tr(s.toArray()),qr.none())}}function qq(t,e,n){t instanceof qf?function(s,o,i){const a=s.value.clone(),l=YC(s.fieldTransforms,o,i.transformResults);a.setAll(l),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(s,o,i){if(!Cp(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=YC(s.fieldTransforms,o,i.transformResults),l=o.data;l.setAll(dO(s)),l.setAll(a),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ed(t,e,n,r){return t instanceof qf?function(o,i,a,l){if(!Cp(o.precondition,i))return a;const c=o.value.clone(),f=QC(o.fieldTransforms,l,i);return c.setAll(f),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ra?function(o,i,a,l){if(!Cp(o.precondition,i))return a;const c=QC(o.fieldTransforms,l,i),f=i.data;return f.setAll(dO(o)),f.setAll(c),i.convertToFoundDocument(i.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,i,a){return Cp(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function Kq(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=oO(r.transform,s||null);o!=null&&(n===null&&(n=or.empty()),n.set(r.field,o))}return n||null}function GC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vc(r,s,(o,i)=>Wq(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends nv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ra extends nv{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YC(t,e,n){const r=new Map;wt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,zq(i,a,n[s]))}return r}function QC(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,Bq(o,i,e))}return r}class iE extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gq extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&qq(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rO();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=uO(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Vc(this.mutations,e.mutations,(n,r)=>GC(n,r))&&Vc(this.baseMutations,e.baseMutations,(n,r)=>GC(n,r))}}class aE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length);let s=function(){return Lq}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new aE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,it;function Zq(t){switch(t){default:return Oe();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function fO(t){if(t===void 0)return Do("GRPC error has no .code"),Z.UNKNOWN;switch(t){case en.OK:return Z.OK;case en.CANCELLED:return Z.CANCELLED;case en.UNKNOWN:return Z.UNKNOWN;case en.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case en.INTERNAL:return Z.INTERNAL;case en.UNAVAILABLE:return Z.UNAVAILABLE;case en.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case en.NOT_FOUND:return Z.NOT_FOUND;case en.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case en.ABORTED:return Z.ABORTED;case en.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case en.DATA_LOSS:return Z.DATA_LOSS;default:return Oe()}}(it=en||(en={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=new ka([4294967295,4294967295],0);function XC(t){const e=Jq().encode(t),n=new jD;return n.update(e),new Uint8Array(n.digest())}function ZC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ka([n,r],0),new ka([s,o],0)]}class lE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rd(`Invalid padding: ${n}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ka.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ka.fromNumber(r)));return s.compare(eK)===1&&(s=new ka([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=XC(e),[r,s]=ZC(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);if(!this.de(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new lE(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=XC(e),[r,s]=ZC(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rv(Fe.min(),s,new zt(ft),Oo(),tt())}}class Kf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kf(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class hO{constructor(e,n){this.targetId=e,this.me=n}}class pO{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class JC{constructor(){this.fe=0,this.ge=t1(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),n=tt(),r=tt();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Oe()}}),new Kf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=t1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tK{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oo(),this.qe=e1(),this.Qe=new zt(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(y_(o))if(r===0){const i=new Ie(o.path);this.Ue(n,i,On.newNoDocument(i,Fe.min()))}else wt(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=Ga(r).toUint8Array()}catch(l){if(l instanceof HD)return Fc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lE(i,s,o)}catch(l){return Fc(l instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,i)=>{const a=this.Je(i);if(a){if(o.current&&y_(a.target)){const l=new Ie(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,On.newNoDocument(l,e))}o.be&&(n.set(i,o.ve()),o.Ce())}});let r=tt();this.qe.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,i)=>i.setReadTime(e));const s=new rv(e,n,this.Qe,this.ke,r);return this.ke=Oo(),this.qe=e1(),this.Qe=new zt(ft),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new JC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new En(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new JC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function e1(){return new zt(Ie.comparator)}function t1(){return new zt(Ie.comparator)}const nK={asc:"ASCENDING",desc:"DESCENDING"},rK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sK={and:"AND",or:"OR"};class oK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function __(t,e){return t.useProto3Json||Xg(e)?e:{value:e}}function Am(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iK(t,e){return Am(t,e.toTimestamp())}function Ks(t){return wt(!!t),Fe.fromTimestamp(function(n){const r=Li(n);return new Xt(r.seconds,r.nanos)}(t))}function cE(t,e){return x_(t,e).canonicalString()}function x_(t,e){const n=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gO(t){const e=Mt.fromString(t);return wt(xO(e)),e}function E_(t,e){return cE(t.databaseId,e.path)}function ky(t,e){const n=gO(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(yO(n))}function vO(t,e){return cE(t.databaseId,e)}function aK(t){const e=gO(t);return e.length===4?Mt.emptyPath():yO(e)}function b_(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yO(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function n1(t,e,n){return{name:E_(t,e),fields:n.value.mapValue.fields}}function lK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(wt(f===void 0||typeof f=="string"),Tn.fromBase64String(f||"")):(wt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Tn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const f=c.code===void 0?Z.UNKNOWN:fO(c.code);return new Se(f,c.message||"")}(i);n=new pO(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ky(t,r.document.name),o=Ks(r.document.updateTime),i=r.document.createTime?Ks(r.document.createTime):Fe.min(),a=new or({mapValue:{fields:r.document.fields}}),l=On.newFoundDocument(s,o,i,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Ip(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ky(t,r.document),o=r.readTime?Ks(r.readTime):Fe.min(),i=On.newNoDocument(s,o),a=r.removedTargetIds||[];n=new Ip([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ky(t,r.document),o=r.removedTargetIds||[];n=new Ip([],o,s,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new Xq(s,o),a=r.targetId;n=new hO(a,i)}}return n}function cK(t,e){let n;if(e instanceof qf)n={update:n1(t,e.key,e.value)};else if(e instanceof iE)n={delete:E_(t,e.key)};else if(e instanceof ra)n={update:n1(t,e.key,e.data),updateMask:yK(e.fieldMask)};else{if(!(e instanceof Gq))return Oe();n={verify:E_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof Pm)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof km)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw Oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:iK(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe()}(t,e.precondition)),n}function uK(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(n=>function(s,o){let i=s.updateTime?Ks(s.updateTime):Ks(o);return i.isEqual(Fe.min())&&(i=Ks(o)),new Hq(i,s.transformResults||[])}(n,e))):[]}function dK(t,e){return{documents:[vO(t,e.path)]}}function fK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vO(t,s);const o=function(c){if(c.length!==0)return _O(Js.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:Bl(m.field),direction:mK(m.dir)}}(f))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=__(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function hK(t){let e=aK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){const m=wO(h);return m instanceof Js&&YD(m)?m.getFilters():[m]}(n.where));let i=[];n.orderBy&&(i=function(h){return h.map(m=>function(x){return new Rm(zl(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Xg(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,g=h.values||[];return new Im(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,g=h.values||[];return new Im(g,m)}(n.endAt)),Aq(e,s,i,o,a,"F",l,c)}function pK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zl(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zl(n.unaryFilter.field);return ln.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zl(n.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zl(n.unaryFilter.field);return ln.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return ln.create(zl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Js.create(n.compositeFilter.filters.map(r=>wO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function mK(t){return nK[t]}function gK(t){return rK[t]}function vK(t){return sK[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function zl(t){return _n.fromServerFormat(t.fieldPath)}function _O(t){return t instanceof ln?function(n){if(n.op==="=="){if(BC(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if($C(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BC(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if($C(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:gK(n.op),value:n.value}}}(t):t instanceof Js?function(n){const r=n.getFilters().map(s=>_O(s));return r.length===1?r[0]:{compositeFilter:{op:vK(n.op),filters:r}}}(t):Oe()}function yK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,s,o=Fe.min(),i=Fe.min(),a=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.ct=e}}function _K(t){const e=hK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(){this.un=new EK}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ji.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class EK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new En(Mt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new En(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wc(0)}static kn(){return new Wc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(){this.changes=new pu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ed(r.mutation,s,Tr.empty(),Xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const s=Ia();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=nd();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=Oo();const i=xd(),a=function(){return xd()}();return n.forEach((l,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof ra)?o=o.insert(c.key,c):f!==void 0?(i.set(c.key,f.mutation.getFieldMask()),Ed(f.mutation,c,f.mutation.getFieldMask(),Xt.now())):i.set(c.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,f)=>i.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new TK(f,(h=i.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xd();let s=new zt((i,a)=>i-a),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Tr.empty();f=a.applyToLocalView(c,f),r.set(l,f);const h=(s.get(a.batchId)||tt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,h=rO();f.forEach(m=>{if(!o.has(m)){const g=uO(n.get(m),r.get(m));g!==null&&h.set(m,g),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,h))}return J.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):J.resolve(Ia());let a=-1,l=o;return i.next(c=>J.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?J.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{l=l.insert(f,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,tt())).next(f=>({batchId:a,changes:nO(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=nd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=nd();return this.indexManager.getCollectionParents(e,o).next(a=>J.forEach(a,l=>{const c=function(h,m){return new Zg(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((h,m)=>{i=i.insert(h,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((l,c)=>{const f=c.getKey();i.get(f)===null&&(i=i.insert(f,On.newInvalidDocument(f)))});let a=nd();return i.forEach((l,c)=>{const f=o.get(l);f!==void 0&&Ed(f.mutation,c,Tr.empty(),Xt.now()),ev(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ks(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:_K(s.bundledQuery),readTime:Ks(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.overlays=new zt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return J.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Ia(),o=n.length+1,i=new Ie(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new zt((c,f)=>c-f);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=Ia(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Ia(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=s)););return J.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new Qq(n,r));let o=this.Ir.get(n);o===void 0&&(o=tt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.Tr=new En(dn.Er),this.dr=new En(dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new Mt([])),r=new dn(n,e),s=new dn(n,e+1),o=[];return this.dr.forEachInRange([r,s],i=>{this.Vr(i),o.push(i.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new Mt([])),r=new dn(n,e),s=new dn(n,e+1);let o=tt();return this.dr.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ft(e.wr,n.wr)}static Ar(e,n){return ft(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new En(dn.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Yq(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.br=this.br.add(new dn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(i)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],i=>{const a=this.Dr(i.wr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(ft);return n.forEach(s=>{const o=new dn(s,0),i=new dn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,i],a=>{r=r.add(a.wr)})}),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const i=new dn(new Ie(o),0);let a=new En(ft);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},i),J.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,s=>{const o=new dn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dn(n,0),s=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.Mr=e,this.docs=function(){return new zt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=Oo();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():On.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Oo();const i=n.path,a=new Ie(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||fq(dq(f),r)<=0||(s.has(f.key)||ev(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Oe()}Or(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AK(this)}getSize(e){return J.resolve(this.size)}}class AK extends bK{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.persistence=e,this.Nr=new pu(n=>nE(n),rE),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uE,this.targetCount=0,this.kr=Wc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),J.waitFor(o).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zx(0),this.Kr=!1,this.Kr=!0,this.$r=new RK,this.referenceDelegate=e(this),this.Ur=new NK(this),this.indexManager=new xK,this.remoteDocumentCache=function(s){return new kK(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wK(n),this.Gr=new CK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new PK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new OK(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return J.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class OK extends pq{constructor(e){super(),this.currentSequenceNumber=e}}class dE{constructor(e){this.persistence=e,this.Jr=new uE,this.Yr=null}static Zr(e){return new dE(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,r=>{const s=Ie.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=tt(),s=tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new fE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tz()?8:mq(jn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new MK;return this.Xi(e,n,i).next(a=>{if(o.result=a,this.zi)return this.es(e,n,i,a.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Bu()<=ot.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",$l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(Bu()<=ot.DEBUG&&ye("QueryEngine","Query:",$l(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Bu()<=ot.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",$l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):J.resolve())}Yi(e,n){if(qC(n))return J.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=w_(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=tt(...o);return this.Ji.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,i,l.readTime)?this.Yi(e,w_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return qC(n)||s.isEqual(Fe.min())?J.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const i=this.ts(n,o);return this.ns(n,i,r,s)?J.resolve(null):(Bu()<=ot.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$l(n)),this.rs(e,i,n,uq(s,-1)).next(a=>a))})}ts(e,n){let r=new En(eO(e));return n.forEach((s,o)=>{ev(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return Bu()<=ot.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",$l(n)),this.Ji.getDocumentsMatchingQuery(e,n,ji.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new zt(ft),this._s=new pu(o=>nE(o),rE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function FK(t,e,n,r){return new LK(t,e,n,r)}async function EO(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=tt();for(const c of s){i.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of o){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:i,addedBatchIds:a}))})})}function VK(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const h=c.batch,m=h.keys();let g=J.resolve();return m.forEach(x=>{g=g.next(()=>f.getEntry(l,x)).next(y=>{const b=c.docVersions.get(x);wt(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),f.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bO(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function UK(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=s.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Tn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),s=s.insert(h,g),function(y,b,E){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,g,f)&&a.push(n.Ur.updateTargetData(o,g))});let l=Oo(),c=tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push($K(o,i,e.documentUpdates).next(f=>{l=f.Ps,c=f.Is})),!r.isEqual(Fe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return J.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=s,o))}function $K(t,e,n){let r=tt(),s=tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Oo();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:i,Is:s}})}function BK(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zK(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,J.resolve(s)):n.Ur.allocateTargetId(r).next(i=>(s=new gi(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function T_(t,e,n){const r=Ve(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Hf(i))throw i;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function r1(t,e,n){const r=Ve(t);let s=Fe.min(),o=tt();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,f){const h=Ve(l),m=h._s.get(f);return m!==void 0?J.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,i,qs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(i,e,n?s:Fe.min(),n?o:tt())).next(a=>(WK(r,Oq(e),a),{documents:a,Ts:o})))}function WK(t,e,n){let r=t.us.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class s1{constructor(){this.activeTargetIds=Uq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HK{constructor(){this.so=new s1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new s1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function Ay(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class YK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,i){const a=Ay(),l=this.xo(n,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,i),this.No(n,l,c,s).then(f=>(ye("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Fc("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",s),f})}Lo(n,r,s,o,i,a){return this.Mo(n,r,s,o,i)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,i)=>n[i]=o),s&&s.headers.forEach((o,i)=>n[i]=o)}xo(n,r){const s=KK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=Ay();return new Promise((i,a)=>{const l=new LD;l.setWithCredentials(!0),l.listenOnce(FD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tp.NO_ERROR:const f=l.getResponseJson();ye(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),i(f);break;case Tp.TIMEOUT:ye(An,`RPC '${e}' ${o} timed out`),a(new Se(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const h=l.getStatus();if(ye(An,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const x=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(E)>=0?E:Z.UNKNOWN}(g.status);a(new Se(x,g.message))}else a(new Se(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(Z.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ye(An,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(s);ye(An,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Ay(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=$D(),a=UD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");ye(An,`Creating RPC '${e}' stream ${s}: ${f}`,l);const h=i.createWebChannel(f,l);let m=!1,g=!1;const x=new GK({Io:b=>{g?ye(An,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(ye(An,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),ye(An,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},To:()=>h.close()}),y=(b,E,w)=>{b.listen(E,S=>{try{w(S)}catch(C){setTimeout(()=>{throw C},0)}})};return y(h,td.EventType.OPEN,()=>{g||(ye(An,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),y(h,td.EventType.CLOSE,()=>{g||(g=!0,ye(An,`RPC '${e}' stream ${s} transport closed`),x.So())}),y(h,td.EventType.ERROR,b=>{g||(g=!0,Fc(An,`RPC '${e}' stream ${s} transport errored:`,b),x.So(new Se(Z.UNAVAILABLE,"The operation could not be completed")))}),y(h,td.EventType.MESSAGE,b=>{var E;if(!g){const w=b.data[0];wt(!!w);const S=w,C=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(C){ye(An,`RPC '${e}' stream ${s} received error:`,C);const O=C.status;let V=function(I){const P=en[I];if(P!==void 0)return fO(P)}(O),R=C.message;V===void 0&&(V=Z.INTERNAL,R="Unknown error status: "+O+" with message "+C.message),g=!0,x.So(new Se(V,R)),h.close()}else ye(An,`RPC '${e}' stream ${s} received:`,w),x.bo(w)}}),y(a,VD.STAT_EVENT,b=>{b.stat===p_.PROXY?ye(An,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===p_.NOPROXY&&ye(An,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return new oK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,s,o,i,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Do(n.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QK extends SO{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lK(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Fe.min():i.readTime?Ks(i.readTime):Fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=b_(this.serializer),n.addTarget=function(o,i){let a;const l=i.target;if(a=y_(l)?{documents:dK(o,l)}:{query:fK(o,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=mO(o,i.resumeToken);const c=__(o,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(Fe.min())>0){a.readTime=Am(o,i.snapshotVersion.toTimestamp());const c=__(o,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pK(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=b_(this.serializer),n.removeTarget=e,this.a_(n)}}class XK extends SO{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return wt(!!e.streamToken),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=uK(e.writeResults,e.commitTime),r=Ks(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=b_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cK(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Mo(e,x_(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(Z.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Lo(e,x_(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(Z.UNKNOWN,i.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Do(n),this.D_=!1):ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(i=>{r.enqueueAndForget(async()=>{El(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.L_.add(4),await Gf(c),c.q_.set("Unknown"),c.L_.delete(4),await ov(c)}(this))})}),this.q_=new JK(r,s)}}async function ov(t){if(El(t))for(const e of t.B_)await e(!0)}async function Gf(t){for(const e of t.B_)await e(!1)}function CO(t,e){const n=Ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),gE(n)?mE(n):mu(n).r_()&&pE(n,e))}function hE(t,e){const n=Ve(t),r=mu(n);n.N_.delete(e),r.r_()&&IO(n,e),n.N_.size===0&&(r.r_()?r.o_():El(n)&&n.q_.set("Unknown"))}function pE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).A_(e)}function IO(t,e){t.Q_.xe(e),mu(t).R_(e)}function mE(t){t.Q_=new tK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.q_.v_()}function gE(t){return El(t)&&!mu(t).n_()&&t.N_.size>0}function El(t){return Ve(t).L_.size===0}function RO(t){t.Q_=void 0}async function tG(t){t.q_.set("Online")}async function nG(t){t.N_.forEach((e,n)=>{pE(t,e)})}async function rG(t,e){RO(t),gE(t)?(t.q_.M_(e),mE(t)):t.q_.set("Unknown")}async function sG(t,e,n){if(t.q_.set("Online"),e instanceof pO&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nm(t,r)}else if(e instanceof Ip?t.Q_.Ke(e):e instanceof hO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Fe.min()))try{const r=await bO(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Q_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const f=o.N_.get(l);if(!f)return;o.N_.set(l,f.withResumeToken(Tn.EMPTY_BYTE_STRING,f.snapshotVersion)),IO(o,l);const h=new gi(f.target,l,c,f.sequenceNumber);pE(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),await Nm(t,r)}}async function Nm(t,e,n){if(!Hf(e))throw e;t.L_.add(1),await Gf(t),t.q_.set("Offline"),n||(n=()=>bO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ov(t)})}function PO(t,e){return e().catch(n=>Nm(t,n,e))}async function iv(t){const e=Ve(t),n=Fi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oG(e);)try{const s=await BK(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,iG(e,s)}catch(s){await Nm(e,s)}kO(e)&&AO(e)}function oG(t){return El(t)&&t.O_.length<10}function iG(t,e){t.O_.push(e);const n=Fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kO(t){return El(t)&&!Fi(t).n_()&&t.O_.length>0}function AO(t){Fi(t).start()}async function aG(t){Fi(t).p_()}async function lG(t){const e=Fi(t);for(const n of t.O_)e.m_(n.mutations)}async function cG(t,e,n){const r=t.O_.shift(),s=aE.from(r,e,n);await PO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await iv(t)}async function uG(t,e){e&&Fi(t).V_&&await async function(r,s){if(function(i){return Zq(i)&&i!==Z.ABORTED}(s.code)){const o=r.O_.shift();Fi(r).s_(),await PO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await iv(r)}}(t,e),kO(t)&&AO(t)}async function i1(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=El(n);n.L_.add(3),await Gf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ov(n)}async function dG(t,e){const n=Ve(t);e?(n.L_.delete(2),await ov(n)):e||(n.L_.add(2),await Gf(n),n.q_.set("Unknown"))}function mu(t){return t.K_||(t.K_=function(n,r,s){const o=Ve(n);return o.w_(),new QK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:tG.bind(null,t),Ro:nG.bind(null,t),mo:rG.bind(null,t),d_:sG.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),gE(t)?mE(t):t.q_.set("Unknown")):(await t.K_.stop(),RO(t))})),t.K_}function Fi(t){return t.U_||(t.U_=function(n,r,s){const o=Ve(n);return o.w_(),new XK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aG.bind(null,t),mo:uG.bind(null,t),f_:lG.bind(null,t),g_:cG.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await iv(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new vE(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yE(t,e){if(Do("AsyncQueue",`${e}: ${t}`),Hf(t))return new Se(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=nd(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new Ec(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.W_=new zt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hc{constructor(e,n,r,s,o,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Hc(e,n,Ec.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hG{constructor(){this.queries=l1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ve(n),o=s.queries;s.queries=l1(),o.forEach((i,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Se(Z.ABORTED,"Firestore shutting down"))}}function l1(){return new pu(t=>JD(t),Jg)}async function NO(t,e){const n=Ve(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new fG,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=yE(i,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&wE(n)}async function DO(t,e){const n=Ve(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.j_.indexOf(e);i>=0&&(o.j_.splice(i,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pG(t,e){const n=Ve(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.j_)a.X_(s)&&(r=!0);i.z_=s}}r&&wE(n)}function mG(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function wE(t){t.Y_.forEach(e=>{e.next()})}var S_,c1;(c1=S_||(S_={})).ea="default",c1.Cache="cache";class OO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==S_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.key=e}}class jO{constructor(e){this.key=e}}class gG{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tt(),this.mutatedKeys=tt(),this.Aa=eO(e),this.Ra=new Ec(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new a1,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const m=s.get(f),g=ev(this.query,h)?h:null,x=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?x!==y&&(r.track({type:3,doc:g}),b=!0):this.ga(m,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(l||c)&&(a=!0)),b&&(g?(i=i.add(g),o=y?o.add(f):o.delete(f)):(i=i.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const f=this.query.limitType==="F"?i.last():i.first();i=i.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:i,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort((f,h)=>function(g,x){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return y(g)-y(x)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,i.length!==0||c?{snapshot:new Hc(this.query,e.Ra,o,i,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new a1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new MO(r))}),n}ba(e){this.Ta=e.Ts,this.da=tt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yG{constructor(e){this.key=e,this.va=!1}}class wG{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new pu(a=>JD(a),Jg),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(Ie.comparator),this.Na=new Map,this.La=new uE,this.Ba={},this.ka=new Map,this.qa=Wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _G(t,e,n=!0){const r=BO(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await LO(r,e,n,!0),s}async function xG(t,e){const n=BO(t);await LO(n,e,!0,!1)}async function LO(t,e,n,r){const s=await zK(t.localStore,qs(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await EG(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&CO(t.remoteStore,s),a}async function EG(t,e,n,r,s){t.Ka=(h,m,g)=>async function(y,b,E,w){let S=b.view.ma(E);S.ns&&(S=await r1(y.localStore,b.query,!1).then(({documents:R})=>b.view.ma(R,S)));const C=w&&w.targetChanges.get(b.targetId),O=w&&w.targetMismatches.get(b.targetId)!=null,V=b.view.applyChanges(S,y.isPrimaryClient,C,O);return d1(y,b.targetId,V.wa),V.snapshot}(t,h,m,g);const o=await r1(t.localStore,e,!0),i=new gG(e,o.Ts),a=i.ma(o.documents),l=Kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=i.applyChanges(a,t.isPrimaryClient,l);d1(t,n,c.wa);const f=new vG(e,n,i);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function bG(t,e,n){const r=Ve(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(i=>!Jg(i,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await T_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hE(r.remoteStore,s.targetId),C_(r,s.targetId)}).catch(Wf)):(C_(r,s.targetId),await T_(r.localStore,s.targetId,!0))}async function TG(t,e){const n=Ve(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hE(n.remoteStore,r.targetId))}async function SG(t,e,n){const r=NG(t);try{const s=await function(i,a){const l=Ve(i),c=Xt.now(),f=a.reduce((g,x)=>g.add(x.key),tt());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Oo(),y=tt();return l.cs.getEntries(g,f).next(b=>{x=b,x.forEach((E,w)=>{w.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(b=>{h=b;const E=[];for(const w of a){const S=Kq(w,h.get(w.key).overlayedDocument);S!=null&&E.push(new ra(w.key,S,qD(S.value.mapValue),qr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(b=>{m=b;const E=b.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,b.batchId,E)})}).then(()=>({batchId:m.batchId,changes:nO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,l){let c=i.Ba[i.currentUser.toKey()];c||(c=new zt(ft)),c=c.insert(a,l),i.Ba[i.currentUser.toKey()]=c}(r,s.batchId,n),await Yf(r,s.changes),await iv(r.remoteStore)}catch(s){const o=yE(s,"Failed to persist write");n.reject(o)}}async function FO(t,e){const n=Ve(t);try{const r=await UK(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Na.get(o);i&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.va=!0:s.modifiedDocuments.size>0?wt(i.va):s.removedDocuments.size>0&&(wt(i.va),i.va=!1))}),await Yf(n,r,e)}catch(r){await Wf(r)}}function u1(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,i)=>{const a=i.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const l=Ve(i);l.onlineState=a;let c=!1;l.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&wE(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CG(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let i=new zt(Ie.comparator);i=i.insert(o,On.newNoDocument(o,Fe.min()));const a=tt().add(o),l=new rv(Fe.min(),new Map,new zt(ft),i,a);await FO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),_E(r)}else await T_(r.localStore,e,!1).then(()=>C_(r,e,n)).catch(Wf)}async function IG(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await VK(n.localStore,e);UO(n,r,null),VO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(n,s)}catch(s){await Wf(s)}}async function RG(t,e,n){const r=Ve(t);try{const s=await function(i,a){const l=Ve(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(wt(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);UO(r,e,n),VO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yf(r,s)}catch(s){await Wf(s)}}function VO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UO(t,e,n){const r=Ve(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function C_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$O(t,r)})}function $O(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_E(t))}function d1(t,e,n){for(const r of n)r instanceof MO?(t.La.addReference(r.key,e),PG(t,r)):r instanceof jO?(ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$O(t,r.key)):Oe()}function PG(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),_E(t))}function _E(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(Mt.fromString(e)),r=t.qa.next();t.Na.set(r,new yG(n)),t.Oa=t.Oa.insert(n,r),CO(t.remoteStore,new gi(qs(sE(n.path)),r,"TargetPurposeLimboResolution",Zx.oe))}}async function Yf(t,e,n){const r=Ve(t),s=[],o=[],i=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{i.push(r.Ka(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=fE.Wi(l.targetId,c);o.push(h)}}))}),await Promise.all(i),r.Ca.d_(s),await async function(l,c){const f=Ve(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>J.forEach(c,m=>J.forEach(m.$i,g=>f.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>J.forEach(m.Ui,g=>f.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!Hf(h))throw h;ye("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const g=f.os.get(m),x=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(x);f.os=f.os.insert(m,y)}}}(r.localStore,o))}async function kG(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=await EO(n.localStore,e);n.currentUser=e,function(o,i){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Se(Z.CANCELLED,i))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yf(n,r.hs)}}function AG(t,e){const n=Ve(t),r=n.Na.get(e);if(r&&r.va)return tt().add(r.key);{let s=tt();const o=n.Ma.get(e);if(!o)return s;for(const i of o){const a=n.Fa.get(i);s=s.unionWith(a.view.Va)}return s}}function BO(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CG.bind(null,e),e.Ca.d_=pG.bind(null,e.eventManager),e.Ca.$a=mG.bind(null,e.eventManager),e}function NG(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RG.bind(null,e),e}class Dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return FK(this.persistence,new jK,e.initialUser,this.serializer)}Ga(e){return new DK(dE.Zr,this.serializer)}Wa(e){return new HK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dm.provider={build:()=>new Dm};class I_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kG.bind(null,this.syncEngine),await dG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hG}()}createDatastore(e){const n=sv(e.databaseInfo.databaseId),r=function(o){return new YK(o)}(e.databaseInfo);return function(o,i,a,l){return new ZK(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new eG(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u1(this.syncEngine,n,0),function(){return o1.D()?new o1:new qK}())}createSyncEngine(e,n){return function(s,o,i,a,l,c,f){const h=new wG(s,o,i,a,l,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ve(s);ye("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Gf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}I_.provider={build:()=>new I_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=zD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{ye("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ye("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await EO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OG(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>i1(e.remoteStore,s)),t._onlineComponents=e}async function OG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Fc("Error using user provided cache. Falling back to memory cache: "+n),await Dy(t,new Dm)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Dy(t,new Dm);return t._offlineComponents}async function WO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await f1(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await f1(t,new I_))),t._onlineComponents}function MG(t){return WO(t).then(e=>e.syncEngine)}async function HO(t){const e=await WO(t),n=e.eventManager;return n.onListen=_G.bind(null,e.syncEngine),n.onUnlisten=bG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TG.bind(null,e.syncEngine),n}function jG(t,e,n={}){const r=new To;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,c){const f=new zO({next:m=>{f.Za(),i.enqueueAndForget(()=>DO(o,h));const g=m.docs.has(a);!g&&m.fromCache?c.reject(new Se(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?c.reject(new Se(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new OO(sE(a.path),f,{includeMetadataChanges:!0,_a:!0});return NO(o,h)}(await HO(t),t.asyncQueue,e,n,r)),r.promise}function LG(t,e,n={}){const r=new To;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,c){const f=new zO({next:m=>{f.Za(),i.enqueueAndForget(()=>DO(o,h)),m.fromCache&&l.source==="server"?c.reject(new Se(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new OO(a,f,{includeMetadataChanges:!0,_a:!0});return NO(o,h)}(await HO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t,e,n){if(!n)throw new Se(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FG(t,e,n,r){if(e===!0&&r===!0)throw new Se(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p1(t){if(!Ie.isDocumentKey(t))throw new Se(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m1(t){if(Ie.isDocumentKey(t))throw new Se(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function Ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xE(t);throw new Se(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class av{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tq;switch(r.type){case"firstParty":return new oq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h1.get(n);r&&(ye("ComponentProvider","Removing Datastore"),h1.delete(n),r.terminate())}(this),Promise.resolve()}}function VG(t,e,n,r={}){var s;const o=(t=Ss(t,av))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nn.MOCK_USER;else{a=SN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nn(c)}t._authCredentials=new nq(new BD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lv(this.firestore,e,this._query)}}class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class Ri extends lv{constructor(e,n,r){super(e,n,sE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ie(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Br(t,e,...n){if(t=Et(t),KO("collection","path",e),t instanceof av){const r=Mt.fromString(e,...n);return m1(r),new Ri(t,null,r)}{if(!(t instanceof fr||t instanceof Ri))throw new Se(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return m1(r),new Ri(t.firestore,null,r)}}function hn(t,e,...n){if(t=Et(t),arguments.length===1&&(e=zD.newId()),KO("doc","path",e),t instanceof av){const r=Mt.fromString(e,...n);return p1(r),new fr(t,null,new Ie(r))}{if(!(t instanceof fr||t instanceof Ri))throw new Se(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return p1(r),new fr(t.firestore,t instanceof Ri?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TO(this,"async_queue_retry"),this.Vu=()=>{const r=Ny();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new To;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hf(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw Do("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=vE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class bl extends av{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new v1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function UG(t,e){const n=typeof t=="object"?t:Hg(),r=typeof t=="string"?t:"(default)",s=ea(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=EN("firestore");o&&VG(s,...o)}return s}function EE(t){if(t._terminated)throw new Se(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$G(t),t._firestoreClient}function $G(t){var e,n,r;const s=t._freezeSettings(),o=function(a,l,c,f){return new yq(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qO(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new DG(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(Tn.fromBase64String(e))}catch(n){throw new Se(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qc(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=/^__.*__$/;class zG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new qf(e,this.data,n,this.fieldTransforms)}}class GO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class uv{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Om(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(YO(this.Cu)&&BG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class WG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sv(e)}Qu(e,n,r,s=!1){return new uv({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SE(t){const e=t._freezeSettings(),n=sv(t._databaseId);return new WG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QO(t,e,n,r,s,o={}){const i=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);RE("Data must be an object, but it was:",i,r);const a=ZO(r,i);let l,c;if(o.merge)l=new Tr(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const m=R_(e,h,n);if(!i.contains(m))throw new Se(Z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eM(f,m)||f.push(m)}l=new Tr(f),c=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=i.fieldTransforms;return new zG(new or(a),l,c)}class dv extends Qf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dv}}function XO(t,e,n){return new uv({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CE extends Qf{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=XO(this,e,!0),r=this.Ku.map(o=>gu(o,n)),s=new Bc(r);return new cO(e.path,s)}isEqual(e){return e instanceof CE&&Ba(this.Ku,e.Ku)}}class IE extends Qf{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=XO(this,e,!0),r=this.Ku.map(o=>gu(o,n)),s=new zc(r);return new cO(e.path,s)}isEqual(e){return e instanceof IE&&Ba(this.Ku,e.Ku)}}function HG(t,e,n,r){const s=t.Qu(1,e,n);RE("Data must be an object, but it was:",s,r);const o=[],i=or.empty();xl(r,(l,c)=>{const f=PE(e,l,n);c=Et(c);const h=s.Nu(f);if(c instanceof dv)o.push(f);else{const m=gu(c,h);m!=null&&(o.push(f),i.set(f,m))}});const a=new Tr(o);return new GO(i,a,s.fieldTransforms)}function qG(t,e,n,r,s,o){const i=t.Qu(1,e,n),a=[R_(e,r,n)],l=[s];if(o.length%2!=0)throw new Se(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(R_(e,o[m])),l.push(o[m+1]);const c=[],f=or.empty();for(let m=a.length-1;m>=0;--m)if(!eM(c,a[m])){const g=a[m];let x=l[m];x=Et(x);const y=i.Nu(g);if(x instanceof dv)c.push(g);else{const b=gu(x,y);b!=null&&(c.push(g),f.set(g,b))}}const h=new Tr(c);return new GO(f,h,i.fieldTransforms)}function gu(t,e){if(JO(t=Et(t)))return RE("Unsupported field value:",e,t),ZO(t,e);if(t instanceof Qf)return function(r,s){if(!YO(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let l=gu(a,s.Lu(i));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $q(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Xt.fromDate(r);return{timestampValue:Am(s.serializer,o)}}if(r instanceof Xt){const o=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Am(s.serializer,o)}}if(r instanceof bE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qc)return{bytesValue:mO(s.serializer,r._byteString)};if(r instanceof fr){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Bu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof TE)return function(i,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return oE(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${xE(r)}`)}(t,e)}function ZO(t,e){const n={};return WD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,(r,s)=>{const o=gu(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function JO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof bE||t instanceof qc||t instanceof fr||t instanceof Qf||t instanceof TE)}function RE(t,e,n){if(!JO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=xE(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function R_(t,e,n){if((e=Et(e))instanceof cv)return e._internalPath;if(typeof e=="string")return PE(t,e);throw Om("Field path arguments must be of type string or ",t,!1,void 0,n)}const KG=new RegExp("[~\\*/\\[\\]]");function PE(t,e,n){if(e.search(KG)>=0)throw Om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cv(...e.split("."))._internalPath}catch{throw Om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Om(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new Se(Z.INVALID_ARGUMENT,a+t+l)}function eM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GG extends tM{data(){return super.data()}}function nM(t,e){return typeof e=="string"?PE(t,e):e instanceof cv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QG{convertValue(e,n="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xl(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(i=>Yt(i.doubleValue));return new TE(o)}convertGeoPoint(e){return new bE(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);wt(xO(r));const s=new sf(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return s.isEqual(n)||Do(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sM extends tM{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rp extends sM{data(e={}){return super.data(e)}}class XG{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new sd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new sd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const l=new Rp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Rp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),f=i.indexOf(a.doc.key)),{type:ZG(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){t=Ss(t,fr);const e=Ss(t.firestore,bl);return jG(EE(e),t._key).then(n=>eY(e,t,n))}class oM extends QG{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function Qa(t){t=Ss(t,lv);const e=Ss(t.firestore,bl),n=EE(e),r=new oM(e);return YG(t._query),LG(n,t._query).then(s=>new XG(e,r,t,s))}function JG(t,e,n){t=Ss(t,fr);const r=Ss(t.firestore,bl),s=rM(t.converter,e,n);return fv(r,[QO(SE(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qr.none())])}function Kn(t,e,n,...r){t=Ss(t,fr);const s=Ss(t.firestore,bl),o=SE(s);let i;return i=typeof(e=Et(e))=="string"||e instanceof cv?qG(o,"updateDoc",t._key,e,n,r):HG(o,"updateDoc",t._key,e),fv(s,[i.toMutation(t._key,qr.exists(!0))])}function kE(t){return fv(Ss(t.firestore,bl),[new iE(t._key,qr.none())])}function Kc(t,e){const n=Ss(t.firestore,bl),r=hn(t),s=rM(t.converter,e);return fv(n,[QO(SE(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}function fv(t,e){return function(r,s){const o=new To;return r.asyncQueue.enqueueAndForget(async()=>SG(await MG(r),s,o)),o.promise}(EE(t),e)}function eY(t,e,n){const r=n.docs.get(e._key),s=new oM(t);return new sM(t,s,e._key,r,new sd(n.hasPendingWrites,n.fromCache),e.converter)}function Pp(...t){return new CE("arrayUnion",t)}function kp(...t){return new IE("arrayRemove",t)}(function(e,n=!0){(function(s){hu=s})(_l),Ts(new Yr("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new bl(new rq(r.getProvider("auth-internal")),new aq(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(c.options.projectId,f)}(i,s),i);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dr(jC,"4.7.3",e),dr(jC,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="firebasestorage.googleapis.com",aM="storageBucket",tY=2*60*1e3,nY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends es{constructor(e,n,r=0){super(Oy(e),`Firebase Storage: ${n} (${Oy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Oy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function Oy(t){return"storage/"+t}function AE(){const t="An unknown error occurred, please check the error payload for server response.";return new Gt(Kt.UNKNOWN,t)}function rY(t){return new Gt(Kt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sY(t){return new Gt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oY(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(Kt.UNAUTHENTICATED,t)}function iY(){return new Gt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aY(t){return new Gt(Kt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lY(){return new Gt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cY(){return new Gt(Kt.CANCELED,"User canceled the upload/download.")}function uY(t){return new Gt(Kt.INVALID_URL,"Invalid URL '"+t+"'.")}function dY(t){return new Gt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fY(){return new Gt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aM+"' property when initializing the app?")}function hY(){return new Gt(Kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pY(){return new Gt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mY(t){return new Gt(Kt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function P_(t){return new Gt(Kt.INVALID_ARGUMENT,t)}function lM(){return new Gt(Kt.APP_DELETED,"The Firebase app was deleted.")}function gY(t){return new Gt(Kt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bd(t,e){return new Gt(Kt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zu(t){throw new Gt(Kt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw dY(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${f}/b/${s}/o${m}`,"i"),x={bucket:1,path:3},y=n===iM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",E=new RegExp(`^https?://${y}/${s}/${b}`,"i"),S=[{regex:a,indices:l,postModify:o},{regex:g,indices:x,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<S.length;C++){const O=S[C],V=O.regex.exec(e);if(V){const R=V[O.indices.bucket];let _=V[O.indices.path];_||(_=""),r=new Gn(R,_),O.postModify(r);break}}if(r==null)throw uY(e);return r}}class vY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let c=!1;function f(...b){c||(c=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(g,l())},b)}function m(){o&&clearTimeout(o)}function g(b,...E){if(c){m();return}if(b){m(),f.call(null,b,...E);return}if(l()||i){m(),f.call(null,b,...E);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,h(S)}let x=!1;function y(b){x||(x=!0,m(),!c&&(s!==null?(b||(a=2),clearTimeout(s),h(0)):b||(a=1)))}return h(0),o=setTimeout(()=>{i=!0,y(!0)},n),y}function wY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t){return t!==void 0}function xY(t){return typeof t=="object"&&!Array.isArray(t)}function NE(t){return typeof t=="string"||t instanceof String}function y1(t){return DE()&&t instanceof Blob}function DE(){return typeof Blob<"u"}function k_(t,e,n,r){if(r<e)throw P_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw P_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Aa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Aa||(Aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e,n,r,s,o,i,a,l,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Zh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===Aa.NO_ERROR,l=o.getStatus();if(!a||EY(l,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===Aa.ABORT;r(!1,new Zh(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Zh(c,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_Y(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=AE();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?lM():cY();i(l)}else{const l=lY();i(l)}};this.canceled_?n(!1,new Zh(!1,null,!0)):this.backoffId_=yY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RY(t,e,n,r,s,o,i=!0){const a=cM(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return CY(c,e),TY(c,n),SY(c,o),IY(c,r),new bY(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kY(...t){const e=PY();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(DE())return new Blob(t);throw new Gt(Kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AY(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){if(typeof atob>"u")throw mY("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class My{constructor(e,n){this.data=e,this.contentType=n||null}}function DY(t,e){switch(t){case Fs.RAW:return new My(uM(e));case Fs.BASE64:case Fs.BASE64URL:return new My(dM(t,e));case Fs.DATA_URL:return new My(MY(e),jY(e))}throw AE()}function uM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OY(t){let e;try{e=decodeURIComponent(t)}catch{throw bd(Fs.DATA_URL,"Malformed data URL.")}return uM(e)}function dM(t,e){switch(t){case Fs.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw bd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Fs.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw bd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NY(e)}catch(s){throw s.message.includes("polyfill")?s:bd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class fM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bd(Fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=LY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function MY(t){const e=new fM(t);return e.base64?dM(Fs.BASE64,e.rest):OY(e.rest)}function jY(t){return new fM(t).contentType}function LY(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){let r=0,s="";y1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(y1(this.data_)){const r=this.data_,s=AY(r,e,n);return s===null?null:new ui(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ui(r,!0)}}static getBlob(...e){if(DE()){const n=e.map(r=>r instanceof ui?r.data_:r);return new ui(kY.apply(null,n))}else{const n=e.map(i=>NE(i)?DY(Fs.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new ui(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){let e;try{e=JSON.parse(t)}catch{return null}return xY(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VY(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t,e){return e}class Bn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||UY}}let Jh=null;function $Y(t){return!NE(t)||t.length<2?t:hM(t)}function ME(){if(Jh)return Jh;const t=[];t.push(new Bn("bucket")),t.push(new Bn("generation")),t.push(new Bn("metageneration")),t.push(new Bn("name","fullPath",!0));function e(o,i){return $Y(i)}const n=new Bn("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new Bn("size");return s.xform=r,t.push(s),t.push(new Bn("timeCreated")),t.push(new Bn("updated")),t.push(new Bn("md5Hash",null,!0)),t.push(new Bn("cacheControl",null,!0)),t.push(new Bn("contentDisposition",null,!0)),t.push(new Bn("contentEncoding",null,!0)),t.push(new Bn("contentLanguage",null,!0)),t.push(new Bn("contentType",null,!0)),t.push(new Bn("metadata","customMetadata",!0)),Jh=t,Jh}function BY(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Gn(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function zY(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return BY(r,t),r}function pM(t,e,n){const r=OE(e);return r===null?null:zY(t,r,n)}function WY(t,e,n,r){const s=OE(e);if(s===null||!NE(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(c=>{const f=t.bucket,h=t.fullPath,m="/b/"+i(f)+"/o/"+i(h),g=vu(m,n,r),x=cM({alt:"media",token:c});return g+x})[0]}function HY(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="prefixes",_1="items";function qY(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[w1])for(const s of n[w1]){const o=s.replace(/\/$/,""),i=t._makeStorageReference(new Gn(e,o));r.prefixes.push(i)}if(n[_1])for(const s of n[_1]){const o=t._makeStorageReference(new Gn(e,s.name));r.items.push(o)}return r}function KY(t,e,n){const r=OE(n);return r===null?null:qY(t,e,r)}class Xf{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){if(!t)throw AE()}function mM(t,e){function n(r,s){const o=pM(t,s,e);return jE(o!==null),o}return n}function GY(t,e){function n(r,s){const o=KY(t,e,s);return jE(o!==null),o}return n}function YY(t,e){function n(r,s){const o=pM(t,s,e);return jE(o!==null),WY(o,s,t.host,t._protocol)}return n}function LE(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=iY():s=oY():n.getStatus()===402?s=sY(t.bucket):n.getStatus()===403?s=aY(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function FE(t){const e=LE(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=rY(t.path)),o.serverResponse=s.serverResponse,o}return n}function QY(t,e,n){const r=e.fullServerUrl(),s=vu(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Xf(s,o,mM(t,n),i);return a.errorHandler=FE(e),a}function XY(t,e,n,r,s){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),s&&(o.maxResults=s);const i=e.bucketOnlyServerUrl(),a=vu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new Xf(a,l,GY(t,e.bucket),c);return f.urlParams=o,f.errorHandler=LE(e),f}function ZY(t,e,n){const r=e.fullServerUrl(),s=vu(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Xf(s,o,YY(t,n),i);return a.errorHandler=FE(e),a}function JY(t,e){const n=e.fullServerUrl(),r=vu(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,c){}const a=new Xf(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=FE(e),a}function eQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=eQ(null,e)),r}function nQ(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let C=0;C<2;C++)S=S+Math.random().toString().slice(2);return S}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const c=tQ(e,r,s),f=HY(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=ui.getBlob(h,r,m);if(g===null)throw hY();const x={name:c.fullPath},y=vu(o,t.host,t._protocol),b="POST",E=t.maxUploadRetryTime,w=new Xf(y,b,mM(t,n),E);return w.urlParams=x,w.headers=i,w.body=g.uploadData(),w.errorHandler=LE(e),w}class rQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw zu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sQ extends rQ{initXhr(){this.xhr_.responseType="text"}}function Zf(){return new sQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xa(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hM(this._location.path)}get storage(){return this._service}get parent(){const e=FY(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Xa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gY(e)}}function oQ(t,e,n){t._throwIfRoot("uploadBytes");const r=nQ(t.storage,t._location,ME(),new ui(e,!0),n);return t.storage.makeRequestWithTokens(r,Zf).then(s=>({metadata:s,ref:t}))}function iQ(t){const e={prefixes:[],items:[]};return gM(t,e).then(()=>e)}async function gM(t,e,n){const s=await aQ(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await gM(t,e,s.nextPageToken)}function aQ(t,e){e!=null&&typeof e.maxResults=="number"&&k_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=XY(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Zf)}function lQ(t){t._throwIfRoot("getMetadata");const e=QY(t.storage,t._location,ME());return t.storage.makeRequestWithTokens(e,Zf)}function cQ(t){t._throwIfRoot("getDownloadURL");const e=ZY(t.storage,t._location,ME());return t.storage.makeRequestWithTokens(e,Zf).then(n=>{if(n===null)throw pY();return n})}function uQ(t){t._throwIfRoot("deleteObject");const e=JY(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Zf)}function dQ(t,e){const n=VY(t._location.path,e),r=new Gn(t._location.bucket,n);return new Xa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t){return/^[A-Za-z]+:\/\//.test(t)}function hQ(t,e){return new Xa(t,e)}function vM(t,e){if(t instanceof VE){const n=t;if(n._bucket==null)throw fY();const r=new Xa(n,n._bucket);return e!=null?vM(r,e):r}else return e!==void 0?dQ(t,e):t}function pQ(t,e){if(e&&fQ(e)){if(t instanceof VE)return hQ(t,e);throw P_("To use ref(service, url), the first argument must be a Storage instance.")}else return vM(t,e)}function x1(t,e){const n=e==null?void 0:e[aM];return n==null?null:Gn.makeFromBucketSpec(n,t)}function mQ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:SN(s,t.app.options.projectId))}class VE{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=iM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tY,this._maxUploadRetryTime=nY,this._requests=new Set,s!=null?this._bucket=Gn.makeFromBucketSpec(s,this._host):this._bucket=x1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=x1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){k_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){k_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xa(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new vY(lM());{const i=RY(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const E1="@firebase/storage",b1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="storage";function A_(t,e,n){return t=Et(t),oQ(t,e,n)}function gQ(t){return t=Et(t),lQ(t)}function vQ(t){return t=Et(t),iQ(t)}function Ap(t){return t=Et(t),cQ(t)}function T1(t){return t=Et(t),uQ(t)}function Wl(t,e){return t=Et(t),pQ(t,e)}function yQ(t=Hg(),e){t=Et(t);const r=ea(t,yM).getImmediate({identifier:e}),s=EN("storage");return s&&wQ(r,...s),r}function wQ(t,e,n,r={}){mQ(t,e,n,r)}function _Q(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new VE(n,r,s,e,_l)}function xQ(){Ts(new Yr(yM,_Q,"PUBLIC").setMultipleInstances(!0)),dr(E1,b1,""),dr(E1,b1,"esm2017")}xQ();const EQ={apiKey:"AIzaSyCtfQWv7bUHG6504DybBOqcO-U7MjT3vVo",authDomain:"savespace-e1d93.firebaseapp.com",projectId:"savespace-e1d93",storageBucket:"savespace-e1d93.appspot.com",messagingSenderId:"886093158316",appId:"1:886093158316:web:797792c5a633e66da08c09",measurementId:"G-58WWRYXQBQ"},hv=NN(EQ);c_(hv);const Na=J7(hv),bQ=new po,vt=UG(hv),Hl=yQ(hv);var Jf=t=>t.type==="checkbox",ic=t=>t instanceof Date,Hn=t=>t==null;const wM=t=>typeof t=="object";var rn=t=>!Hn(t)&&!Array.isArray(t)&&wM(t)&&!ic(t),_M=t=>rn(t)&&t.target?Jf(t.target)?t.target.checked:t.target.value:t,TQ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,xM=(t,e)=>t.has(TQ(e)),SQ=t=>{const e=t.constructor&&t.constructor.prototype;return rn(e)&&e.hasOwnProperty("isPrototypeOf")},UE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(UE&&(t instanceof Blob||t instanceof FileList))&&(n||rn(t)))if(e=n?[]:{},!n&&!SQ(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=tr(t[r]));else return t;return e}var pv=t=>Array.isArray(t)?t.filter(Boolean):[],qt=t=>t===void 0,le=(t,e,n)=>{if(!e||!rn(t))return n;const r=pv(e.split(/[,[\].]+?/)).reduce((s,o)=>Hn(s)?s:s[o],t);return qt(r)||r===t?qt(t[e])?n:t[e]:r},jr=t=>typeof t=="boolean",$E=t=>/^\w*$/.test(t),EM=t=>pv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,n)=>{let r=-1;const s=$E(e)?[e]:EM(e),o=s.length,i=o-1;for(;++r<o;){const a=s[r];let l=n;if(r!==i){const c=t[a];l=rn(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Mm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bM=$e.createContext(null),mv=()=>$e.useContext(bM),CQ=t=>{const{children:e,...n}=t;return $e.createElement(bM.Provider,{value:n},e)};var TM=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const i=o;return e._proxyFormState[i]!==ds.all&&(e._proxyFormState[i]=!r||ds.all),n&&(n[i]=!0),t[i]}});return s},nr=t=>rn(t)&&!Object.keys(t).length,SM=(t,e,n,r)=>{n(t);const{name:s,...o}=t;return nr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(i=>e[i]===(!r||ds.all))},Td=t=>Array.isArray(t)?t:[t],CM=(t,e,n)=>!t||!e||t===e||Td(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function BE(t){const e=$e.useRef(t);e.current=t,$e.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function IQ(t){const e=mv(),{control:n=e.control,disabled:r,name:s,exact:o}=t||{},[i,a]=$e.useState(n._formState),l=$e.useRef(!0),c=$e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=$e.useRef(s);return f.current=s,BE({disabled:r,next:h=>l.current&&CM(f.current,h.name,o)&&SM(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),$e.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),TM(i,n,c.current,!1)}var Vs=t=>typeof t=="string",IM=(t,e,n,r,s)=>Vs(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),le(n,o))):(r&&(e.watchAll=!0),n);function RQ(t){const e=mv(),{control:n=e.control,name:r,defaultValue:s,disabled:o,exact:i}=t||{},a=$e.useRef(r);a.current=r,BE({disabled:o,subject:n._subjects.values,next:f=>{CM(a.current,f.name,i)&&c(tr(IM(a.current,n._names,f.values||n._formValues,!1,s)))}});const[l,c]=$e.useState(n._getWatch(r,s));return $e.useEffect(()=>n._removeUnmounted()),l}function PQ(t){const e=mv(),{name:n,disabled:r,control:s=e.control,shouldUnregister:o}=t,i=xM(s._names.array,n),a=RQ({control:s,name:n,defaultValue:le(s._formValues,n,le(s._defaultValues,n,t.defaultValue)),exact:!0}),l=IQ({control:s,name:n,exact:!0}),c=$e.useRef(s.register(n,{...t.rules,value:a,...jr(t.disabled)?{disabled:t.disabled}:{}}));return $e.useEffect(()=>{const f=s._options.shouldUnregister||o,h=(m,g)=>{const x=le(s._fields,m);x&&x._f&&(x._f.mount=g)};if(h(n,!0),f){const m=tr(le(s._options.defaultValues,n));pt(s._defaultValues,n,m),qt(le(s._formValues,n))&&pt(s._formValues,n,m)}return()=>{(i?f&&!s._state.action:f)?s.unregister(n):h(n,!1)}},[n,s,i,o]),$e.useEffect(()=>{le(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:le(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...jr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:$e.useCallback(f=>c.current.onChange({target:{value:_M(f),name:n},type:Mm.CHANGE}),[n]),onBlur:$e.useCallback(()=>c.current.onBlur({target:{value:le(s._formValues,n),name:n},type:Mm.BLUR}),[n,s]),ref:$e.useCallback(f=>{const h=le(s._fields,n);h&&f&&(h._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:m=>f.setCustomValidity(m),reportValidity:()=>f.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(l.validatingFields,n)},error:{enumerable:!0,get:()=>le(l.errors,n)}})}}const kQ=t=>t.render(PQ(t));var RM=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},S1=t=>({isOnSubmit:!t||t===ds.onSubmit,isOnBlur:t===ds.onBlur,isOnChange:t===ds.onChange,isOnAll:t===ds.all,isOnTouch:t===ds.onTouched}),C1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Sd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const o=le(t,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],s)&&!r)return!0;if(i.ref&&e(i.ref,i.name)&&!r)return!0;if(Sd(a,e))break}else if(rn(a)&&Sd(a,e))break}}};var AQ=(t,e,n)=>{const r=Td(le(t,n));return pt(r,"root",e[n]),pt(t,n,r),t},zE=t=>t.type==="file",_o=t=>typeof t=="function",jm=t=>{if(!UE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Np=t=>Vs(t),WE=t=>t.type==="radio",Lm=t=>t instanceof RegExp;const I1={value:!1,isValid:!1},R1={value:!0,isValid:!0};var PM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qt(t[0].attributes.value)?qt(t[0].value)||t[0].value===""?R1:{value:t[0].value,isValid:!0}:R1:I1}return I1};const P1={isValid:!1,value:null};var kM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,P1):P1;function k1(t,e,n="validate"){if(Np(t)||Array.isArray(t)&&t.every(Np)||jr(t)&&!t)return{type:n,message:Np(t)?t:"",ref:e}}var Fl=t=>rn(t)&&!Lm(t)?t:{value:t,message:""},A1=async(t,e,n,r,s)=>{const{ref:o,refs:i,required:a,maxLength:l,minLength:c,min:f,max:h,pattern:m,validate:g,name:x,valueAsNumber:y,mount:b,disabled:E}=t._f,w=le(e,x);if(!b||E)return{};const S=i?i[0]:o,C=N=>{r&&S.reportValidity&&(S.setCustomValidity(jr(N)?"":N||""),S.reportValidity())},O={},V=WE(o),R=Jf(o),_=V||R,I=(y||zE(o))&&qt(o.value)&&qt(w)||jm(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,P=RM.bind(null,x,n,O),D=(N,k,B,Y=lo.maxLength,X=lo.minLength)=>{const j=N?k:B;O[x]={type:N?Y:X,message:j,ref:o,...P(N?Y:X,j)}};if(s?!Array.isArray(w)||!w.length:a&&(!_&&(I||Hn(w))||jr(w)&&!w||R&&!PM(i).isValid||V&&!kM(i).isValid)){const{value:N,message:k}=Np(a)?{value:!!a,message:a}:Fl(a);if(N&&(O[x]={type:lo.required,message:k,ref:S,...P(lo.required,k)},!n))return C(k),O}if(!I&&(!Hn(f)||!Hn(h))){let N,k;const B=Fl(h),Y=Fl(f);if(!Hn(w)&&!isNaN(w)){const X=o.valueAsNumber||w&&+w;Hn(B.value)||(N=X>B.value),Hn(Y.value)||(k=X<Y.value)}else{const X=o.valueAsDate||new Date(w),j=G=>new Date(new Date().toDateString()+" "+G),M=o.type=="time",$=o.type=="week";Vs(B.value)&&w&&(N=M?j(w)>j(B.value):$?w>B.value:X>new Date(B.value)),Vs(Y.value)&&w&&(k=M?j(w)<j(Y.value):$?w<Y.value:X<new Date(Y.value))}if((N||k)&&(D(!!N,B.message,Y.message,lo.max,lo.min),!n))return C(O[x].message),O}if((l||c)&&!I&&(Vs(w)||s&&Array.isArray(w))){const N=Fl(l),k=Fl(c),B=!Hn(N.value)&&w.length>+N.value,Y=!Hn(k.value)&&w.length<+k.value;if((B||Y)&&(D(B,N.message,k.message),!n))return C(O[x].message),O}if(m&&!I&&Vs(w)){const{value:N,message:k}=Fl(m);if(Lm(N)&&!w.match(N)&&(O[x]={type:lo.pattern,message:k,ref:o,...P(lo.pattern,k)},!n))return C(k),O}if(g){if(_o(g)){const N=await g(w,e),k=k1(N,S);if(k&&(O[x]={...k,...P(lo.validate,k.message)},!n))return C(k.message),O}else if(rn(g)){let N={};for(const k in g){if(!nr(N)&&!n)break;const B=k1(await g[k](w,e),S,k);B&&(N={...B,...P(k,B.message)},C(B.message),n&&(O[x]=N))}if(!nr(N)&&(O[x]={ref:S,...N},!n))return O}}return C(!0),O};function NQ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=qt(t)?r++:t[e[r++]];return t}function DQ(t){for(const e in t)if(t.hasOwnProperty(e)&&!qt(t[e]))return!1;return!0}function sn(t,e){const n=Array.isArray(e)?e:$E(e)?[e]:EM(e),r=n.length===1?t:NQ(t,n),s=n.length-1,o=n[s];return r&&delete r[o],s!==0&&(rn(r)&&nr(r)||Array.isArray(r)&&DQ(r))&&sn(t,n.slice(0,-1)),t}var jy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},Fm=t=>Hn(t)||!wM(t);function di(t,e){if(Fm(t)||Fm(e))return t===e;if(ic(t)&&ic(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const o=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const i=e[s];if(ic(o)&&ic(i)||rn(o)&&rn(i)||Array.isArray(o)&&Array.isArray(i)?!di(o,i):o!==i)return!1}}return!0}var AM=t=>t.type==="select-multiple",OQ=t=>WE(t)||Jf(t),Ly=t=>jm(t)&&t.isConnected,NM=t=>{for(const e in t)if(_o(t[e]))return!0;return!1};function Vm(t,e={}){const n=Array.isArray(t);if(rn(t)||n)for(const r in t)Array.isArray(t[r])||rn(t[r])&&!NM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Vm(t[r],e[r])):Hn(t[r])||(e[r]=!0);return e}function DM(t,e,n){const r=Array.isArray(t);if(rn(t)||r)for(const s in t)Array.isArray(t[s])||rn(t[s])&&!NM(t[s])?qt(e)||Fm(n[s])?n[s]=Array.isArray(t[s])?Vm(t[s],[]):{...Vm(t[s])}:DM(t[s],Hn(e)?{}:e[s],n[s]):n[s]=!di(t[s],e[s]);return n}var ep=(t,e)=>DM(t,e,Vm(e)),OM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>qt(t)?t:e?t===""?NaN:t&&+t:n&&Vs(t)?new Date(t):r?r(t):t;function Fy(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return zE(e)?e.files:WE(e)?kM(t.refs).value:AM(e)?[...e.selectedOptions].map(({value:n})=>n):Jf(e)?PM(t.refs).value:OM(qt(e.value)?t.ref.value:e.value,t)}var MQ=(t,e,n,r)=>{const s={};for(const o of t){const i=le(e,o);i&&pt(s,o,i._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Wu=t=>qt(t)?t:Lm(t)?t.source:rn(t)?Lm(t.value)?t.value.source:t.value:t;const N1="AsyncFunction";var jQ=t=>(!t||!t.validate)&&!!(_o(t.validate)&&t.validate.constructor.name===N1||rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===N1)),LQ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function D1(t,e,n){const r=le(t,n);if(r||$E(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const o=s.join("."),i=le(e,o),a=le(t,o);if(i&&!Array.isArray(i)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};s.pop()}return{name:n}}var FQ=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,VQ=(t,e)=>!pv(le(t,e)).length&&sn(t,e);const UQ={mode:ds.onSubmit,reValidateMode:ds.onChange,shouldFocusError:!0};function $Q(t={}){let e={...UQ,...t},n={submitCount:0,isDirty:!1,isLoading:_o(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=rn(e.defaultValues)||rn(e.values)?tr(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:tr(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:jy(),array:jy(),state:jy()},m=S1(e.mode),g=S1(e.reValidateMode),x=e.criteriaMode===ds.all,y=L=>W=>{clearTimeout(c),c=setTimeout(L,W)},b=async L=>{if(f.isValid||L){const W=e.resolver?nr((await _()).errors):await P(r,!0);W!==n.isValid&&h.state.next({isValid:W})}},E=(L,W)=>{(f.isValidating||f.validatingFields)&&((L||Array.from(a.mount)).forEach(K=>{K&&(W?pt(n.validatingFields,K,W):sn(n.validatingFields,K))}),h.state.next({validatingFields:n.validatingFields,isValidating:!nr(n.validatingFields)}))},w=(L,W=[],K,ce,oe=!0,ne=!0)=>{if(ce&&K){if(i.action=!0,ne&&Array.isArray(le(r,L))){const we=K(le(r,L),ce.argA,ce.argB);oe&&pt(r,L,we)}if(ne&&Array.isArray(le(n.errors,L))){const we=K(le(n.errors,L),ce.argA,ce.argB);oe&&pt(n.errors,L,we),VQ(n.errors,L)}if(f.touchedFields&&ne&&Array.isArray(le(n.touchedFields,L))){const we=K(le(n.touchedFields,L),ce.argA,ce.argB);oe&&pt(n.touchedFields,L,we)}f.dirtyFields&&(n.dirtyFields=ep(s,o)),h.state.next({name:L,isDirty:N(L,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else pt(o,L,W)},S=(L,W)=>{pt(n.errors,L,W),h.state.next({errors:n.errors})},C=L=>{n.errors=L,h.state.next({errors:n.errors,isValid:!1})},O=(L,W,K,ce)=>{const oe=le(r,L);if(oe){const ne=le(o,L,qt(K)?le(s,L):K);qt(ne)||ce&&ce.defaultChecked||W?pt(o,L,W?ne:Fy(oe._f)):Y(L,ne),i.mount&&b()}},V=(L,W,K,ce,oe)=>{let ne=!1,we=!1;const rt={name:L},Ue=!!(le(r,L)&&le(r,L)._f&&le(r,L)._f.disabled);if(!K||ce){f.isDirty&&(we=n.isDirty,n.isDirty=rt.isDirty=N(),ne=we!==rt.isDirty);const Ke=Ue||di(le(s,L),W);we=!!(!Ue&&le(n.dirtyFields,L)),Ke||Ue?sn(n.dirtyFields,L):pt(n.dirtyFields,L,!0),rt.dirtyFields=n.dirtyFields,ne=ne||f.dirtyFields&&we!==!Ke}if(K){const Ke=le(n.touchedFields,L);Ke||(pt(n.touchedFields,L,K),rt.touchedFields=n.touchedFields,ne=ne||f.touchedFields&&Ke!==K)}return ne&&oe&&h.state.next(rt),ne?rt:{}},R=(L,W,K,ce)=>{const oe=le(n.errors,L),ne=f.isValid&&jr(W)&&n.isValid!==W;if(t.delayError&&K?(l=y(()=>S(L,K)),l(t.delayError)):(clearTimeout(c),l=null,K?pt(n.errors,L,K):sn(n.errors,L)),(K?!di(oe,K):oe)||!nr(ce)||ne){const we={...ce,...ne&&jr(W)?{isValid:W}:{},errors:n.errors,name:L};n={...n,...we},h.state.next(we)}},_=async L=>{E(L,!0);const W=await e.resolver(o,e.context,MQ(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(L),W},I=async L=>{const{errors:W}=await _(L);if(L)for(const K of L){const ce=le(W,K);ce?pt(n.errors,K,ce):sn(n.errors,K)}else n.errors=W;return W},P=async(L,W,K={valid:!0})=>{for(const ce in L){const oe=L[ce];if(oe){const{_f:ne,...we}=oe;if(ne){const rt=a.array.has(ne.name),Ue=oe._f&&jQ(oe._f);Ue&&f.validatingFields&&E([ce],!0);const Ke=await A1(oe,o,x,e.shouldUseNativeValidation&&!W,rt);if(Ue&&f.validatingFields&&E([ce]),Ke[ne.name]&&(K.valid=!1,W))break;!W&&(le(Ke,ne.name)?rt?AQ(n.errors,Ke,ne.name):pt(n.errors,ne.name,Ke[ne.name]):sn(n.errors,ne.name))}!nr(we)&&await P(we,W,K)}}return K.valid},D=()=>{for(const L of a.unMount){const W=le(r,L);W&&(W._f.refs?W._f.refs.every(K=>!Ly(K)):!Ly(W._f.ref))&&He(L)}a.unMount=new Set},N=(L,W)=>(L&&W&&pt(o,L,W),!di(re(),s)),k=(L,W,K)=>IM(L,a,{...i.mount?o:qt(W)?s:Vs(L)?{[L]:W}:W},K,W),B=L=>pv(le(i.mount?o:s,L,t.shouldUnregister?le(s,L,[]):[])),Y=(L,W,K={})=>{const ce=le(r,L);let oe=W;if(ce){const ne=ce._f;ne&&(!ne.disabled&&pt(o,L,OM(W,ne)),oe=jm(ne.ref)&&Hn(W)?"":W,AM(ne.ref)?[...ne.ref.options].forEach(we=>we.selected=oe.includes(we.value)):ne.refs?Jf(ne.ref)?ne.refs.length>1?ne.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(oe)?!!oe.find(rt=>rt===we.value):oe===we.value)):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(we=>we.checked=we.value===oe):zE(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||h.values.next({name:L,values:{...o}})))}(K.shouldDirty||K.shouldTouch)&&V(L,oe,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&G(L)},X=(L,W,K)=>{for(const ce in W){const oe=W[ce],ne=`${L}.${ce}`,we=le(r,ne);(a.array.has(L)||!Fm(oe)||we&&!we._f)&&!ic(oe)?X(ne,oe,K):Y(ne,oe,K)}},j=(L,W,K={})=>{const ce=le(r,L),oe=a.array.has(L),ne=tr(W);pt(o,L,ne),oe?(h.array.next({name:L,values:{...o}}),(f.isDirty||f.dirtyFields)&&K.shouldDirty&&h.state.next({name:L,dirtyFields:ep(s,o),isDirty:N(L,ne)})):ce&&!ce._f&&!Hn(ne)?X(L,ne,K):Y(L,ne,K),C1(L,a)&&h.state.next({...n}),h.values.next({name:i.mount?L:void 0,values:{...o}})},M=async L=>{i.mount=!0;const W=L.target;let K=W.name,ce=!0;const oe=le(r,K),ne=()=>W.type?Fy(oe._f):_M(L),we=rt=>{ce=Number.isNaN(rt)||di(rt,le(o,K,rt))};if(oe){let rt,Ue;const Ke=ne(),Fn=L.type===Mm.BLUR||L.type===Mm.FOCUS_OUT,Wo=!LQ(oe._f)&&!e.resolver&&!le(n.errors,K)&&!oe._f.deps||FQ(Fn,le(n.touchedFields,K),n.isSubmitted,g,m),Vn=C1(K,a,Fn);pt(o,K,Ke),Fn?(oe._f.onBlur&&oe._f.onBlur(L),l&&l(0)):oe._f.onChange&&oe._f.onChange(L);const Un=V(K,Ke,Fn,!1),As=!nr(Un)||Vn;if(!Fn&&h.values.next({name:K,type:L.type,values:{...o}}),Wo)return f.isValid&&(t.mode==="onBlur"?Fn&&b():b()),As&&h.state.next({name:K,...Vn?{}:Un});if(!Fn&&Vn&&h.state.next({...n}),e.resolver){const{errors:Ns}=await _([K]);if(we(Ke),ce){const Sl=D1(n.errors,r,K),$n=D1(Ns,r,Sl.name||K);rt=$n.error,K=$n.name,Ue=nr(Ns)}}else E([K],!0),rt=(await A1(oe,o,x,e.shouldUseNativeValidation))[K],E([K]),we(Ke),ce&&(rt?Ue=!1:f.isValid&&(Ue=await P(r,!0)));ce&&(oe._f.deps&&G(oe._f.deps),R(K,Ue,rt,Un))}},$=(L,W)=>{if(le(n.errors,W)&&L.focus)return L.focus(),1},G=async(L,W={})=>{let K,ce;const oe=Td(L);if(e.resolver){const ne=await I(qt(L)?L:oe);K=nr(ne),ce=L?!oe.some(we=>le(ne,we)):K}else L?(ce=(await Promise.all(oe.map(async ne=>{const we=le(r,ne);return await P(we&&we._f?{[ne]:we}:we)}))).every(Boolean),!(!ce&&!n.isValid)&&b()):ce=K=await P(r);return h.state.next({...!Vs(L)||f.isValid&&K!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:K}:{},errors:n.errors}),W.shouldFocus&&!ce&&Sd(r,$,L?oe:a.mount),ce},re=L=>{const W={...i.mount?o:s};return qt(L)?W:Vs(L)?le(W,L):L.map(K=>le(W,K))},me=(L,W)=>({invalid:!!le((W||n).errors,L),isDirty:!!le((W||n).dirtyFields,L),error:le((W||n).errors,L),isValidating:!!le(n.validatingFields,L),isTouched:!!le((W||n).touchedFields,L)}),Ee=L=>{L&&Td(L).forEach(W=>sn(n.errors,W)),h.state.next({errors:L?n.errors:{}})},Be=(L,W,K)=>{const ce=(le(r,L,{_f:{}})._f||{}).ref,oe=le(n.errors,L)||{},{ref:ne,message:we,type:rt,...Ue}=oe;pt(n.errors,L,{...Ue,...W,ref:ce}),h.state.next({name:L,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&ce&&ce.focus&&ce.focus()},ht=(L,W)=>_o(L)?h.values.subscribe({next:K=>L(k(void 0,W),K)}):k(L,W,!0),He=(L,W={})=>{for(const K of L?Td(L):a.mount)a.mount.delete(K),a.array.delete(K),W.keepValue||(sn(r,K),sn(o,K)),!W.keepError&&sn(n.errors,K),!W.keepDirty&&sn(n.dirtyFields,K),!W.keepTouched&&sn(n.touchedFields,K),!W.keepIsValidating&&sn(n.validatingFields,K),!e.shouldUnregister&&!W.keepDefaultValue&&sn(s,K);h.values.next({values:{...o}}),h.state.next({...n,...W.keepDirty?{isDirty:N()}:{}}),!W.keepIsValid&&b()},ue=({disabled:L,name:W,field:K,fields:ce,value:oe})=>{if(jr(L)&&i.mount||L){const ne=L?void 0:qt(oe)?Fy(K?K._f:le(ce,W)._f):oe;pt(o,W,ne),V(W,ne,!1,!1,!0)}},Me=(L,W={})=>{let K=le(r,L);const ce=jr(W.disabled)||jr(t.disabled);return pt(r,L,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:L}},name:L,mount:!0,...W}}),a.mount.add(L),K?ue({field:K,disabled:jr(W.disabled)?W.disabled:t.disabled,name:L,value:W.value}):O(L,!0,W.value),{...ce?{disabled:W.disabled||t.disabled}:{},...e.progressive?{required:!!W.required,min:Wu(W.min),max:Wu(W.max),minLength:Wu(W.minLength),maxLength:Wu(W.maxLength),pattern:Wu(W.pattern)}:{},name:L,onChange:M,onBlur:M,ref:oe=>{if(oe){Me(L,W),K=le(r,L);const ne=qt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,we=OQ(ne),rt=K._f.refs||[];if(we?rt.find(Ue=>Ue===ne):ne===K._f.ref)return;pt(r,L,{_f:{...K._f,...we?{refs:[...rt.filter(Ly),ne,...Array.isArray(le(s,L))?[{}]:[]],ref:{type:ne.type,name:L}}:{ref:ne}}}),O(L,!1,void 0,ne)}else K=le(r,L,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(xM(a.array,L)&&i.action)&&a.unMount.add(L)}}},Ye=()=>e.shouldFocusError&&Sd(r,$,a.mount),je=L=>{jr(L)&&(h.state.next({disabled:L}),Sd(r,(W,K)=>{const ce=le(r,K);ce&&(W.disabled=ce._f.disabled||L,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(oe=>{oe.disabled=ce._f.disabled||L}))},0,!1))},Qe=(L,W)=>async K=>{let ce;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let oe=tr(o);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:we}=await _();n.errors=ne,oe=we}else await P(r);if(sn(n.errors,"root"),nr(n.errors)){h.state.next({errors:{}});try{await L(oe,K)}catch(ne){ce=ne}}else W&&await W({...n.errors},K),Ye(),setTimeout(Ye);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nr(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},Xe=(L,W={})=>{le(r,L)&&(qt(W.defaultValue)?j(L,tr(le(s,L))):(j(L,W.defaultValue),pt(s,L,tr(W.defaultValue))),W.keepTouched||sn(n.touchedFields,L),W.keepDirty||(sn(n.dirtyFields,L),n.isDirty=W.defaultValue?N(L,tr(le(s,L))):N()),W.keepError||(sn(n.errors,L),f.isValid&&b()),h.state.next({...n}))},Dt=(L,W={})=>{const K=L?tr(L):s,ce=tr(K),oe=nr(L),ne=oe?s:ce;if(W.keepDefaultValues||(s=K),!W.keepValues){if(W.keepDirtyValues)for(const we of a.mount)le(n.dirtyFields,we)?pt(ne,we,le(o,we)):j(we,le(ne,we));else{if(UE&&qt(L))for(const we of a.mount){const rt=le(r,we);if(rt&&rt._f){const Ue=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(jm(Ue)){const Ke=Ue.closest("form");if(Ke){Ke.reset();break}}}}r={}}o=t.shouldUnregister?W.keepDefaultValues?tr(s):{}:tr(ne),h.array.next({values:{...ne}}),h.values.next({values:{...ne}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:oe?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!di(L,s)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe?{}:W.keepDirtyValues?W.keepDefaultValues&&o?ep(s,o):n.dirtyFields:W.keepDefaultValues&&L?ep(s,L):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},lt=(L,W)=>Dt(_o(L)?L(o):L,W);return{control:{register:Me,unregister:He,getFieldState:me,handleSubmit:Qe,setError:Be,_executeSchema:_,_getWatch:k,_getDirty:N,_updateValid:b,_removeUnmounted:D,_updateFieldArray:w,_updateDisabledField:ue,_getFieldArray:B,_reset:Dt,_resetDefaultValues:()=>_o(e.defaultValues)&&e.defaultValues().then(L=>{lt(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:je,_subjects:h,_proxyFormState:f,_setErrors:C,get _fields(){return r},get _formValues(){return o},get _state(){return i},set _state(L){i=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:G,register:Me,handleSubmit:Qe,watch:ht,setValue:j,getValues:re,reset:lt,resetField:Xe,clearErrors:Ee,unregister:He,setError:Be,setFocus:(L,W={})=>{const K=le(r,L),ce=K&&K._f;if(ce){const oe=ce.refs?ce.refs[0]:ce.ref;oe.focus&&(oe.focus(),W.shouldSelect&&oe.select())}},getFieldState:me}}function MM(t={}){const e=$e.useRef(),n=$e.useRef(),[r,s]=$e.useState({isDirty:!1,isValidating:!1,isLoading:_o(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:_o(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...$Q(t),formState:r});const o=e.current.control;return o._options=t,BE({subject:o._subjects.state,next:i=>{SM(i,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),$e.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),$e.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==r.isDirty&&o._subjects.state.next({isDirty:i})}},[o,r.isDirty]),$e.useEffect(()=>{t.values&&!di(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,s(i=>({...i}))):o._resetDefaultValues()},[t.values,o]),$e.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),$e.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),$e.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=TM(r,o),e.current}var at;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},t.find=(s,o)=>{for(const i of s)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(at||(at={}));var N_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(N_||(N_={}));const pe=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fi=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},te=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),BQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Rr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof Rr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rr.create=t=>new Rr(t);const Gc=(t,e)=>{let n;switch(t.code){case te.invalid_type:t.received===pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:n=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case te.invalid_union:n="Invalid input";break;case te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case te.invalid_enum_value:n=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:n="Invalid function arguments";break;case te.invalid_return_type:n="Invalid function return type";break;case te.invalid_date:n="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case te.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case te.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case te.custom:n="Invalid input";break;case te.invalid_intersection_types:n="Intersection results could not be merged";break;case te.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:n="Number must be finite";break;default:n=e.defaultError,at.assertNever(t)}return{message:n}};let jM=Gc;function zQ(t){jM=t}function Um(){return jM}const $m=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,o=[...n,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(i,{data:e,defaultError:a}).message;return{...s,path:o,message:a}},WQ=[];function he(t,e){const n=Um(),r=$m({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Gc?void 0:Gc].filter(s=>!!s)});t.common.issues.push(r)}class Ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return De;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const o=await s.key,i=await s.value;r.push({key:o,value:i})}return Ln.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return De;o.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[o.value]=i.value)}return{status:e.value,value:r}}}const De=Object.freeze({status:"aborted"}),ac=t=>({status:"dirty",value:t}),Xn=t=>({status:"valid",value:t}),D_=t=>t.status==="aborted",O_=t=>t.status==="dirty",af=t=>t.status==="valid",lf=t=>typeof Promise<"u"&&t instanceof Promise;function Bm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function LM(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Te||(Te={}));var od,id;class eo{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const O1=(t,e)=>{if(af(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rr(t.common.issues);return this._error=n,this._error}}};function ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,a)=>{var l,c;const{message:f}=t;return i.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(l=f??r)!==null&&l!==void 0?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return fi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ln,ctx:{common:e.parent.common,data:e.data,parsedType:fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(lf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)},o=this._parseSync({data:e,path:s.path,parent:s});return O1(s,o)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(lf(s)?s:Promise.resolve(s));return O1(r,o)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const i=e(s),a=()=>o.addIssue({code:te.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Cs({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Gs.create(this,this._def)}nullable(){return Bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ws.create(this,this._def)}promise(){return Qc.create(this,this._def)}or(e){return ff.create([this,e],this._def)}and(e){return hf.create(this,e,this._def)}transform(e){return new Cs({...ze(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new yf({...ze(this._def),innerType:this,defaultValue:n,typeName:ke.ZodDefault})}brand(){return new HE({typeName:ke.ZodBranded,type:this,...ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wf({...ze(this._def),innerType:this,catchValue:n,typeName:ke.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return eh.create(this,e)}readonly(){return _f.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HQ=/^c[^\s-]{8,}$/i,qQ=/^[0-9a-z]+$/,KQ=/^[0-9A-HJKMNP-TV-Z]{26}$/,GQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,YQ=/^[a-z0-9_-]{21}$/i,QQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ZQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vy;const JQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eX=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,FM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nX=new RegExp(`^${FM}$`);function VM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function rX(t){return new RegExp(`^${VM(t)}$`)}function UM(t){let e=`${FM}T${VM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function sX(t,e){return!!((e==="v4"||!e)&&JQ.test(t)||(e==="v6"||!e)&&eX.test(t))}class hs extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const o=this._getOrReturnCtx(e);return he(o,{code:te.invalid_type,expected:pe.string,received:o.parsedType}),De}const r=new Ln;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:te.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:te.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const i=e.data.length>o.value,a=e.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(e,s),i?he(s,{code:te.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&he(s,{code:te.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")XQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"email",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Vy||(Vy=new RegExp(ZQ,"u")),Vy.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"emoji",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")GQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"uuid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")YQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"nanoid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")HQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")qQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid2",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")KQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ulid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),he(s,{validation:"url",code:te.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"regex",code:te.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),he(s,{code:te.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:te.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:te.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?UM(o).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:te.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?nX.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:te.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?rX(o).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:te.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?QQ.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"duration",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?sX(e.data,o.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ip",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?tX.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64",code:te.invalid_string,message:o.message}),r.dirty()):at.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:te.invalid_string,...Te.errToObj(r)})}_addCheck(e){return new hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Te.errToObj(n)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}hs.create=t=>{var e;return new hs({checks:[],typeName:ke.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};function oX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,o=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return o%i/Math.pow(10,s)}class Vi extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const o=this._getOrReturnCtx(e);return he(o,{code:te.invalid_type,expected:pe.number,received:o.parsedType}),De}let r;const s=new Ln;for(const o of this._def.checks)o.kind==="int"?at.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:te.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:te.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:te.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?oX(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:te.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:te.not_finite,message:o.message}),s.dirty()):at.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,r,s){return new Vi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new Vi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vi.create=t=>new Vi({checks:[],typeName:ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class Ui extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==pe.bigint){const o=this._getOrReturnCtx(e);return he(o,{code:te.invalid_type,expected:pe.bigint,received:o.parsedType}),De}let r;const s=new Ln;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:te.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:te.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:te.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):at.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,r,s){return new Ui({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ui.create=t=>{var e;return new Ui({checks:[],typeName:ke.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};class cf extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:te.invalid_type,expected:pe.boolean,received:r.parsedType}),De}return Xn(e.data)}}cf.create=t=>new cf({typeName:ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class Za extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const o=this._getOrReturnCtx(e);return he(o,{code:te.invalid_type,expected:pe.date,received:o.parsedType}),De}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return he(o,{code:te.invalid_date}),De}const r=new Ln;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:te.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:te.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):at.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Za({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Za.create=t=>new Za({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ke.ZodDate,...ze(t)});class zm extends Ge{_parse(e){if(this._getType(e)!==pe.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:te.invalid_type,expected:pe.symbol,received:r.parsedType}),De}return Xn(e.data)}}zm.create=t=>new zm({typeName:ke.ZodSymbol,...ze(t)});class uf extends Ge{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:te.invalid_type,expected:pe.undefined,received:r.parsedType}),De}return Xn(e.data)}}uf.create=t=>new uf({typeName:ke.ZodUndefined,...ze(t)});class df extends Ge{_parse(e){if(this._getType(e)!==pe.null){const r=this._getOrReturnCtx(e);return he(r,{code:te.invalid_type,expected:pe.null,received:r.parsedType}),De}return Xn(e.data)}}df.create=t=>new df({typeName:ke.ZodNull,...ze(t)});class Yc extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Xn(e.data)}}Yc.create=t=>new Yc({typeName:ke.ZodAny,...ze(t)});class Da extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xn(e.data)}}Da.create=t=>new Da({typeName:ke.ZodUnknown,...ze(t)});class Mo extends Ge{_parse(e){const n=this._getOrReturnCtx(e);return he(n,{code:te.invalid_type,expected:pe.never,received:n.parsedType}),De}}Mo.create=t=>new Mo({typeName:ke.ZodNever,...ze(t)});class Wm extends Ge{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:te.invalid_type,expected:pe.void,received:r.parsedType}),De}return Xn(e.data)}}Wm.create=t=>new Wm({typeName:ke.ZodVoid,...ze(t)});class ws extends Ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==pe.array)return he(n,{code:te.invalid_type,expected:pe.array,received:n.parsedType}),De;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(i||a)&&(he(n,{code:i?te.too_big:te.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(he(n,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(he(n,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>s.type._parseAsync(new eo(n,i,n.path,a)))).then(i=>Ln.mergeArray(r,i));const o=[...n.data].map((i,a)=>s.type._parseSync(new eo(n,i,n.path,a)));return Ln.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new ws({...this._def,minLength:{value:e,message:Te.toString(n)}})}max(e,n){return new ws({...this._def,maxLength:{value:e,message:Te.toString(n)}})}length(e,n){return new ws({...this._def,exactLength:{value:e,message:Te.toString(n)}})}nonempty(e){return this.min(1,e)}}ws.create=(t,e)=>new ws({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...ze(e)});function ql(t){if(t instanceof Ft){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Gs.create(ql(r))}return new Ft({...t._def,shape:()=>e})}else return t instanceof ws?new ws({...t._def,type:ql(t.element)}):t instanceof Gs?Gs.create(ql(t.unwrap())):t instanceof Bi?Bi.create(ql(t.unwrap())):t instanceof to?to.create(t.items.map(e=>ql(e))):t}class Ft extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=at.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==pe.object){const c=this._getOrReturnCtx(e);return he(c,{code:te.invalid_type,expected:pe.object,received:c.parsedType}),De}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Mo&&this._def.unknownKeys==="strip"))for(const c in s.data)i.includes(c)||a.push(c);const l=[];for(const c of i){const f=o[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new eo(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Mo){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of a)l.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(c==="strict")a.length>0&&(he(s,{code:te.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of a){const h=s.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new eo(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of l){const h=await f.key,m=await f.value;c.push({key:h,value:m,alwaysSet:f.alwaysSet})}return c}).then(c=>Ln.mergeObjectSync(r,c)):Ln.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new Ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o,i,a;const l=(i=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Te.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ft({...this._def,catchall:e})}pick(e){const n={};return at.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}omit(e){const n={};return at.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}deepPartial(){return ql(this)}partial(e){const n={};return at.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ft({...this._def,shape:()=>n})}required(e){const n={};return at.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Gs;)o=o._def.innerType;n[r]=o}}),new Ft({...this._def,shape:()=>n})}keyof(){return $M(at.objectKeys(this.shape))}}Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:Mo.create(),typeName:ke.ZodObject,...ze(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:Mo.create(),typeName:ke.ZodObject,...ze(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:Mo.create(),typeName:ke.ZodObject,...ze(e)});class ff extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new Rr(a.ctx.common.issues));return he(n,{code:te.invalid_union,unionErrors:i}),De}if(n.common.async)return Promise.all(r.map(async o=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=l._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(l=>new Rr(l));return he(n,{code:te.invalid_union,unionErrors:a}),De}}get options(){return this._def.options}}ff.create=(t,e)=>new ff({options:t,typeName:ke.ZodUnion,...ze(e)});const uo=t=>t instanceof mf?uo(t.schema):t instanceof Cs?uo(t.innerType()):t instanceof gf?[t.value]:t instanceof $i?t.options:t instanceof vf?at.objectValues(t.enum):t instanceof yf?uo(t._def.innerType):t instanceof uf?[void 0]:t instanceof df?[null]:t instanceof Gs?[void 0,...uo(t.unwrap())]:t instanceof Bi?[null,...uo(t.unwrap())]:t instanceof HE||t instanceof _f?uo(t.unwrap()):t instanceof wf?uo(t._def.innerType):[];class gv extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.object)return he(n,{code:te.invalid_type,expected:pe.object,received:n.parsedType}),De;const r=this.discriminator,s=n.data[r],o=this.optionsMap.get(s);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(he(n,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const o of n){const i=uo(o.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of i){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,o)}}return new gv({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...ze(r)})}}function M_(t,e){const n=fi(t),r=fi(e);if(t===e)return{valid:!0,data:t};if(n===pe.object&&r===pe.object){const s=at.objectKeys(e),o=at.objectKeys(t).filter(a=>s.indexOf(a)!==-1),i={...t,...e};for(const a of o){const l=M_(t[a],e[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===pe.array&&r===pe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const i=t[o],a=e[o],l=M_(i,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===pe.date&&r===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hf extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(o,i)=>{if(D_(o)||D_(i))return De;const a=M_(o.value,i.value);return a.valid?((O_(o)||O_(i))&&n.dirty(),{status:n.value,value:a.data}):(he(r,{code:te.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}hf.create=(t,e,n)=>new hf({left:t,right:e,typeName:ke.ZodIntersection,...ze(n)});class to extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.array)return he(r,{code:te.invalid_type,expected:pe.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return he(r,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new eo(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(o).then(i=>Ln.mergeArray(n,i)):Ln.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new to({...this._def,rest:e})}}to.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new to({items:t,typeName:ke.ZodTuple,rest:null,...ze(e)})};class pf extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return he(r,{code:te.invalid_type,expected:pe.object,received:r.parsedType}),De;const s=[],o=this._def.keyType,i=this._def.valueType;for(const a in r.data)s.push({key:o._parse(new eo(r,a,r.path,a)),value:i._parse(new eo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ln.mergeObjectAsync(n,s):Ln.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ge?new pf({keyType:e,valueType:n,typeName:ke.ZodRecord,...ze(r)}):new pf({keyType:hs.create(),valueType:e,typeName:ke.ZodRecord,...ze(n)})}}class Hm extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.map)return he(r,{code:te.invalid_type,expected:pe.map,received:r.parsedType}),De;const s=this._def.keyType,o=this._def.valueType,i=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new eo(r,a,r.path,[c,"key"])),value:o._parse(new eo(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return De;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return De;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}}}}Hm.create=(t,e,n)=>new Hm({valueType:e,keyType:t,typeName:ke.ZodMap,...ze(n)});class Ja extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.set)return he(r,{code:te.invalid_type,expected:pe.set,received:r.parsedType}),De;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(he(r,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(he(r,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function i(l){const c=new Set;for(const f of l){if(f.status==="aborted")return De;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new eo(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(e,n){return new Ja({...this._def,minSize:{value:e,message:Te.toString(n)}})}max(e,n){return new Ja({...this._def,maxSize:{value:e,message:Te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ja.create=(t,e)=>new Ja({valueType:t,minSize:null,maxSize:null,typeName:ke.ZodSet,...ze(e)});class bc extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.function)return he(n,{code:te.invalid_type,expected:pe.function,received:n.parsedType}),De;function r(a,l){return $m({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Um(),Gc].filter(c=>!!c),issueData:{code:te.invalid_arguments,argumentsError:l}})}function s(a,l){return $m({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Um(),Gc].filter(c=>!!c),issueData:{code:te.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Qc){const a=this;return Xn(async function(...l){const c=new Rr([]),f=await a._def.args.parseAsync(l,o).catch(g=>{throw c.addIssue(r(l,g)),c}),h=await Reflect.apply(i,this,f);return await a._def.returns._def.type.parseAsync(h,o).catch(g=>{throw c.addIssue(s(h,g)),c})})}else{const a=this;return Xn(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Rr([r(l,c.error)]);const f=Reflect.apply(i,this,c.data),h=a._def.returns.safeParse(f,o);if(!h.success)throw new Rr([s(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bc({...this._def,args:to.create(e).rest(Da.create())})}returns(e){return new bc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new bc({args:e||to.create([]).rest(Da.create()),returns:n||Da.create(),typeName:ke.ZodFunction,...ze(r)})}}class mf extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mf.create=(t,e)=>new mf({getter:t,typeName:ke.ZodLazy,...ze(e)});class gf extends Ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return he(n,{received:n.data,code:te.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}}gf.create=(t,e)=>new gf({value:t,typeName:ke.ZodLiteral,...ze(e)});function $M(t,e){return new $i({values:t,typeName:ke.ZodEnum,...ze(e)})}class $i extends Ge{constructor(){super(...arguments),od.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{expected:at.joinValues(r),received:n.parsedType,code:te.invalid_type}),De}if(Bm(this,od)||LM(this,od,new Set(this._def.values)),!Bm(this,od).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{received:n.data,code:te.invalid_enum_value,options:r}),De}return Xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $i.create(e,{...this._def,...n})}exclude(e,n=this._def){return $i.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}od=new WeakMap;$i.create=$M;class vf extends Ge{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){const n=at.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const s=at.objectValues(n);return he(r,{expected:at.joinValues(s),received:r.parsedType,code:te.invalid_type}),De}if(Bm(this,id)||LM(this,id,new Set(at.getValidEnumValues(this._def.values))),!Bm(this,id).has(e.data)){const s=at.objectValues(n);return he(r,{received:r.data,code:te.invalid_enum_value,options:s}),De}return Xn(e.data)}get enum(){return this._def.values}}id=new WeakMap;vf.create=(t,e)=>new vf({values:t,typeName:ke.ZodNativeEnum,...ze(e)});class Qc extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.promise&&n.common.async===!1)return he(n,{code:te.invalid_type,expected:pe.promise,received:n.parsedType}),De;const r=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return Xn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qc.create=(t,e)=>new Qc({type:t,typeName:ke.ZodPromise,...ze(e)});class Cs extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:i=>{he(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(r.data,o);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return De;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||n.value==="dirty"?ac(l.value):l});{if(n.value==="aborted")return De;const a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?De:a.status==="dirty"||n.value==="dirty"?ac(a.value):a}}if(s.type==="refinement"){const i=a=>{const l=s.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?De:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?De:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!af(i))return i;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>af(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:n.value,value:a})):i);at.assertNever(s)}}Cs.create=(t,e,n)=>new Cs({schema:t,typeName:ke.ZodEffects,effect:e,...ze(n)});Cs.createWithPreprocess=(t,e,n)=>new Cs({schema:e,effect:{type:"preprocess",transform:t},typeName:ke.ZodEffects,...ze(n)});class Gs extends Ge{_parse(e){return this._getType(e)===pe.undefined?Xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gs.create=(t,e)=>new Gs({innerType:t,typeName:ke.ZodOptional,...ze(e)});class Bi extends Ge{_parse(e){return this._getType(e)===pe.null?Xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bi.create=(t,e)=>new Bi({innerType:t,typeName:ke.ZodNullable,...ze(e)});class yf extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yf.create=(t,e)=>new yf({innerType:t,typeName:ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});class wf extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return lf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Rr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wf.create=(t,e)=>new wf({innerType:t,typeName:ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});class qm extends Ge{_parse(e){if(this._getType(e)!==pe.nan){const r=this._getOrReturnCtx(e);return he(r,{code:te.invalid_type,expected:pe.nan,received:r.parsedType}),De}return{status:"valid",value:e.data}}}qm.create=t=>new qm({typeName:ke.ZodNaN,...ze(t)});const iX=Symbol("zod_brand");class HE extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class eh extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?De:o.status==="dirty"?(n.dirty(),ac(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?De:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new eh({in:e,out:n,typeName:ke.ZodPipeline})}}class _f extends Ge{_parse(e){const n=this._def.innerType._parse(e),r=s=>(af(s)&&(s.value=Object.freeze(s.value)),s);return lf(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}_f.create=(t,e)=>new _f({innerType:t,typeName:ke.ZodReadonly,...ze(e)});function BM(t,e={},n){return t?Yc.create().superRefine((r,s)=>{var o,i;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(i=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&i!==void 0?i:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):Yc.create()}const aX={object:Ft.lazycreate};var ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ke||(ke={}));const lX=(t,e={message:`Input not instance of ${t.name}`})=>BM(n=>n instanceof t,e),zM=hs.create,WM=Vi.create,cX=qm.create,uX=Ui.create,HM=cf.create,dX=Za.create,fX=zm.create,hX=uf.create,pX=df.create,mX=Yc.create,gX=Da.create,vX=Mo.create,yX=Wm.create,wX=ws.create,_X=Ft.create,xX=Ft.strictCreate,EX=ff.create,bX=gv.create,TX=hf.create,SX=to.create,CX=pf.create,IX=Hm.create,RX=Ja.create,PX=bc.create,kX=mf.create,AX=gf.create,NX=$i.create,DX=vf.create,OX=Qc.create,M1=Cs.create,MX=Gs.create,jX=Bi.create,LX=Cs.createWithPreprocess,FX=eh.create,VX=()=>zM().optional(),UX=()=>WM().optional(),$X=()=>HM().optional(),BX={string:t=>hs.create({...t,coerce:!0}),number:t=>Vi.create({...t,coerce:!0}),boolean:t=>cf.create({...t,coerce:!0}),bigint:t=>Ui.create({...t,coerce:!0}),date:t=>Za.create({...t,coerce:!0})},zX=De;var rr=Object.freeze({__proto__:null,defaultErrorMap:Gc,setErrorMap:zQ,getErrorMap:Um,makeIssue:$m,EMPTY_PATH:WQ,addIssueToContext:he,ParseStatus:Ln,INVALID:De,DIRTY:ac,OK:Xn,isAborted:D_,isDirty:O_,isValid:af,isAsync:lf,get util(){return at},get objectUtil(){return N_},ZodParsedType:pe,getParsedType:fi,ZodType:Ge,datetimeRegex:UM,ZodString:hs,ZodNumber:Vi,ZodBigInt:Ui,ZodBoolean:cf,ZodDate:Za,ZodSymbol:zm,ZodUndefined:uf,ZodNull:df,ZodAny:Yc,ZodUnknown:Da,ZodNever:Mo,ZodVoid:Wm,ZodArray:ws,ZodObject:Ft,ZodUnion:ff,ZodDiscriminatedUnion:gv,ZodIntersection:hf,ZodTuple:to,ZodRecord:pf,ZodMap:Hm,ZodSet:Ja,ZodFunction:bc,ZodLazy:mf,ZodLiteral:gf,ZodEnum:$i,ZodNativeEnum:vf,ZodPromise:Qc,ZodEffects:Cs,ZodTransformer:Cs,ZodOptional:Gs,ZodNullable:Bi,ZodDefault:yf,ZodCatch:wf,ZodNaN:qm,BRAND:iX,ZodBranded:HE,ZodPipeline:eh,ZodReadonly:_f,custom:BM,Schema:Ge,ZodSchema:Ge,late:aX,get ZodFirstPartyTypeKind(){return ke},coerce:BX,any:mX,array:wX,bigint:uX,boolean:HM,date:dX,discriminatedUnion:bX,effect:M1,enum:NX,function:PX,instanceof:lX,intersection:TX,lazy:kX,literal:AX,map:IX,nan:cX,nativeEnum:DX,never:vX,null:pX,nullable:jX,number:WM,object:_X,oboolean:$X,onumber:UX,optional:MX,ostring:VX,pipeline:FX,preprocess:LX,promise:OX,record:CX,set:RX,strictObject:xX,string:zM,symbol:fX,transformer:M1,tuple:SX,undefined:hX,union:EX,unknown:gX,void:yX,NEVER:zX,ZodIssueCode:te,quotelessJson:BQ,ZodError:Rr});const j1=(t,e,n)=>{if(t&&"reportValidity"in t){const r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},qM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?j1(r.ref,n,t):r.refs&&r.refs.forEach(s=>j1(s,n,t))}},WX=(t,e)=>{e.shouldUseNativeValidation&&qM(t,e);const n={};for(const r in t){const s=le(e.fields,r),o=Object.assign(t[r]||{},{ref:s&&s.ref});if(HX(e.names||Object.keys(t),r)){const i=Object.assign({},le(n,r));pt(i,"root",o),pt(n,r,i)}else pt(n,r,o)}return n},HX=(t,e)=>t.some(n=>n.startsWith(e+"."));var qX=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,o=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[i]={message:a.message,type:a.code}}else n[i]={message:o,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var l=n[i].types,c=l&&l[r.code];n[i]=RM(i,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},KM=function(t,e,n){return n===void 0&&(n={}),function(r,s,o){try{return Promise.resolve(function(i,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return o.shouldUseNativeValidation&&qM({},o),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(i){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(i))return{values:{},errors:WX(qX(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}};const vv=p.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));vv.displayName="Textarea";const Lt=p.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Lt.displayName="Input";var KX="Label",GM=p.forwardRef((t,e)=>u.jsx(Ce.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GM.displayName=KX;var YM=GM;const GX=Mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vi=p.forwardRef(({className:t,...e},n)=>u.jsx(YM,{ref:n,className:de(GX(),t),...e}));vi.displayName=YM.displayName;const QM=CQ,XM=p.createContext({}),Vr=({...t})=>u.jsx(XM.Provider,{value:{name:t.name},children:u.jsx(kQ,{...t})}),yv=()=>{const t=p.useContext(XM),e=p.useContext(ZM),{getFieldState:n,formState:r}=mv(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},ZM=p.createContext({}),wr=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return u.jsx(ZM.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:de("space-y-2",t),...e})})});wr.displayName="FormItem";const _r=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=yv();return u.jsx(vi,{ref:n,className:de(r&&"text-destructive",t),htmlFor:s,...e})});_r.displayName="FormLabel";const xr=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:o}=yv();return u.jsx(Ys,{ref:e,id:r,"aria-describedby":n?`${s} ${o}`:`${s}`,"aria-invalid":!!n,...t})});xr.displayName="FormControl";const YX=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=yv();return u.jsx("p",{ref:n,id:r,className:de("text-sm text-muted-foreground",t),...e})});YX.displayName="FormDescription";const Er=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:o}=yv(),i=s?String(s==null?void 0:s.message):e;return i?u.jsx("p",{ref:r,id:o,className:de("text-sm font-medium text-destructive",t),...n,children:i}):null});Er.displayName="FormMessage";function j_(t,[e,n]){return Math.min(n,Math.max(e,t))}function JM(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var QX=[" ","Enter","ArrowUp","ArrowDown"],XX=[" ","Enter"],th="Select",[wv,_v,ZX]=Fg(th),[yu,fre]=Jr(th,[ZX,Yi]),xv=Yi(),[JX,sa]=yu(th),[eZ,tZ]=yu(th),ej=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:h,disabled:m,required:g,form:x}=t,y=xv(e),[b,E]=p.useState(null),[w,S]=p.useState(null),[C,O]=p.useState(!1),V=jf(c),[R=!1,_]=Xs({prop:r,defaultProp:s,onChange:o}),[I,P]=Xs({prop:i,defaultProp:a,onChange:l}),D=p.useRef(null),N=b?x||!!b.closest("form"):!0,[k,B]=p.useState(new Set),Y=Array.from(k).map(X=>X.props.value).join(";");return u.jsx(Rg,{...y,children:u.jsxs(JX,{required:g,scope:e,trigger:b,onTriggerChange:E,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:O,contentId:Wr(),value:I,onValueChange:P,open:R,onOpenChange:_,dir:V,triggerPointerDownPosRef:D,disabled:m,children:[u.jsx(wv.Provider,{scope:e,children:u.jsx(eZ,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{B(j=>new Set(j).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{B(j=>{const M=new Set(j);return M.delete(X),M})},[]),children:n})}),N?u.jsxs(Sj,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:X=>P(X.target.value),disabled:m,form:x,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},Y):null]})})};ej.displayName=th;var tj="SelectTrigger",nj=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=xv(n),i=sa(tj,n),a=i.disabled||r,l=We(e,i.onTriggerChange),c=_v(n),f=p.useRef("touch"),[h,m,g]=Cj(y=>{const b=c().filter(S=>!S.disabled),E=b.find(S=>S.value===i.value),w=Ij(b,y,E);w!==void 0&&i.onValueChange(w.value)}),x=y=>{a||(i.onOpenChange(!0),g()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(Pf,{asChild:!0,...o,children:u.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Tj(i.value)?"":void 0,...s,ref:l,onClick:se(s.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:se(s.onPointerDown,y=>{f.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:se(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&QX.includes(y.key)&&(x(),y.preventDefault())})})})});nj.displayName=tj;var rj="SelectValue",sj=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,l=sa(rj,n),{onValueNodeHasChildrenChange:c}=l,f=o!==void 0,h=We(e,l.onValueNodeChange);return un(()=>{c(f)},[c,f]),u.jsx(Ce.span,{...a,ref:h,style:{pointerEvents:"none"},children:Tj(l.value)?u.jsx(u.Fragment,{children:i}):o})});sj.displayName=rj;var nZ="SelectIcon",oj=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Ce.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});oj.displayName=nZ;var rZ="SelectPortal",ij=t=>u.jsx(uu,{asChild:!0,...t});ij.displayName=rZ;var el="SelectContent",aj=p.forwardRef((t,e)=>{const n=sa(el,t.__scopeSelect),[r,s]=p.useState();if(un(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?qi.createPortal(u.jsx(lj,{scope:t.__scopeSelect,children:u.jsx(wv.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(cj,{...t,ref:e})});aj.displayName=el;var is=10,[lj,oa]=yu(el),sZ="SelectContentImpl",cj=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b,...E}=t,w=sa(el,n),[S,C]=p.useState(null),[O,V]=p.useState(null),R=We(e,ue=>C(ue)),[_,I]=p.useState(null),[P,D]=p.useState(null),N=_v(n),[k,B]=p.useState(!1),Y=p.useRef(!1);p.useEffect(()=>{if(S)return jg(S)},[S]),Mg();const X=p.useCallback(ue=>{const[Me,...Ye]=N().map(Xe=>Xe.ref.current),[je]=Ye.slice(-1),Qe=document.activeElement;for(const Xe of ue)if(Xe===Qe||(Xe==null||Xe.scrollIntoView({block:"nearest"}),Xe===Me&&O&&(O.scrollTop=0),Xe===je&&O&&(O.scrollTop=O.scrollHeight),Xe==null||Xe.focus(),document.activeElement!==Qe))return},[N,O]),j=p.useCallback(()=>X([_,S]),[X,_,S]);p.useEffect(()=>{k&&j()},[k,j]);const{onOpenChange:M,triggerPointerDownPosRef:$}=w;p.useEffect(()=>{if(S){let ue={x:0,y:0};const Me=je=>{var Qe,Xe;ue={x:Math.abs(Math.round(je.pageX)-(((Qe=$.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Xe=$.current)==null?void 0:Xe.y)??0))}},Ye=je=>{ue.x<=10&&ue.y<=10?je.preventDefault():S.contains(je.target)||M(!1),document.removeEventListener("pointermove",Me),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[S,M,$]),p.useEffect(()=>{const ue=()=>M(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[M]);const[G,re]=Cj(ue=>{const Me=N().filter(Qe=>!Qe.disabled),Ye=Me.find(Qe=>Qe.ref.current===document.activeElement),je=Ij(Me,ue,Ye);je&&setTimeout(()=>je.ref.current.focus())}),me=p.useCallback((ue,Me,Ye)=>{const je=!Y.current&&!Ye;(w.value!==void 0&&w.value===Me||je)&&(I(ue),je&&(Y.current=!0))},[w.value]),Ee=p.useCallback(()=>S==null?void 0:S.focus(),[S]),Be=p.useCallback((ue,Me,Ye)=>{const je=!Y.current&&!Ye;(w.value!==void 0&&w.value===Me||je)&&D(ue)},[w.value]),ht=r==="popper"?L_:uj,He=ht===L_?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return u.jsx(lj,{scope:n,content:S,viewport:O,onViewportChange:V,itemRefCallback:me,selectedItem:_,onItemLeave:Ee,itemTextRefCallback:Be,focusSelectedItem:j,selectedItemText:P,position:r,isPositioned:k,searchRef:G,children:u.jsx(Df,{as:Ys,allowPinchZoom:!0,children:u.jsx(Af,{asChild:!0,trapped:w.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:se(s,ue=>{var Me;(Me=w.trigger)==null||Me.focus({preventScroll:!0}),ue.preventDefault()}),children:u.jsx(gl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(ht,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ue=>ue.preventDefault(),...E,...He,onPlaced:()=>B(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:se(E.onKeyDown,ue=>{const Me=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Me&&ue.key.length===1&&re(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let je=N().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Qe=ue.target,Xe=je.indexOf(Qe);je=je.slice(Xe+1)}setTimeout(()=>X(je)),ue.preventDefault()}})})})})})})});cj.displayName=sZ;var oZ="SelectItemAlignedPosition",uj=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=sa(el,n),i=oa(el,n),[a,l]=p.useState(null),[c,f]=p.useState(null),h=We(e,R=>f(R)),m=_v(n),g=p.useRef(!1),x=p.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:E,focusSelectedItem:w}=i,S=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&y&&b&&E){const R=o.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(o.dir!=="rtl"){const Qe=P.left-_.left,Xe=I.left-Qe,Dt=R.left-Xe,lt=R.width+Dt,gn=Math.max(lt,_.width),Dr=window.innerWidth-is,ks=j_(Xe,[is,Math.max(is,Dr-gn)]);a.style.minWidth=lt+"px",a.style.left=ks+"px"}else{const Qe=_.right-P.right,Xe=window.innerWidth-I.right-Qe,Dt=window.innerWidth-R.right-Xe,lt=R.width+Dt,gn=Math.max(lt,_.width),Dr=window.innerWidth-is,ks=j_(Xe,[is,Math.max(is,Dr-gn)]);a.style.minWidth=lt+"px",a.style.right=ks+"px"}const D=m(),N=window.innerHeight-is*2,k=y.scrollHeight,B=window.getComputedStyle(c),Y=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),j=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),$=Y+X+k+M+j,G=Math.min(b.offsetHeight*5,$),re=window.getComputedStyle(y),me=parseInt(re.paddingTop,10),Ee=parseInt(re.paddingBottom,10),Be=R.top+R.height/2-is,ht=N-Be,He=b.offsetHeight/2,ue=b.offsetTop+He,Me=Y+X+ue,Ye=$-Me;if(Me<=Be){const Qe=D.length>0&&b===D[D.length-1].ref.current;a.style.bottom="0px";const Xe=c.clientHeight-y.offsetTop-y.offsetHeight,Dt=Math.max(ht,He+(Qe?Ee:0)+Xe+j),lt=Me+Dt;a.style.height=lt+"px"}else{const Qe=D.length>0&&b===D[0].ref.current;a.style.top="0px";const Dt=Math.max(Be,Y+y.offsetTop+(Qe?me:0)+He)+Ye;a.style.height=Dt+"px",y.scrollTop=Me-Be+y.offsetTop}a.style.margin=`${is}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,a,c,y,b,E,o.dir,r]);un(()=>S(),[S]);const[C,O]=p.useState();un(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=p.useCallback(R=>{R&&x.current===!0&&(S(),w==null||w(),x.current=!1)},[S,w]);return u.jsx(aZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:V,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:u.jsx(Ce.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uj.displayName=oZ;var iZ="SelectPopperPosition",L_=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=is,...o}=t,i=xv(n);return u.jsx(Pg,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L_.displayName=iZ;var[aZ,qE]=yu(el,{}),F_="SelectViewport",dj=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=oa(F_,n),i=qE(F_,n),a=We(e,o.onViewportChange),l=p.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(wv.Slot,{scope:n,children:u.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const g=Math.abs(l.current-f.scrollTop);if(g>0){const x=window.innerHeight-is*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),E=Math.max(y,b);if(E<x){const w=E+g,S=Math.min(x,w),C=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(f.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});dj.displayName=F_;var fj="SelectGroup",[lZ,cZ]=yu(fj),uZ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wr();return u.jsx(lZ,{scope:n,id:s,children:u.jsx(Ce.div,{role:"group","aria-labelledby":s,...r,ref:e})})});uZ.displayName=fj;var hj="SelectLabel",pj=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=cZ(hj,n);return u.jsx(Ce.div,{id:s.id,...r,ref:e})});pj.displayName=hj;var Km="SelectItem",[dZ,mj]=yu(Km),gj=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=sa(Km,n),l=oa(Km,n),c=a.value===r,[f,h]=p.useState(o??""),[m,g]=p.useState(!1),x=We(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),y=Wr(),b=p.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(dZ,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:p.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(wv.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:u.jsx(Ce.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:se(i.onFocus,()=>g(!0)),onBlur:se(i.onBlur,()=>g(!1)),onClick:se(i.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:se(i.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:se(i.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:se(i.onPointerMove,w=>{var S;b.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(i.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:se(i.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(XX.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});gj.displayName=Km;var ad="SelectItemText",vj=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=sa(ad,n),a=oa(ad,n),l=mj(ad,n),c=tZ(ad,n),[f,h]=p.useState(null),m=We(e,E=>h(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),g=f==null?void 0:f.textContent,x=p.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return un(()=>(y(x),()=>b(x)),[y,b,x]),u.jsxs(u.Fragment,{children:[u.jsx(Ce.span,{id:l.textId,...o,ref:m}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qi.createPortal(o.children,i.valueNode):null]})});vj.displayName=ad;var yj="SelectItemIndicator",wj=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mj(yj,n).isSelected?u.jsx(Ce.span,{"aria-hidden":!0,...r,ref:e}):null});wj.displayName=yj;var V_="SelectScrollUpButton",_j=p.forwardRef((t,e)=>{const n=oa(V_,t.__scopeSelect),r=qE(V_,t.__scopeSelect),[s,o]=p.useState(!1),i=We(e,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(Ej,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});_j.displayName=V_;var U_="SelectScrollDownButton",xj=p.forwardRef((t,e)=>{const n=oa(U_,t.__scopeSelect),r=qE(U_,t.__scopeSelect),[s,o]=p.useState(!1),i=We(e,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;o(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(Ej,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});xj.displayName=U_;var Ej=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=oa("SelectScrollButton",n),i=p.useRef(null),a=_v(n),l=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),un(()=>{var f;const c=a().find(h=>h.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ce.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{l()})})}),fZ="SelectSeparator",bj=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ce.div,{"aria-hidden":!0,...r,ref:e})});bj.displayName=fZ;var $_="SelectArrow",hZ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xv(n),o=sa($_,n),i=oa($_,n);return o.open&&i.position==="popper"?u.jsx(kg,{...s,...r,ref:e}):null});hZ.displayName=$_;function Tj(t){return t===""||t===void 0}var Sj=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),o=We(e,s),i=JM(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&f){const h=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(h)}},[i,n]),u.jsx(kf,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});Sj.displayName="BubbleSelect";function Cj(t){const e=jt(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const a=n.current+i;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Ij(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=pZ(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function pZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mZ=ej,Rj=nj,gZ=sj,vZ=oj,yZ=ij,Pj=aj,wZ=dj,kj=pj,Aj=gj,_Z=vj,xZ=wj,Nj=_j,Dj=xj,Oj=bj;const Us=mZ,$s=gZ,ps=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Rj,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(vZ,{asChild:!0,children:u.jsx(NP,{className:"h-4 w-4 opacity-50"})})]}));ps.displayName=Rj.displayName;const Mj=p.forwardRef(({className:t,...e},n)=>u.jsx(Nj,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(n3,{className:"h-4 w-4"})}));Mj.displayName=Nj.displayName;const jj=p.forwardRef(({className:t,...e},n)=>u.jsx(Dj,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(NP,{className:"h-4 w-4"})}));jj.displayName=Dj.displayName;const ms=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(yZ,{children:u.jsxs(Pj,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Mj,{}),u.jsx(wZ,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(jj,{})]})}));ms.displayName=Pj.displayName;const EZ=p.forwardRef(({className:t,...e},n)=>u.jsx(kj,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));EZ.displayName=kj.displayName;const on=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Aj,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(xZ,{children:u.jsx(K0,{className:"h-4 w-4"})})}),u.jsx(_Z,{children:e})]}));on.displayName=Aj.displayName;const bZ=p.forwardRef(({className:t,...e},n)=>u.jsx(Oj,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));bZ.displayName=Oj.displayName;function nt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function kr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function qn(t,e){const n=nt(t);return isNaN(e)?kr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Is(t,e){const n=nt(t);if(isNaN(e))return kr(t,NaN);if(!e)return n;const r=n.getDate(),s=kr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const KE=6048e5,TZ=864e5;let SZ={};function nh(){return SZ}function no(t,e){var a,l,c,f;const n=nh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=nt(t),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function tl(t){return no(t,{weekStartsOn:1})}function Lj(t){const e=nt(t),n=e.getFullYear(),r=kr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=tl(r),o=kr(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=tl(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function Xc(t){const e=nt(t);return e.setHours(0,0,0,0),e}function Gm(t){const e=nt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Bs(t,e){const n=Xc(t),r=Xc(e),s=+n-Gm(n),o=+r-Gm(r);return Math.round((s-o)/TZ)}function CZ(t){const e=Lj(t),n=kr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),tl(n)}function B_(t,e){const n=e*7;return qn(t,n)}function IZ(t,e){return Is(t,e*12)}function RZ(t){let e;return t.forEach(function(n){const r=nt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function PZ(t){let e;return t.forEach(n=>{const r=nt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function ar(t,e){const n=Xc(t),r=Xc(e);return+n==+r}function GE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kZ(t){if(!GE(t)&&typeof t!="number")return!1;const e=nt(t);return!isNaN(Number(e))}function xf(t,e){const n=nt(t),r=nt(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function AZ(t,e,n){const r=no(t,n),s=no(e,n),o=+r-Gm(r),i=+s-Gm(s);return Math.round((o-i)/KE)}function YE(t){const e=nt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function hr(t){const e=nt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Fj(t){const e=nt(t),n=kr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function QE(t,e){var a,l,c,f;const n=nh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=nt(t),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function Vj(t){return QE(t,{weekStartsOn:1})}const NZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DZ=(t,e,n)=>{let r;const s=NZ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const OZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LZ={date:Uy({formats:OZ,defaultWidth:"full"}),time:Uy({formats:MZ,defaultWidth:"full"}),dateTime:Uy({formats:jZ,defaultWidth:"full"})},FZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VZ=(t,e,n,r)=>FZ[t];function Hu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const UZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$Z={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KZ={ordinalNumber:qZ,era:Hu({values:UZ,defaultWidth:"wide"}),quarter:Hu({values:$Z,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hu({values:BZ,defaultWidth:"wide"}),day:Hu({values:zZ,defaultWidth:"wide"}),dayPeriod:Hu({values:WZ,defaultWidth:"wide",formattingValues:HZ,defaultFormattingWidth:"wide"})};function qu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?YZ(a,h=>h.test(i)):GZ(a,h=>h.test(i));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(i.length);return{value:c,rest:f}}}function GZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function YZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function QZ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(s.length);return{value:i,rest:a}}}const XZ=/^(\d+)(th|st|nd|rd)?/i,ZZ=/\d+/i,JZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eJ={any:[/^b/i,/^(a|c)/i]},tJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nJ={any:[/1/i,/2/i,/3/i,/4/i]},rJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cJ={ordinalNumber:QZ({matchPattern:XZ,parsePattern:ZZ,valueCallback:t=>parseInt(t,10)}),era:qu({matchPatterns:JZ,defaultMatchWidth:"wide",parsePatterns:eJ,defaultParseWidth:"any"}),quarter:qu({matchPatterns:tJ,defaultMatchWidth:"wide",parsePatterns:nJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qu({matchPatterns:rJ,defaultMatchWidth:"wide",parsePatterns:sJ,defaultParseWidth:"any"}),day:qu({matchPatterns:oJ,defaultMatchWidth:"wide",parsePatterns:iJ,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:aJ,defaultMatchWidth:"any",parsePatterns:lJ,defaultParseWidth:"any"})},Uj={code:"en-US",formatDistance:DZ,formatLong:LZ,formatRelative:VZ,localize:KZ,match:cJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uJ(t){const e=nt(t);return Bs(e,Fj(e))+1}function $j(t){const e=nt(t),n=+tl(e)-+CZ(e);return Math.round(n/KE)+1}function Bj(t,e){var f,h,m,g;const n=nt(t),r=n.getFullYear(),s=nh(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=kr(t,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=no(i,e),l=kr(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=no(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function dJ(t,e){var a,l,c,f;const n=nh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=Bj(t,e),o=kr(t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),no(o,e)}function zj(t,e){const n=nt(t),r=+no(n,e)-+dJ(n,e);return Math.round(r/KE)+1}function gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ei={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):gt(n+1,2)},d(t,e){return gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return gt(t.getHours()%12||12,e.length)},H(t,e){return gt(t.getHours(),e.length)},m(t,e){return gt(t.getMinutes(),e.length)},s(t,e){return gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return gt(s,e.length)}},Vl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ei.y(t,e)},Y:function(t,e,n,r){const s=Bj(t,r),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return gt(i,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):gt(o,e.length)},R:function(t,e){const n=Lj(t);return gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ei.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=zj(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):gt(s,e.length)},I:function(t,e,n){const r=$j(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ei.d(t,e)},D:function(t,e,n){const r=uJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return gt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return gt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Vl.noon:r===0?s=Vl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Vl.evening:r>=12?s=Vl.afternoon:r>=4?s=Vl.morning:s=Vl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ei.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ei.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ei.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ei.s(t,e)},S:function(t,e){return ei.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return V1(r);case"XXXX":case"XX":return wa(r);case"XXXXX":case"XXX":default:return wa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return V1(r);case"xxxx":case"xx":return wa(r);case"xxxxx":case"xxx":default:return wa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+F1(r,":");case"OOOO":default:return"GMT"+wa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+F1(r,":");case"zzzz":default:return"GMT"+wa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return gt(r,e.length)},T:function(t,e,n){const r=t.getTime();return gt(r,e.length)}};function F1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+gt(o,2)}function V1(t,e){return t%60===0?(t>0?"-":"+")+gt(Math.abs(t)/60,2):wa(t,e)}function wa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=gt(Math.trunc(r/60),2),o=gt(r%60,2);return n+s+e+o}const U1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Wj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},fJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return U1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",U1(r,e)).replace("{{time}}",Wj(s,e))},hJ={p:Wj,P:fJ},pJ=/^D+$/,mJ=/^Y+$/,gJ=["D","DD","YY","YYYY"];function vJ(t){return pJ.test(t)}function yJ(t){return mJ.test(t)}function wJ(t,e,n){const r=_J(t,e,n);if(console.warn(r),gJ.includes(t))throw new RangeError(r)}function _J(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bJ=/^'([^]*?)'?$/,TJ=/''/g,SJ=/[a-zA-Z]/;function _s(t,e,n){var f,h,m,g,x,y,b,E;const r=nh(),s=(n==null?void 0:n.locale)??r.locale??Uj,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((E=(b=r.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,a=nt(t);if(!kZ(a))throw new RangeError("Invalid time value");let l=e.match(EJ).map(w=>{const S=w[0];if(S==="p"||S==="P"){const C=hJ[S];return C(w,s.formatLong)}return w}).join("").match(xJ).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:CJ(w)};if(L1[S])return{isToken:!0,value:w};if(S.match(SJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const S=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yJ(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&vJ(S))&&wJ(S,e,String(t));const C=L1[S[0]];return C(a,S,s.localize,c)}).join("")}function CJ(t){const e=t.match(bJ);return e?e[1].replace(TJ,"'"):t}function IJ(t){const e=nt(t),n=e.getFullYear(),r=e.getMonth(),s=kr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function RJ(t){return Math.trunc(+nt(t)/1e3)}function PJ(t){const e=nt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function kJ(t,e){return AZ(PJ(t),hr(t),e)+1}function Ym(t,e){const n=nt(t),r=nt(e);return n.getTime()>r.getTime()}function XE(t,e){const n=nt(t),r=nt(e);return+n<+r}function AJ(t,e){const n=nt(t),r=nt(e);return+n==+r}function NJ(t){return+nt(t)<Date.now()}function ZE(t,e){const n=nt(t),r=nt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function DJ(t,e){const n=nt(t),r=nt(e);return n.getFullYear()===r.getFullYear()}function $y(t,e){return qn(t,-e)}function By(t,e){const n=nt(t),r=n.getFullYear(),s=n.getDate(),o=kr(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const i=IJ(o);return n.setMonth(e,Math.min(s,i)),n}function $1(t,e){const n=nt(t);return isNaN(+n)?kr(t,NaN):(n.setFullYear(e),n)}var Ae=function(){return Ae=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ae.apply(this,arguments)};function OJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Hj(t,e,n){for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function rh(t){return t.mode==="multiple"}function sh(t){return t.mode==="range"}function Ev(t){return t.mode==="single"}var MJ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jJ(t,e){return _s(t,"LLLL y",e)}function LJ(t,e){return _s(t,"d",e)}function FJ(t,e){return _s(t,"LLLL",e)}function VJ(t){return"".concat(t)}function UJ(t,e){return _s(t,"cccccc",e)}function $J(t,e){return _s(t,"yyyy",e)}var BJ=Object.freeze({__proto__:null,formatCaption:jJ,formatDay:LJ,formatMonthCaption:FJ,formatWeekNumber:VJ,formatWeekdayName:UJ,formatYearCaption:$J}),zJ=function(t,e,n){return _s(t,"do MMMM (EEEE)",n)},WJ=function(){return"Month: "},HJ=function(){return"Go to next month"},qJ=function(){return"Go to previous month"},KJ=function(t,e){return _s(t,"cccc",e)},GJ=function(t){return"Week n. ".concat(t)},YJ=function(){return"Year: "},QJ=Object.freeze({__proto__:null,labelDay:zJ,labelMonthDropdown:WJ,labelNext:HJ,labelPrevious:qJ,labelWeekNumber:GJ,labelWeekday:KJ,labelYearDropdown:YJ});function XJ(){var t="buttons",e=MJ,n=Uj,r={},s={},o=1,i={},a=new Date;return{captionLayout:t,classNames:e,formatters:BJ,labels:QJ,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function ZJ(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=hr(r):e&&(o=new Date(e,0,1)),s?i=YE(s):n&&(i=new Date(n,11,31)),{fromDate:o?Xc(o):void 0,toDate:i?Xc(i):void 0}}var qj=p.createContext(void 0);function JJ(t){var e,n=t.initialProps,r=XJ(),s=ZJ(n),o=s.fromDate,i=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var l;(Ev(n)||rh(n)||sh(n))&&(l=n.onSelect);var c=Ae(Ae(Ae({},r),n),{captionLayout:a,classNames:Ae(Ae({},r.classNames),n.classNames),components:Ae({},n.components),formatters:Ae(Ae({},r.formatters),n.formatters),fromDate:o,labels:Ae(Ae({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ae(Ae({},r.modifiers),n.modifiers),modifiersClassNames:Ae(Ae({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Ae(Ae({},r.styles),n.styles),toDate:i});return u.jsx(qj.Provider,{value:c,children:t.children})}function Ct(){var t=p.useContext(qj);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Kj(t){var e=Ct(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function eee(t){return u.jsx("svg",Ae({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Gj(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,a=t.className,l=t.style,c=Ct(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:eee;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:o}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,u.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function tee(t){var e,n=Ct(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});var h=[];if(DJ(r,s))for(var m=hr(r),g=r.getMonth();g<=s.getMonth();g++)h.push(By(m,g));else for(var m=hr(new Date),g=0;g<=11;g++)h.push(By(m,g));var x=function(b){var E=Number(b.target.value),w=By(hr(t.displayMonth),E);t.onChange(w)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:Gj;return u.jsx(y,{name:"months","aria-label":f(),className:l.dropdown_month,style:o.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:i}),children:h.map(function(b){return u.jsx("option",{value:b.getMonth(),children:a(b,{locale:i})},b.getMonth())})})}function nee(t){var e,n=t.displayMonth,r=Ct(),s=r.fromDate,o=r.toDate,i=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!s)return u.jsx(u.Fragment,{});if(!o)return u.jsx(u.Fragment,{});for(var g=s.getFullYear(),x=o.getFullYear(),y=g;y<=x;y++)m.push($1(Fj(new Date),y));var b=function(w){var S=$1(hr(n),Number(w.target.value));t.onChange(S)},E=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:Gj;return u.jsx(E,{name:"years","aria-label":h(),className:l.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:f(n,{locale:i}),children:m.map(function(w){return u.jsx("option",{value:w.getFullYear(),children:f(w,{locale:i})},w.getFullYear())})})}function ree(t,e){var n=p.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function see(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&xf(o,s)<0){var c=-1*(l-1);s=Is(o,c)}return i&&xf(s,i)<0&&(s=i),hr(s)}function oee(){var t=Ct(),e=see(t),n=ree(e,t.month),r=n[0],s=n[1],o=function(i){var a;if(!t.disableNavigation){var l=hr(i);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function iee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=hr(t),o=hr(Is(s,r)),i=xf(o,s),a=[],l=0;l<i;l++){var c=Is(s,l);a.push(c)}return n&&(a=a.reverse()),a}function aee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=hr(t);if(!n)return Is(a,i);var l=xf(n,t);if(!(l<o))return Is(a,i)}}function lee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=hr(t);if(!n)return Is(a,-i);var l=xf(a,n);if(!(l<=0))return Is(a,-i)}}var Yj=p.createContext(void 0);function cee(t){var e=Ct(),n=oee(),r=n[0],s=n[1],o=iee(r,e),i=aee(r,e),a=lee(r,e),l=function(h){return o.some(function(m){return ZE(h,m)})},c=function(h,m){l(h)||(m&&XE(h,m)?s(Is(h,1+e.numberOfMonths*-1)):s(h))},f={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:i,isDateDisplayed:l};return u.jsx(Yj.Provider,{value:f,children:t.children})}function oh(){var t=p.useContext(Yj);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function B1(t){var e,n=Ct(),r=n.classNames,s=n.styles,o=n.components,i=oh().goToMonth,a=function(f){i(Is(f,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:Kj,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(tee,{onChange:a,displayMonth:t.displayMonth}),u.jsx(nee,{onChange:a,displayMonth:t.displayMonth})]})}function uee(t){return u.jsx("svg",Ae({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function dee(t){return u.jsx("svg",Ae({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Qm=p.forwardRef(function(t,e){var n=Ct(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),a=Ae(Ae({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),u.jsx("button",Ae({},t,{ref:e,type:"button",className:i,style:a}))});function fee(t){var e,n,r=Ct(),s=r.dir,o=r.locale,i=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var m=c(t.previousMonth,{locale:o}),g=[i.nav_button,i.nav_button_previous].join(" "),x=f(t.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),b=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:dee,E=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:uee;return u.jsxs("div",{className:i.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(Qm,{name:"previous-month","aria-label":m,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?u.jsx(b,{className:i.nav_icon,style:a.nav_icon}):u.jsx(E,{className:i.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(Qm,{name:"next-month","aria-label":x,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?u.jsx(E,{className:i.nav_icon,style:a.nav_icon}):u.jsx(b,{className:i.nav_icon,style:a.nav_icon})})]})}function z1(t){var e=Ct().numberOfMonths,n=oh(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,a=i.findIndex(function(x){return ZE(t.displayMonth,x)}),l=a===0,c=a===i.length-1,f=e>1&&(l||!c),h=e>1&&(c||!l),m=function(){r&&o(r)},g=function(){s&&o(s)};return u.jsx(fee,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:g})}function hee(t){var e,n=Ct(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:Kj,c;return s?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?c=u.jsx(B1,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(B1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(z1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(z1,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:o.caption,children:c})}function pee(t){var e=Ct(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?u.jsx("tfoot",{className:s,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function mee(t,e,n){for(var r=n?tl(new Date):no(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=qn(r,o);s.push(i)}return s}function gee(){var t=Ct(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=mee(s,o,i);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,h){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:s}),children:a(f,{locale:s})},h)})]})}function vee(){var t,e=Ct(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:gee;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(o,{})})}function yee(t){var e=Ct(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var JE=p.createContext(void 0);function wee(t){if(!rh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(JE.Provider,{value:e,children:t.children})}return u.jsx(_ee,{initialProps:t.initialProps,children:t.children})}function _ee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(c,f,h){var m,g;(m=e.onDayClick)===null||m===void 0||m.call(e,c,f,h);var x=!!(f.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var y=!!(!f.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var b=r?Hj([],r):[];if(f.selected){var E=b.findIndex(function(w){return ar(c,w)});b.splice(E,1)}else b.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,b,c,f,h)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=o&&r.length>o-1,h=r.some(function(m){return ar(m,c)});return!!(f&&!h)});var l={selected:r,onDayClick:i,modifiers:a};return u.jsx(JE.Provider,{value:l,children:n})}function eb(){var t=p.useContext(JE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function xee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?ar(s,t)&&ar(r,t)?void 0:ar(s,t)?{from:s,to:void 0}:ar(r,t)?void 0:Ym(r,t)?{from:t,to:s}:{from:r,to:t}:s?Ym(t,s)?{from:s,to:t}:{from:t,to:s}:r?XE(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var tb=p.createContext(void 0);function Eee(t){if(!sh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(tb.Provider,{value:e,children:t.children})}return u.jsx(bee,{initialProps:t.initialProps,children:t.children})}function bee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,a=e.min,l=e.max,c=function(g,x,y){var b,E;(b=e.onDayClick)===null||b===void 0||b.call(e,g,x,y);var w=xee(g,r);(E=e.onSelect)===null||E===void 0||E.call(e,w,g,x,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],i?(f.range_end=[i],ar(o,i)||(f.range_middle=[{after:o,before:i}])):f.range_end=[o]):i&&(f.range_start=[i],f.range_end=[i]),a&&(o&&!i&&f.disabled.push({after:$y(o,a-1),before:qn(o,a-1)}),o&&i&&f.disabled.push({after:o,before:qn(o,a-1)}),!o&&i&&f.disabled.push({after:$y(i,a-1),before:qn(i,a-1)})),l){if(o&&!i&&(f.disabled.push({before:qn(o,-l+1)}),f.disabled.push({after:qn(o,l-1)})),o&&i){var h=Bs(i,o)+1,m=l-h;f.disabled.push({before:$y(o,m)}),f.disabled.push({after:qn(i,m)})}!o&&i&&(f.disabled.push({before:qn(i,-l+1)}),f.disabled.push({after:qn(i,l-1)}))}return u.jsx(tb.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function nb(){var t=p.useContext(tb);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Dp(t){return Array.isArray(t)?Hj([],t):t!==void 0?[t]:[]}function Tee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Dp(s)}),e}var Rs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Rs||(Rs={}));var See=Rs.Selected,co=Rs.Disabled,Cee=Rs.Hidden,Iee=Rs.Today,zy=Rs.RangeEnd,Wy=Rs.RangeMiddle,Hy=Rs.RangeStart,Ree=Rs.Outside;function Pee(t,e,n){var r,s=(r={},r[See]=Dp(t.selected),r[co]=Dp(t.disabled),r[Cee]=Dp(t.hidden),r[Iee]=[t.today],r[zy]=[],r[Wy]=[],r[Hy]=[],r[Ree]=[],r);return t.fromDate&&s[co].push({before:t.fromDate}),t.toDate&&s[co].push({after:t.toDate}),rh(t)?s[co]=s[co].concat(e.modifiers[co]):sh(t)&&(s[co]=s[co].concat(n.modifiers[co]),s[Hy]=n.modifiers[Hy],s[Wy]=n.modifiers[Wy],s[zy]=n.modifiers[zy]),s}var Qj=p.createContext(void 0);function kee(t){var e=Ct(),n=eb(),r=nb(),s=Pee(e,n,r),o=Tee(e.modifiers),i=Ae(Ae({},s),o);return u.jsx(Qj.Provider,{value:i,children:t.children})}function Xj(){var t=p.useContext(Qj);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Aee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Nee(t){return!!(t&&typeof t=="object"&&"from"in t)}function Dee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Oee(t){return!!(t&&typeof t=="object"&&"before"in t)}function Mee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function jee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=Bs(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=Bs(t,r)>=0&&Bs(s,t)>=0;return i}return s?ar(s,t):r?ar(r,t):!1}function Lee(t){return GE(t)}function Fee(t){return Array.isArray(t)&&t.every(GE)}function Vee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Lee(n))return ar(t,n);if(Fee(n))return n.includes(t);if(Nee(n))return jee(t,n);if(Mee(n))return n.dayOfWeek.includes(t.getDay());if(Aee(n)){var r=Bs(n.before,t),s=Bs(n.after,t),o=r>0,i=s<0,a=Ym(n.before,n.after);return a?i&&o:o||i}return Dee(n)?Bs(t,n.after)>0:Oee(n)?Bs(n.before,t)>0:typeof n=="function"?n(t):!1})}function rb(t,e,n){var r=Object.keys(e).reduce(function(o,i){var a=e[i];return Vee(t,a)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!ZE(t,n)&&(s.outside=!0),s}function Uee(t,e){for(var n=hr(t[0]),r=YE(t[t.length-1]),s,o,i=n;i<=r;){var a=rb(i,e),l=!a.disabled&&!a.hidden;if(!l){i=qn(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=qn(i,1)}return o||s}var $ee=365;function Zj(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,a=i===void 0?{count:0,lastFocused:t}:i,l=s.weekStartsOn,c=s.fromDate,f=s.toDate,h=s.locale,m={day:qn,week:B_,month:Is,year:IZ,startOfWeek:function(b){return s.ISOWeek?tl(b):no(b,{locale:h,weekStartsOn:l})},endOfWeek:function(b){return s.ISOWeek?Vj(b):QE(b,{locale:h,weekStartsOn:l})}},g=m[n](t,r==="after"?1:-1);r==="before"&&c?g=RZ([c,g]):r==="after"&&f&&(g=PZ([f,g]));var x=!0;if(o){var y=rb(g,o);x=!y.disabled&&!y.hidden}return x?g:a.count>$ee?a.lastFocused:Zj(g,{moveBy:n,direction:r,context:s,modifiers:o,retry:Ae(Ae({},a),{count:a.count+1})})}var Jj=p.createContext(void 0);function Bee(t){var e=oh(),n=Xj(),r=p.useState(),s=r[0],o=r[1],i=p.useState(),a=i[0],l=i[1],c=Uee(e.displayMonths,n),f=s??(a&&e.isDateDisplayed(a))?a:c,h=function(){l(s),o(void 0)},m=function(b){o(b)},g=Ct(),x=function(b,E){if(s){var w=Zj(s,{moveBy:b,direction:E,context:g,modifiers:n});ar(s,w)||(e.goToDate(w,s),m(w))}},y={focusedDay:s,focusTarget:f,blur:h,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return u.jsx(Jj.Provider,{value:y,children:t.children})}function sb(){var t=p.useContext(Jj);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function zee(t,e){var n=Xj(),r=rb(t,n,e);return r}var ob=p.createContext(void 0);function Wee(t){if(!Ev(t.initialProps)){var e={selected:void 0};return u.jsx(ob.Provider,{value:e,children:t.children})}return u.jsx(Hee,{initialProps:t.initialProps,children:t.children})}function Hee(t){var e=t.initialProps,n=t.children,r=function(o,i,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,i,a),i.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,i,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,o,o,i,a)},s={selected:e.selected,onDayClick:r};return u.jsx(ob.Provider,{value:s,children:n})}function e2(){var t=p.useContext(ob);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function qee(t,e){var n=Ct(),r=e2(),s=eb(),o=nb(),i=sb(),a=i.focusDayAfter,l=i.focusDayBefore,c=i.focusWeekAfter,f=i.focusWeekBefore,h=i.blur,m=i.focus,g=i.focusMonthBefore,x=i.focusMonthAfter,y=i.focusYearBefore,b=i.focusYearAfter,E=i.focusStartOfWeek,w=i.focusEndOfWeek,S=function(j){var M,$,G,re;Ev(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,j):rh(n)?($=s.onDayClick)===null||$===void 0||$.call(s,t,e,j):sh(n)?(G=o.onDayClick)===null||G===void 0||G.call(o,t,e,j):(re=n.onDayClick)===null||re===void 0||re.call(n,t,e,j)},C=function(j){var M;m(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,j)},O=function(j){var M;h(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,j)},V=function(j){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,j)},R=function(j){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,j)},_=function(j){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,j)},I=function(j){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,j)},P=function(j){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,j)},D=function(j){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,j)},N=function(j){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,j)},k=function(j){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,j)},B=function(j){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,j)},Y=function(j){var M;switch(j.key){case"ArrowLeft":j.preventDefault(),j.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":j.preventDefault(),j.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":j.preventDefault(),j.stopPropagation(),c();break;case"ArrowUp":j.preventDefault(),j.stopPropagation(),f();break;case"PageUp":j.preventDefault(),j.stopPropagation(),j.shiftKey?y():g();break;case"PageDown":j.preventDefault(),j.stopPropagation(),j.shiftKey?b():x();break;case"Home":j.preventDefault(),j.stopPropagation(),E();break;case"End":j.preventDefault(),j.stopPropagation(),w();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,j)},X={onClick:S,onFocus:C,onBlur:O,onKeyDown:Y,onKeyUp:B,onMouseEnter:V,onMouseLeave:R,onPointerEnter:_,onPointerLeave:I,onTouchCancel:P,onTouchEnd:D,onTouchMove:N,onTouchStart:k};return X}function Kee(){var t=Ct(),e=e2(),n=eb(),r=nb(),s=Ev(t)?e.selected:rh(t)?n.selected:sh(t)?r.selected:void 0;return s}function Gee(t){return Object.values(Rs).includes(t)}function Yee(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(Gee(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function Qee(t,e){var n=Ae({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ae(Ae({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function Xee(t,e,n){var r,s,o,i=Ct(),a=sb(),l=zee(t,e),c=qee(t,l),f=Kee(),h=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var V;l.outside||a.focusedDay&&h&&ar(a.focusedDay,t)&&((V=n.current)===null||V===void 0||V.focus())},[a.focusedDay,t,n,h,l.outside]);var m=Yee(i,l).join(" "),g=Qee(i,l),x=!!(l.outside&&!i.showOutsideDays||l.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:yee,b=u.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),E={style:g,className:m,children:b,role:"gridcell"},w=a.focusTarget&&ar(a.focusTarget,t)&&!l.outside,S=a.focusedDay&&ar(a.focusedDay,t),C=Ae(Ae(Ae({},E),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=S||w?0:-1,r)),c),O={isButton:h,isHidden:x,activeModifiers:l,selectedDays:f,buttonProps:C,divProps:E};return O}function Zee(t){var e=p.useRef(null),n=Xee(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(Qm,Ae({name:"day",ref:e},n.buttonProps)):u.jsx("div",Ae({},n.divProps))}function Jee(t){var e=t.number,n=t.dates,r=Ct(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!s)return u.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:f});var h=l(Number(e),{locale:a}),m=function(g){s(e,n,g)};return u.jsx(Qm,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:m,children:f})}function ete(t){var e,n,r=Ct(),s=r.styles,o=r.classNames,i=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:Zee,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:Jee,f;return i&&(f=u.jsx("td",{className:o.cell,style:s.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:o.row,style:s.row,children:[f,t.dates.map(function(h){return u.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:h})},RJ(h))})]})}function W1(t,e,n){for(var r=n!=null&&n.ISOWeek?Vj(e):QE(e,n),s=n!=null&&n.ISOWeek?tl(t):no(t,n),o=Bs(r,s),i=[],a=0;a<=o;a++)i.push(qn(s,a));var l=i.reduce(function(c,f){var h=n!=null&&n.ISOWeek?$j(f):zj(f,n),m=c.find(function(g){return g.weekNumber===h});return m?(m.dates.push(f),c):(c.push({weekNumber:h,dates:[f]}),c)},[]);return l}function tte(t,e){var n=W1(hr(t),YE(t),e);if(e!=null&&e.useFixedWeeks){var r=kJ(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=B_(o,6-r),a=W1(B_(o,1),i,e);n.push.apply(n,a)}}return n}function nte(t){var e,n,r,s=Ct(),o=s.locale,i=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,f=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,g=s.ISOWeek,x=tte(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:h,firstWeekContainsDate:m}),y=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:vee,b=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:ete,E=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:pee;return u.jsxs("table",{id:t.id,className:i.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(y,{}),u.jsx("tbody",{className:i.tbody,style:a.tbody,children:x.map(function(w){return u.jsx(b,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),u.jsx(E,{displayMonth:t.displayMonth})]})}function rte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ste=rte()?p.useLayoutEffect:p.useEffect,qy=!1,ote=0;function H1(){return"react-day-picker-".concat(++ote)}function ite(t){var e,n=t??(qy?H1():null),r=p.useState(n),s=r[0],o=r[1];return ste(function(){s===null&&o(H1())},[]),p.useEffect(function(){qy===!1&&(qy=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function ate(t){var e,n,r=Ct(),s=r.dir,o=r.classNames,i=r.styles,a=r.components,l=oh().displayMonths,c=ite(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[o.month],m=i.month,g=t.displayIndex===0,x=t.displayIndex===l.length-1,y=!g&&!x;s==="rtl"&&(e=[g,x],x=e[0],g=e[1]),g&&(h.push(o.caption_start),m=Ae(Ae({},m),i.caption_start)),x&&(h.push(o.caption_end),m=Ae(Ae({},m),i.caption_end)),y&&(h.push(o.caption_between),m=Ae(Ae({},m),i.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:hee;return u.jsxs("div",{className:h.join(" "),style:m,children:[u.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(nte,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function lte(t){var e=Ct(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function cte(t){var e,n,r=t.initialProps,s=Ct(),o=sb(),i=oh(),a=p.useState(!1),l=a[0],c=a[1];p.useEffect(function(){s.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[s.initialFocus,l,o.focus,o.focusTarget,o]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var h=Ae(Ae({},s.styles.root),s.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var b;return Ae(Ae({},x),(b={},b[y]=r[y],b))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:lte;return u.jsx("div",Ae({className:f.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:u.jsx(g,{children:i.displayMonths.map(function(x,y){return u.jsx(ate,{displayIndex:y,displayMonth:x},y)})})}))}function ute(t){var e=t.children,n=OJ(t,["children"]);return u.jsx(JJ,{initialProps:n,children:u.jsx(cee,{children:u.jsx(Wee,{initialProps:n,children:u.jsx(wee,{initialProps:n,children:u.jsx(Eee,{initialProps:n,children:u.jsx(kee,{children:u.jsx(Bee,{children:e})})})})})})})}function dte(t){return u.jsx(ute,Ae({},t,{children:u.jsx(cte,{initialProps:t})}))}function Xm({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(dte,{showOutsideDays:n,className:de("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:de(Xd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:de(Xd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>u.jsx(t3,{className:"h-4 w-4"}),IconRight:({...s})=>u.jsx(DP,{className:"h-4 w-4"})},...r})}Xm.displayName="Calendar";const t2=p.createContext(),Tl=()=>p.useContext(t2),fte=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0);p.useEffect(()=>{const i=Gx(Na,a=>{n(a),s(!1)});return()=>i()},[]);const o={currentUser:e};return u.jsxs(t2.Provider,{value:o,children:[!r&&t," "]})},hte=1,pte=1e6;let Ky=0;function mte(){return Ky=(Ky+1)%Number.MAX_SAFE_INTEGER,Ky.toString()}const Gy=new Map,q1=t=>{if(Gy.has(t))return;const e=setTimeout(()=>{Gy.delete(t),Cd({type:"REMOVE_TOAST",toastId:t})},pte);Gy.set(t,e)},gte=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hte)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?q1(n):t.toasts.forEach(r=>{q1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Op=[];let Mp={toasts:[]};function Cd(t){Mp=gte(Mp,t),Op.forEach(e=>{e(Mp)})}function vte({...t}){const e=mte(),n=s=>Cd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Cd({type:"DISMISS_TOAST",toastId:e});return Cd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ia(){const[t,e]=p.useState(Mp);return p.useEffect(()=>(Op.push(e),()=>{const n=Op.indexOf(e);n>-1&&Op.splice(n,1)}),[t]),{...t,toast:vte,dismiss:n=>Cd({type:"DISMISS_TOAST",toastId:n})}}const yte=rr.object({title:rr.string().min(1,"Task title is required."),description:rr.string().optional(),dob:rr.date().optional(),category:rr.string().min(1,"Category is required."),collaborators:rr.array(rr.string()).optional()});function wte({onTaskCreated:t}){const{currentUser:e}=Tl(),[n,r]=p.useState(!1),[s,o]=p.useState(""),[i,a]=p.useState([]),{toast:l}=ia(),c=MM({resolver:KM(yte),defaultValues:{title:"",description:"",dob:void 0,category:""}}),f=async()=>{try{const x=(await Qa(Br(vt,"category"))).docs.map(y=>({id:y.id,...y.data()})).filter(y=>y.createdBy===e.uid);a(x)}catch(m){console.error("Error fetching categories:",m)}};p.useEffect(()=>{f()},[]);const h=async m=>{const g=m.dob?Xt.fromDate(m.dob):null,x=e.uid;try{let y=m.category;m.category==="new"&&s.trim()!==""&&(y=(await Kc(Br(vt,"category"),{name:s,createdBy:x,collaborators:[],tasks:[]})).id,await f(),r(!1)),await Kc(Br(vt,"todoList"),{title:m.title,description:m.description,done:!1,deadline:g,category:y,createdBy:x,collaborators:m.collaborators||[]}),r(!1),l({title:"Task created !",description:"You can view your task in the task page."}),c.reset(),o(""),t&&t()}catch(y){console.error("Error creating task: ",y),l({title:"Error Creating The Task!",description:"Please try again.",variant:"destructive"})}};return u.jsx(u.Fragment,{children:u.jsxs(Xi,{open:n,onOpenChange:r,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{children:[u.jsx(ml,{className:"mr-2 h-4 w-4"})," Create Task"]})}),u.jsxs(Fo,{className:"sm:max-w-[425px] overflow-scroll w-[600px] max-h-[80%]",children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:"Create Task"}),u.jsx($o,{children:"Fill out the form to create a new task."})]}),u.jsx(QM,{...c,children:u.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-8",children:[u.jsx(Vr,{control:c.control,name:"title",render:({field:m})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Task Title"}),u.jsx(xr,{children:u.jsx(Lt,{...m})}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:c.control,name:"description",render:({field:m})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Description"}),u.jsx(xr,{children:u.jsx(vv,{...m})}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:c.control,name:"dob",render:({field:m})=>u.jsxs(wr,{className:"flex flex-col",children:[u.jsx(_r,{children:"Deadline (Optional)"}),u.jsxs(Yd,{children:[u.jsx(Qd,{asChild:!0,children:u.jsx(xr,{children:u.jsxs(Pe,{variant:"outline",className:de("w-[240px] pl-3 text-left font-normal",!m.value&&"text-muted-foreground"),children:[m.value?_s(m.value,"PPP"):u.jsx("span",{children:"No deadline"}),u.jsx(vd,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(jc,{className:"w-auto p-0",align:"start",children:u.jsx(Xm,{mode:"single",selected:m.value,onSelect:m.onChange,disabled:g=>g<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:c.control,name:"category",render:({field:m})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Category"}),u.jsx(xr,{children:u.jsxs(Us,{onValueChange:m.onChange,defaultValue:"",children:[u.jsx(ps,{children:u.jsx($s,{placeholder:"Select a category"})}),u.jsxs(ms,{children:[i.map(g=>u.jsx(on,{value:g.id,children:g.name},g.id)),u.jsx(on,{value:"new",children:"Add new category"})]})]})}),u.jsx(Er,{})]})}),c.watch("category")==="new"&&u.jsx(Vr,{control:c.control,name:"newCategory",render:({field:m})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"New Category Name"}),u.jsx(xr,{children:u.jsx(Lt,{...m,value:s,onChange:g=>o(g.target.value)})}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:c.control,name:"collaborators",render:({field:m})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Collaborators (User Emails)"}),u.jsx(xr,{children:u.jsx(Lt,{...m,value:(m.value||[]).join(","),onChange:g=>m.onChange(g.target.value.split(",").map(x=>x.trim())),placeholder:"Enter comma-separated emails of collaborators"})}),u.jsx(Er,{})]})}),u.jsx(Pe,{type:"submit",children:"Create Task"})]})}),u.jsx(Ji,{})]})]})})}function _te({onCategoryCreated:t,onClose:e}){const{currentUser:n}=Tl(),[r,s]=p.useState(""),[o,i]=p.useState(!1),a=Br(vt,"category"),{toast:l}=ia(),c=async()=>{if(r.trim())try{await Kc(a,{name:r,createdBy:n.uid,tasks:[]}),l({title:"Success",description:"Category created successfully"}),t&&t(),s(""),i(!1)}catch(h){console.error("Error creating category: ",h),l({title:"Error",description:"Failed to create category",variant:"destructive"})}},f=()=>{i(!1),s(""),e&&e()};return u.jsxs(Xi,{open:o,onOpenChange:i,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{children:[u.jsx(ml,{className:"mr-2 h-4 w-4"})," Create Category"]})}),u.jsxs(Fo,{children:[u.jsx(Vo,{children:u.jsx(Uo,{children:"Create Category"})}),u.jsx($o,{children:"Create a category to organize your Space. (Try to keep the title simple and short)."}),u.jsx(Lt,{type:"text",value:r,onChange:h=>s(h.target.value),placeholder:"Category title"}),u.jsxs(Ji,{children:[u.jsx(Pe,{type:"button",onClick:c,children:"Create Category"}),u.jsx(Pe,{type:"button",variant:"outline",onClick:f,children:"Cancel"})]})]})]})}function xte({onFileUploaded:t,onClose:e}){const{currentUser:n}=Tl(),[r,s]=p.useState([]),[o,i]=p.useState(null),[a,l]=p.useState(null),[c,f]=p.useState(!1),[h,m]=p.useState(!1),{toast:g}=ia(),x=async()=>{try{const w=(await Qa(Br(vt,"category"))).docs.map(S=>({id:S.id,...S.data()})).filter(S=>S.createdBy===n.uid);s(w)}catch(b){console.error("Error fetching categories:",b)}},y=async()=>{if(!o||!a){g({title:"Error",description:"Please select a file and a category",variant:"destructive"});return}f(!0);try{const b=n.displayName,E=Wl(Hl,`${b}'s Files/${o.name}`);await A_(E,o);const w=await Ap(E),S=hn(vt,"category",a);await Kn(S,{files:Pp(w)}),i(null),l(null),m(!1),g({title:"Success",description:"File uploaded successfully"}),t&&t()}catch(b){console.error("Error uploading file: ",b),g({title:"Error",description:"Failed to upload file",variant:"destructive"})}finally{f(!1)}};return p.useEffect(()=>{x()},[]),u.jsxs(Xi,{open:h,onOpenChange:m,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{children:[u.jsx(ml,{className:"mr-2 h-4 w-4"})," Upload File"]})}),u.jsxs(Fo,{children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:"Upload File"}),u.jsx($o,{children:"Choose a file to upload and select a category."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx("label",{htmlFor:"file-upload",className:"text-right",children:"File"}),u.jsx(Lt,{id:"file-upload",type:"file",className:"col-span-3",onChange:b=>i(b.target.files[0]),disabled:c})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx("label",{htmlFor:"category",className:"text-right",children:"Category"}),u.jsxs(Us,{onValueChange:l,value:a,disabled:c,children:[u.jsx(ps,{className:"col-span-3",children:u.jsx($s,{placeholder:"Select a category"})}),u.jsx(ms,{children:r.map(b=>u.jsx(on,{value:b.id,children:b.name},b.id))})]})]})]}),u.jsx(Ji,{children:u.jsx(Pe,{type:"submit",onClick:y,disabled:c,children:c?u.jsxs(u.Fragment,{children:[u.jsx(Y0,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):"Upload File"})})]})]})}function Ete(){const[t,e]=p.useState(!1);return u.jsxs(Xi,{open:t,onOpenChange:e,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs("a",{href:"#",className:"group flex h-9 w-9 shrink-0 items-center justify-center gap-2 rounded-full bg-primary text-lg font-semibold text-primary-foreground md:h-8 md:w-8 md:text-base",children:[u.jsx(ml,{className:"h-4 w-4 transition-all group-hover:scale-110"}),u.jsx("span",{className:"sr-only",children:"Acme Inc"})]})}),u.jsxs(Fo,{className:"sm:max-w-[425px] overflow-scroll w-[600px] max-h-[80%]",children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:"SaveSpace"}),u.jsx($o,{children:"Create whatever your heart desire."})]}),u.jsx(wte,{onTaskCreated:()=>e(!1),onClose:()=>e(!1)}),u.jsx(_te,{onCategoryCreated:()=>e(!1),onClose:()=>e(!1)}),u.jsx(xte,{onCategoryCreated:()=>e(!1),onClose:()=>e(!1)}),u.jsx(Ji,{})]})]})}const n2=()=>new Promise(t=>{Gx(Na,e=>{t(!!e)})}),bte=()=>{const t=async()=>{try{await BH(Na),window.location.reload(),console.log("User signed out")}catch(e){console.error(e)}};return u.jsx(Pe,{variant:"destructive",onClick:t,children:"Sign Out"})},Xr=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Xr.displayName="Card";const nl=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));nl.displayName="CardHeader";const Zc=p.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));Zc.displayName="CardTitle";const z_=p.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));z_.displayName="CardDescription";const Zr=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));Zr.displayName="CardContent";const rl=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));rl.displayName="CardFooter";function ib(){return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:u.jsx(Xr,{className:"w-[300px]",children:u.jsxs(Zr,{className:"flex flex-col items-center justify-center p-6",children:[u.jsx(a3,{className:"h-12 w-12 animate-spin text-primary"}),u.jsx("p",{className:"mt-4 text-lg font-semibold text-foreground",children:"Loading..."}),u.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Please wait while we fetch your content."})]})})})}const tp=({href:t,icon:e,label:n})=>u.jsxs(B9,{children:[u.jsx(z9,{asChild:!0,children:u.jsxs(Ww,{to:t,className:"flex h-10 w-10 items-center justify-center rounded-md text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",children:[u.jsx(e,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:n})]})}),u.jsx(wk,{side:"right",children:n})]});function Tte(){var i;const[t,e]=p.useState(null),[n,r]=p.useState(!1),[s,o]=p.useState(!0);return p.useEffect(()=>{const a=Gx(Na,c=>{e(c),o(!1)});return(async()=>{const c=await n2();r(c)})(),()=>a()},[]),s?u.jsx(ib,{}):u.jsx($9,{children:u.jsxs("aside",{className:"fixed inset-y-0 left-0 z-10 flex w-16 flex-col justify-between border-r bg-background p-2",children:[u.jsxs("nav",{className:"flex flex-col items-center space-y-4",children:[u.jsx(Ete,{}),u.jsx(tp,{href:"/",icon:i3,label:"Dashboard"}),u.jsx(tp,{href:"/category",icon:OP,label:"Categories"}),u.jsx(tp,{href:"/todo",icon:bg,label:"Tasks"}),u.jsx(tp,{href:"/files",icon:o3,label:"Files"})]}),u.jsxs("nav",{className:"flex flex-col items-center space-y-4",children:[u.jsx(YS,{}),u.jsxs(Yd,{children:[u.jsx(Qd,{asChild:!0,children:u.jsx("span",{children:u.jsxs(Pe,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-md",children:[u.jsx(bS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"User menu"})]})})}),u.jsx(jc,{className:"w-fill p-4",side:"right",children:n?u.jsxs("div",{className:"flex flex-row items-center justify-center gap-3 ",children:[u.jsxs("div",{className:"flex flex-col gap-2 px-4 items-center  justify-center",children:[u.jsxs(dx,{className:"w-12 h-12",children:[u.jsx(fx,{src:t==null?void 0:t.photoURL}),u.jsx(hx,{children:((i=t==null?void 0:t.displayName)==null?void 0:i[0])||u.jsx(bS,{})})]}),u.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.displayName})]}),u.jsxs("div",{className:"flex flex-col gap-2 px-4",children:[u.jsx(Ww,{to:"/profile",className:"w-full",children:u.jsx(Pe,{variant:"outline",className:"w-full",children:"Profile"})}),u.jsx(bte,{})]})]}):u.jsx(Ww,{to:"/auth",className:"w-full",children:u.jsx(Pe,{className:"w-full",children:"Sign In"})})})]}),u.jsxs(Yd,{children:[u.jsx(Qd,{asChild:!0,children:u.jsx("span",{children:u.jsxs(Pe,{variant:"ghost",size:"icon",className:"h-10 w-fill rounded-md",children:[u.jsx(u3,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Settings"})]})})}),u.jsx(jc,{className:"w-fit p-4 pr-8 pl-8 ",side:"right",children:u.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center",children:[u.jsx("h3",{className:"text-sm font-medium",children:"Settings"}),u.jsx(YS,{})]})})]})]})]})})}var ab="ToastProvider",[lb,Ste,Cte]=Fg("Toast"),[r2,hre]=Jr("Toast",[Cte]),[Ite,bv]=r2(ab),s2=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=p.useState(null),[c,f]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ab}\`. Expected non-empty \`string\`.`),u.jsx(lb.Provider,{scope:e,children:u.jsx(Ite,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>f(g=>g+1),[]),onToastRemove:p.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};s2.displayName=ab;var o2="ToastViewport",Rte=["F8"],W_="toast.viewportPause",H_="toast.viewportResume",i2=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Rte,label:s="Notifications ({hotkey})",...o}=t,i=bv(o2,n),a=Ste(n),l=p.useRef(null),c=p.useRef(null),f=p.useRef(null),h=p.useRef(null),m=We(e,h,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;p.useEffect(()=>{const b=E=>{var S;r.length!==0&&r.every(C=>E[C]||E.code===C)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=l.current,E=h.current;if(x&&b&&E){const w=()=>{if(!i.isClosePausedRef.current){const V=new CustomEvent(W_);E.dispatchEvent(V),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const V=new CustomEvent(H_);E.dispatchEvent(V),i.isClosePausedRef.current=!1}},C=V=>{!b.contains(V.relatedTarget)&&S()},O=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",C),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[x,i.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:b})=>{const w=a().map(S=>{const C=S.ref.current,O=[C,...$te(C)];return b==="forwards"?O:O.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const b=h.current;if(b){const E=w=>{var O,V,R;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const _=document.activeElement,I=w.shiftKey;if(w.target===b&&I){(O=c.current)==null||O.focus();return}const N=y({tabbingDirection:I?"backwards":"forwards"}),k=N.findIndex(B=>B===_);Yy(N.slice(k+1))?w.preventDefault():I?(V=c.current)==null||V.focus():(R=f.current)==null||R.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[a,y]),u.jsxs(I3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(q_,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Yy(b)}}),u.jsx(lb.Slot,{scope:n,children:u.jsx(Ce.ol,{tabIndex:-1,...o,ref:m})}),x&&u.jsx(q_,{ref:f,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Yy(b)}})]})});i2.displayName=o2;var a2="ToastFocusProxy",q_=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=bv(a2,n);return u.jsx(kf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});q_.displayName=a2;var Tv="Toast",Pte="toast.swipeStart",kte="toast.swipeMove",Ate="toast.swipeCancel",Nte="toast.swipeEnd",l2=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a=!0,l]=Xs({prop:r,defaultProp:s,onChange:o});return u.jsx(mn,{present:n||a,children:u.jsx(Mte,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:jt(t.onPause),onResume:jt(t.onResume),onSwipeStart:se(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,c=>{const{x:f,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,c=>{const{x:f,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});l2.displayName=Tv;var[Dte,Ote]=r2(Tv,{onClose(){}}),Mte=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...x}=t,y=bv(Tv,n),[b,E]=p.useState(null),w=We(e,B=>E(B)),S=p.useRef(null),C=p.useRef(null),O=s||y.duration,V=p.useRef(0),R=p.useRef(O),_=p.useRef(0),{onToastAdd:I,onToastRemove:P}=y,D=jt(()=>{var Y;(b==null?void 0:b.contains(document.activeElement))&&((Y=y.viewport)==null||Y.focus()),i()}),N=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(_.current),V.current=new Date().getTime(),_.current=window.setTimeout(D,B))},[D]);p.useEffect(()=>{const B=y.viewport;if(B){const Y=()=>{N(R.current),c==null||c()},X=()=>{const j=new Date().getTime()-V.current;R.current=R.current-j,window.clearTimeout(_.current),l==null||l()};return B.addEventListener(W_,X),B.addEventListener(H_,Y),()=>{B.removeEventListener(W_,X),B.removeEventListener(H_,Y)}}},[y.viewport,O,l,c,N]),p.useEffect(()=>{o&&!y.isClosePausedRef.current&&N(O)},[o,O,y.isClosePausedRef,N]),p.useEffect(()=>(I(),()=>P()),[I,P]);const k=p.useMemo(()=>b?m2(b):null,[b]);return y.viewport?u.jsxs(u.Fragment,{children:[k&&u.jsx(jte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),u.jsx(Dte,{scope:n,onClose:D,children:qi.createPortal(u.jsx(lb.ItemSlot,{scope:n,children:u.jsx(C3,{asChild:!0,onEscapeKeyDown:se(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:se(t.onPointerMove,B=>{if(!S.current)return;const Y=B.clientX-S.current.x,X=B.clientY-S.current.y,j=!!C.current,M=["left","right"].includes(y.swipeDirection),$=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,G=M?$(0,Y):0,re=M?0:$(0,X),me=B.pointerType==="touch"?10:2,Ee={x:G,y:re},Be={originalEvent:B,delta:Ee};j?(C.current=Ee,np(kte,h,Be,{discrete:!1})):K1(Ee,y.swipeDirection,me)?(C.current=Ee,np(Pte,f,Be,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Y)>me||Math.abs(X)>me)&&(S.current=null)}),onPointerUp:se(t.onPointerUp,B=>{const Y=C.current,X=B.target;if(X.hasPointerCapture(B.pointerId)&&X.releasePointerCapture(B.pointerId),C.current=null,S.current=null,Y){const j=B.currentTarget,M={originalEvent:B,delta:Y};K1(Y,y.swipeDirection,y.swipeThreshold)?np(Nte,g,M,{discrete:!0}):np(Ate,m,M,{discrete:!0}),j.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),jte=t=>{const{__scopeToast:e,children:n,...r}=t,s=bv(Tv,e),[o,i]=p.useState(!1),[a,l]=p.useState(!1);return Vte(()=>i(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(uu,{asChild:!0,children:u.jsx(kf,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},Lte="ToastTitle",c2=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ce.div,{...r,ref:e})});c2.displayName=Lte;var Fte="ToastDescription",u2=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ce.div,{...r,ref:e})});u2.displayName=Fte;var d2="ToastAction",f2=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(p2,{altText:n,asChild:!0,children:u.jsx(cb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${d2}\`. Expected non-empty \`string\`.`),null)});f2.displayName=d2;var h2="ToastClose",cb=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Ote(h2,n);return u.jsx(p2,{asChild:!0,children:u.jsx(Ce.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});cb.displayName=h2;var p2=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function m2(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ute(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...m2(r))}}),e}function np(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?J0(s,o):s.dispatchEvent(o)}var K1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function Vte(t=()=>{}){const e=jt(t);un(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Ute(t){return t.nodeType===t.ELEMENT_NODE}function $te(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Bte=s2,g2=i2,v2=l2,y2=c2,w2=u2,_2=f2,x2=cb;const zte=Bte,E2=p.forwardRef(({className:t,...e},n)=>u.jsx(g2,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));E2.displayName=g2.displayName;const Wte=Mf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b2=p.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(v2,{ref:r,className:de(Wte({variant:e}),t),...n}));b2.displayName=v2.displayName;const Hte=p.forwardRef(({className:t,...e},n)=>u.jsx(_2,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Hte.displayName=_2.displayName;const T2=p.forwardRef(({className:t,...e},n)=>u.jsx(x2,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(X0,{className:"h-4 w-4"})}));T2.displayName=x2.displayName;const S2=p.forwardRef(({className:t,...e},n)=>u.jsx(y2,{ref:n,className:de("text-sm font-semibold",t),...e}));S2.displayName=y2.displayName;const C2=p.forwardRef(({className:t,...e},n)=>u.jsx(w2,{ref:n,className:de("text-sm opacity-90",t),...e}));C2.displayName=w2.displayName;function qte(){const{toasts:t}=ia();return u.jsxs(zte,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return u.jsxs(b2,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(S2,{children:n}),r&&u.jsx(C2,{children:r})]}),s,u.jsx(T2,{})]},e)}),u.jsx(E2,{})]})}function Kte(){return u.jsx(u.Fragment,{children:u.jsxs(k6,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[u.jsx(Tte,{}),u.jsxs("div",{className:"ml-[56px] ",children:[u.jsx(PU,{}),u.jsx(qte,{})]})]})})}const Gte=()=>{const{pathname:t}=au();return p.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Ul=({element:t,isRestricted:e})=>{const[n,r]=p.useState(null),[s,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const a=await n2();r(a)}catch(a){console.error("Error checking user authentication",a),r(!1)}finally{o(!1)}})()},[]),s?u.jsx("div",{children:"Loading..."}):e&&n?u.jsx(vS,{to:"/"}):!e&&!n?u.jsx(vS,{to:"/auth"}):t};var ub="Tabs",[Yte,pre]=Jr(ub,[Ug]),I2=Ug(),[Qte,db]=Yte(ub),R2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=t,f=jf(a),[h,m]=Xs({prop:r,onChange:s,defaultProp:o});return u.jsx(Qte,{scope:n,baseId:Wr(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:l,children:u.jsx(Ce.div,{dir:f,"data-orientation":i,...c,ref:e})})});R2.displayName=ub;var P2="TabsList",k2=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=db(P2,n),i=I2(n);return u.jsx(eA,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(Ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});k2.displayName=P2;var A2="TabsTrigger",N2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=db(A2,n),a=I2(n),l=M2(i.baseId,r),c=j2(i.baseId,r),f=r===i.value;return u.jsx(tA,{asChild:!0,...a,focusable:!s,active:f,children:u.jsx(Ce.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:e,onMouseDown:se(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(r)})})})});N2.displayName=A2;var D2="TabsContent",O2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,a=db(D2,n),l=M2(a.baseId,r),c=j2(a.baseId,r),f=r===a.value,h=p.useRef(f);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),u.jsx(mn,{present:s||f,children:({present:m})=>u.jsx(Ce.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});O2.displayName=D2;function M2(t,e){return`${t}-trigger-${e}`}function j2(t,e){return`${t}-content-${e}`}var Xte=R2,L2=k2,F2=N2,V2=O2;const fb=Xte,Sv=p.forwardRef(({className:t,...e},n)=>u.jsx(L2,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Sv.displayName=L2.displayName;const sl=p.forwardRef(({className:t,...e},n)=>u.jsx(F2,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));sl.displayName=F2.displayName;const ol=p.forwardRef(({className:t,...e},n)=>u.jsx(V2,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ol.displayName=V2.displayName;const Zte=Mf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),K_=p.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:de(Zte({variant:e}),t),...n}));K_.displayName="Alert";const G_=p.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));G_.displayName="AlertTitle";const Jte=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));Jte.displayName="AlertDescription";var U2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G1=$e.createContext&&$e.createContext(U2),ene=["attr","size","title"];function tne(t,e){if(t==null)return{};var n=nne(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return e=sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $2(t){return t&&t.map((e,n)=>$e.createElement(e.tag,Jm({key:n},e.attr),$2(e.child)))}function ine(t){return e=>$e.createElement(ane,Zm({attr:Jm({},t.attr)},e),$2(t.child))}function ane(t){var e=n=>{var{attr:r,size:s,title:o}=t,i=tne(t,ene),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),$e.createElement("svg",Zm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:l,style:Jm(Jm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&$e.createElement("title",null,o),t.children)};return G1!==void 0?$e.createElement(G1.Consumer,null,n=>e(n)):e(U2)}function Q1(t){return ine({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function lne(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,o]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(""),[f,h]=p.useState(""),[m,g]=p.useState(""),x=C=>C.length===0?(c("Name is required"),!1):(c(""),!0),y=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C)?(h(""),!0):(h("Please enter a valid email address"),!1),b=C=>C.length<6?(g("Password must be at least 6 characters long"),!1):(g(""),!0),E=async()=>{a("");const C=x(n),O=y(t),V=b(s);if(!(!C||!O||!V))try{const _=(await LH(Na,t,s)).user;await TD(_,{displayName:n}),console.log("user:",_),window.location.href="/"}catch(R){const _=R.code.split("/")[1].split("-").join(" ");a(_),console.log("error:",_)}},w=async()=>{try{a("");const O=(await FH(Na,t,s)).user;console.log("user:",O),window.location.href="/"}catch(C){a(C.message)}},S=async()=>{try{a("");const O=(await l7(Na,bQ)).user;console.log("user:",O),window.location.href="/"}catch(C){a(C.message)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-primary",children:"SaveSpace"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Secure your digital world"})]}),u.jsxs(fb,{defaultValue:"Sign In",className:"space-y-6",children:[u.jsxs(Sv,{className:"grid w-full grid-cols-2",children:[u.jsx(sl,{value:"Sign Up",children:"Sign Up"}),u.jsx(sl,{value:"Sign In",children:"Sign In"})]}),u.jsx(ol,{value:"Sign Up",children:u.jsxs(Xr,{children:[u.jsxs(nl,{children:[u.jsx(Zc,{className:"text-2xl font-semibold text-center",children:"Create an Account"}),u.jsx(z_,{className:"text-center",children:"Join SaveSpace today"})]}),u.jsxs(Zr,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Lt,{type:"text",placeholder:"Name",onChange:C=>{r(C.target.value),x(C.target.value)},value:n}),l&&u.jsx("p",{className:"text-destructive text-sm mt-1",children:l})]}),u.jsxs("div",{children:[u.jsx(Lt,{type:"email",placeholder:"Email",onChange:C=>{e(C.target.value),y(C.target.value)},value:t}),f&&u.jsx("p",{className:"text-destructive text-sm mt-1",children:f})]}),u.jsxs("div",{children:[u.jsx(Lt,{type:"password",placeholder:"Password",onChange:C=>{o(C.target.value),b(C.target.value)},value:s}),m&&u.jsx("p",{className:"text-destructive text-sm mt-1",children:m})]}),i&&u.jsxs(K_,{variant:"destructive",children:[u.jsx(ES,{className:"h-5 w-5"}),u.jsx(G_,{children:i})]})]}),u.jsxs(rl,{className:"flex flex-col space-y-3",children:[u.jsx(Pe,{className:"w-full",onClick:E,children:"Sign Up"}),u.jsxs("div",{className:"relative w-full",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t"})}),u.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:u.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(Pe,{variant:"outline",className:"w-full",onClick:S,children:[u.jsx(Q1,{className:"mr-2 h-4 w-4"})," Google"]})]})]})}),u.jsx(ol,{value:"Sign In",children:u.jsxs(Xr,{children:[u.jsxs(nl,{children:[u.jsx(Zc,{className:"text-2xl font-semibold text-center",children:"Welcome Back"}),u.jsx(z_,{className:"text-center",children:"Sign in to your SaveSpace account"})]}),u.jsxs(Zr,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Lt,{type:"email",placeholder:"Email",onChange:C=>{e(C.target.value),y(C.target.value)},value:t}),f&&u.jsx("p",{className:"text-destructive text-sm mt-1",children:f})]}),u.jsxs("div",{children:[u.jsx(Lt,{type:"password",placeholder:"Password",onChange:C=>{o(C.target.value),b(C.target.value)},value:s}),m&&u.jsx("p",{className:"text-destructive text-sm mt-1",children:m})]}),i&&u.jsxs(K_,{variant:"destructive",children:[u.jsx(ES,{className:"h-5 w-5"}),u.jsx(G_,{children:i})]})]}),u.jsxs(rl,{className:"flex flex-col space-y-3",children:[u.jsx(Pe,{className:"w-full",onClick:w,children:"Sign In"}),u.jsxs("div",{className:"relative w-full",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t"})}),u.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:u.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(Pe,{variant:"outline",className:"w-full",onClick:S,children:[u.jsx(Q1,{className:"mr-2 h-4 w-4"})," Google"]})]})]})})]})]})})}function cne(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var hb="ScrollArea",[B2,mre]=Jr(hb),[une,ts]=B2(hb),pb=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=t,[a,l]=p.useState(null),[c,f]=p.useState(null),[h,m]=p.useState(null),[g,x]=p.useState(null),[y,b]=p.useState(null),[E,w]=p.useState(0),[S,C]=p.useState(0),[O,V]=p.useState(!1),[R,_]=p.useState(!1),I=We(e,D=>l(D)),P=jf(s);return u.jsx(une,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:f,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:O,onScrollbarXEnabledChange:V,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:_,onCornerWidthChange:w,onCornerHeightChange:C,children:u.jsx(Ce.div,{dir:P,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});pb.displayName=hb;var z2="ScrollAreaViewport",W2=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=t,a=ts(z2,n),l=p.useRef(null),c=We(e,l,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),u.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:_ne({asChild:s,children:r},f=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});W2.displayName=z2;var so="ScrollAreaScrollbar",mb=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ts(so,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=t.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?u.jsx(dne,{...r,ref:e,forceMount:n}):s.type==="scroll"?u.jsx(fne,{...r,ref:e,forceMount:n}):s.type==="auto"?u.jsx(H2,{...r,ref:e,forceMount:n}):s.type==="always"?u.jsx(gb,{...r,ref:e}):null});mb.displayName=so;var dne=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ts(so,t.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},f=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(mn,{present:n||o,children:u.jsx(H2,{"data-state":o?"visible":"hidden",...r,ref:e})})}),fne=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ts(so,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Iv(()=>l("SCROLL_END"),100),[a,l]=cne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,f=o?"scrollLeft":"scrollTop";if(c){let h=c[f];const m=()=>{const g=c[f];h!==g&&(l("SCROLL"),i()),h=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[s.viewport,o,l,i]),u.jsx(mn,{present:n||a!=="hidden",children:u.jsx(gb,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:se(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),H2=p.forwardRef((t,e)=>{const n=ts(so,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,i]=p.useState(!1),a=t.orientation==="horizontal",l=Iv(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:f)}},10);return Jc(n.viewport,l),Jc(n.content,l),u.jsx(mn,{present:r||o,children:u.jsx(gb,{"data-state":o?"visible":"hidden",...s,ref:e})})}),gb=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ts(so,t.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Q2(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,g){return yne(m,i.current,a,g)}return n==="horizontal"?u.jsx(hne,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,g=X1(m,a,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?u.jsx(pne,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,g=X1(m,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),hne=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=ts(so,t.__scopeScrollArea),[i,a]=p.useState(),l=p.useRef(null),c=We(e,l,o.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(K2,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cv(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),Z2(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:tg(i.paddingLeft),paddingEnd:tg(i.paddingRight)}})}})}),pne=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=ts(so,t.__scopeScrollArea),[i,a]=p.useState(),l=p.useRef(null),c=We(e,l,o.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(K2,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cv(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),Z2(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:tg(i.paddingTop),paddingEnd:tg(i.paddingBottom)}})}})}),[mne,q2]=B2(so),K2=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:h,...m}=t,g=ts(so,n),[x,y]=p.useState(null),b=We(e,I=>y(I)),E=p.useRef(null),w=p.useRef(""),S=g.viewport,C=r.content-r.viewport,O=jt(f),V=jt(l),R=Iv(h,10);function _(I){if(E.current){const P=I.clientX-E.current.left,D=I.clientY-E.current.top;c({x:P,y:D})}}return p.useEffect(()=>{const I=P=>{const D=P.target;(x==null?void 0:x.contains(D))&&O(P,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,x,C,O]),p.useEffect(V,[r,V]),Jc(x,R),Jc(g.content,R),u.jsx(mne,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:jt(o),onThumbPointerUp:jt(i),onThumbPositionChange:V,onThumbPointerDown:jt(a),children:u.jsx(Ce.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:se(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),E.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(I))}),onPointerMove:se(t.onPointerMove,_),onPointerUp:se(t.onPointerUp,I=>{const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),E.current=null})})})}),eg="ScrollAreaThumb",G2=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=q2(eg,t.__scopeScrollArea);return u.jsx(mn,{present:n||s.hasThumb,children:u.jsx(gne,{ref:e,...r})})}),gne=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=ts(eg,n),i=q2(eg,n),{onThumbPositionChange:a}=i,l=We(e,h=>i.onThumbChange(h)),c=p.useRef(),f=Iv(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(f(),!c.current){const g=wne(h,a);c.current=g,a()}};return a(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,f,a]),u.jsx(Ce.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),x=h.clientX-g.left,y=h.clientY-g.top;i.onThumbPointerDown({x,y})}),onPointerUp:se(t.onPointerUp,i.onThumbPointerUp)})});G2.displayName=eg;var vb="ScrollAreaCorner",Y2=p.forwardRef((t,e)=>{const n=ts(vb,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(vne,{...t,ref:e}):null});Y2.displayName=vb;var vne=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ts(vb,n),[o,i]=p.useState(0),[a,l]=p.useState(0),c=!!(o&&a);return Jc(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),l(f)}),Jc(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),c?u.jsx(Ce.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tg(t){return t?parseInt(t,10):0}function Q2(t,e){const n=t/e;return isNaN(n)?0:n}function Cv(t){const e=Q2(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function yne(t,e,n,r="ltr"){const s=Cv(n),o=s/2,i=e||o,a=s-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return X2([l,c],h)(t)}function X1(t,e,n="ltr"){const r=Cv(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],c=j_(t,l);return X2([0,i],[0,a])(c)}function X2(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Z2(t,e){return t>0&&t<e}var wne=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&e(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Iv(t,e){const n=jt(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Jc(t,e){const n=jt(e);un(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function _ne(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var J2=pb,xne=W2,Ene=Y2;const bne=[{name:"--background",className:"bg-background"},{name:"--foreground",className:"bg-foreground"},{name:"--card",className:"bg-card"},{name:"--card-foreground",className:"bg-card-foreground"},{name:"--popover",className:"bg-popover"},{name:"--popover-foreground",className:"bg-popover-foreground"},{name:"--primary",className:"bg-primary"},{name:"--primary-foreground",className:"bg-primary-foreground"},{name:"--secondary",className:"bg-secondary"},{name:"--secondary-foreground",className:"bg-secondary-foreground"},{name:"--muted",className:"bg-muted"},{name:"--muted-foreground",className:"bg-muted-foreground"},{name:"--accent",className:"bg-accent"},{name:"--accent-foreground",className:"bg-accent-foreground"},{name:"--destructive",className:"bg-destructive"},{name:"--destructive-foreground",className:"bg-destructive-foreground"},{name:"--border",className:"bg-border"},{name:"--input",className:"bg-input"},{name:"--ring",className:"bg-ring"},{name:"--radius",className:"bg-radius"},{name:"--chart-1",className:"bg-chart-1"},{name:"--chart-2",className:"bg-chart-2"},{name:"--chart-3",className:"bg-chart-3"},{name:"--chart-4",className:"bg-chart-4"},{name:"--chart-5",className:"bg-chart-5"}];function Tne(){const{toast:t}=ia(),e=()=>{t({title:"Uh oh! Something went wrong.",description:"There was a problem with your request."})};return u.jsxs("div",{className:"flex flex-col gap-4 ",children:[u.jsx("h1",{className:"text-3xl font-bold text-left",children:"Dashboard"}),u.jsx(Pe,{onClick:e,children:"Show Toast"}),u.jsx(pb,{className:"max-h-60 overflow-y-auto border rounded-md",children:u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-lg font-bold mb-2",children:"Color Palette"}),u.jsxs("table",{className:"min-w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border p-2",children:"Color Name"}),u.jsx("th",{className:"border p-2",children:"Class Name"}),u.jsx("th",{className:"border p-2",children:"Swatch"})]})}),u.jsx("tbody",{children:bne.map((n,r)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border p-2",children:n.name}),u.jsx("td",{className:"border p-2",children:n.className}),u.jsx("td",{className:`border p-2 ${n.className} h-8 w-8`})]},r))})]})]})})]})}function Sne(){return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-background text-foreground m-32",children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"404"}),u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Not Found"}),u.jsx("p",{className:"text-muted-foreground mb-8 text-center max-w-md",children:"Oops! The page you're looking for doesn't exist or has been moved."}),u.jsx(Pe,{asChild:!0,children:u.jsx("a",{href:"/",children:"Return to Home"})})]})}function Cne(){var c;const[t,e]=p.useState(!0),{currentUser:n}=Tl(),[r,s]=p.useState(!1),[o,i]=p.useState({displayName:(n==null?void 0:n.displayName)||"",photoURL:(n==null?void 0:n.photoURL)||"",bio:(n==null?void 0:n.bio)||"",favoriteFood:(n==null?void 0:n.favoriteFood)||""});p.useEffect(()=>{if(n){const f=c_();hC(f,{favorite_food:n.favoriteFood||"Not set"}),e(!1)}},[n]);const a=f=>{const{name:h,value:m}=f.target;i(g=>({...g,[h]:m}))},l=async()=>{if(n){s(!0);try{await TD(n,{displayName:o.displayName,photoURL:o.photoURL});const f=hn(vt,"users",n.uid);await JG(f,{bio:o.bio,favoriteFood:o.favoriteFood},{merge:!0});const h=c_();hC(h,{favorite_food:o.favoriteFood}),await n.reload(),alert("Profile updated successfully.")}catch(f){console.error("Error updating profile:",f),alert("Error updating profile.")}finally{s(!1)}}};return t?u.jsx(ib,{}):u.jsxs(Xr,{className:"w-full max-w-3xl mx-auto",children:[u.jsxs(nl,{className:"flex flex-col items-center space-y-4",children:[u.jsxs(dx,{className:"w-32 h-32",children:[u.jsx(fx,{src:n.photoURL||"",alt:n.displayName||""}),u.jsx(hx,{children:((c=n.displayName)==null?void 0:c.charAt(0))||"U"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-3xl font-bold",children:n.displayName}),u.jsx("p",{className:"text-muted-foreground",children:"Software Developer"})]})]}),u.jsxs(Zr,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(l3,{className:"text-muted-foreground",size:18}),u.jsx("span",{children:n.email})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vd,{className:"text-muted-foreground",size:18}),u.jsx("span",{children:"Joined January 2023"})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Bio"}),u.jsx("p",{className:"text-muted-foreground",children:n.bio||o.bio})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Favorite Food"}),u.jsx("p",{className:"text-muted-foreground",children:n.favoriteFood||o.favoriteFood||"Not set"})]})]}),u.jsxs(rl,{className:"flex justify-between",children:[u.jsx(Pe,{variant:"outline",children:"Message"}),u.jsxs(Xi,{children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{children:[u.jsx(If,{className:"mr-2 h-4 w-4"})," Edit Profile"]})}),u.jsxs(Fo,{className:"sm:max-w-[425px]",children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:"Edit Profile"}),u.jsx($o,{children:"Update your profile information below."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(vi,{htmlFor:"displayName",className:"text-right",children:"Name"}),u.jsx(Lt,{id:"displayName",name:"displayName",value:o.displayName,onChange:a,className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(vi,{htmlFor:"photoURL",className:"text-right",children:"Photo URL"}),u.jsx(Lt,{id:"photoURL",name:"photoURL",value:o.photoURL,onChange:a,className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(vi,{htmlFor:"bio",className:"text-right",children:"Bio"}),u.jsx(vv,{id:"bio",name:"bio",value:o.bio,onChange:a,className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(vi,{htmlFor:"favoriteFood",className:"text-right",children:"Favorite Food"}),u.jsx(Lt,{id:"favoriteFood",name:"favoriteFood",value:o.favoriteFood,onChange:a,className:"col-span-3"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Pe,{onClick:l,disabled:r,children:r?u.jsxs(u.Fragment,{children:[u.jsx(Y0,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Save Changes"})})]})]})]})]})}var eL="AlertDialog",[Ine,gre]=Jr(eL,[ZA]),zo=ZA(),tL=t=>{const{__scopeAlertDialog:e,...n}=t,r=zo(e);return u.jsx(pN,{...r,...n,modal:!0})};tL.displayName=eL;var Rne="AlertDialogTrigger",nL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zo(n);return u.jsx(mN,{...s,...r,ref:e})});nL.displayName=Rne;var Pne="AlertDialogPortal",rL=t=>{const{__scopeAlertDialog:e,...n}=t,r=zo(e);return u.jsx(gN,{...r,...n})};rL.displayName=Pne;var kne="AlertDialogOverlay",sL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zo(n);return u.jsx(Rx,{...s,...r,ref:e})});sL.displayName=kne;var Tc="AlertDialogContent",[Ane,Nne]=Ine(Tc),oL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=zo(n),i=p.useRef(null),a=We(e,i),l=p.useRef(null);return u.jsx(L6,{contentName:Tc,titleName:iL,docsSlug:"alert-dialog",children:u.jsx(Ane,{scope:n,cancelRef:l,children:u.jsxs(Px,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:se(s.onOpenAutoFocus,c=>{var f;c.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Z0,{children:r}),u.jsx(One,{contentRef:i})]})})})});oL.displayName=Tc;var iL="AlertDialogTitle",aL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zo(n);return u.jsx(kx,{...s,...r,ref:e})});aL.displayName=iL;var lL="AlertDialogDescription",cL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zo(n);return u.jsx(Ax,{...s,...r,ref:e})});cL.displayName=lL;var Dne="AlertDialogAction",uL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zo(n);return u.jsx(Nx,{...s,...r,ref:e})});uL.displayName=Dne;var dL="AlertDialogCancel",fL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Nne(dL,n),o=zo(n),i=We(e,s);return u.jsx(Nx,{...o,...r,ref:i})});fL.displayName=dL;var One=({contentRef:t})=>{const e=`\`${Tc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Tc}\` by passing a \`${lL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Tc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Mne=tL,jne=nL,Lne=rL,hL=sL,pL=oL,mL=uL,gL=fL,vL=aL,yL=cL;const eu=Mne,tu=jne,Fne=Lne,wL=p.forwardRef(({className:t,...e},n)=>u.jsx(hL,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));wL.displayName=hL.displayName;const il=p.forwardRef(({className:t,...e},n)=>u.jsxs(Fne,{children:[u.jsx(wL,{}),u.jsx(pL,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));il.displayName=pL.displayName;const al=({className:t,...e})=>u.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});al.displayName="AlertDialogHeader";const ll=({className:t,...e})=>u.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ll.displayName="AlertDialogFooter";const cl=p.forwardRef(({className:t,...e},n)=>u.jsx(vL,{ref:n,className:de("text-lg font-semibold",t),...e}));cl.displayName=vL.displayName;const ul=p.forwardRef(({className:t,...e},n)=>u.jsx(yL,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));ul.displayName=yL.displayName;const dl=p.forwardRef(({className:t,...e},n)=>u.jsx(mL,{ref:n,className:de(Xd(),t),...e}));dl.displayName=mL.displayName;const fl=p.forwardRef(({className:t,...e},n)=>u.jsx(gL,{ref:n,className:de(Xd({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));fl.displayName=gL.displayName;var yb="Checkbox",[Vne,vre]=Jr(yb),[Une,$ne]=Vne(yb),_L=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:f,...h}=t,[m,g]=p.useState(null),x=We(e,C=>g(C)),y=p.useRef(!1),b=m?f||!!m.closest("form"):!0,[E=!1,w]=Xs({prop:s,defaultProp:o,onChange:c}),S=p.useRef(E);return p.useEffect(()=>{const C=m==null?void 0:m.form;if(C){const O=()=>w(S.current);return C.addEventListener("reset",O),()=>C.removeEventListener("reset",O)}},[m,w]),u.jsxs(Une,{scope:n,state:E,disabled:a,children:[u.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Pi(E)?"mixed":E,"aria-required":i,"data-state":bL(E),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:x,onKeyDown:se(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:se(t.onClick,C=>{w(O=>Pi(O)?!0:!O),b&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),b&&u.jsx(Bne,{control:m,bubbles:!y.current,name:r,value:l,checked:E,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Pi(o)?!1:o})]})});_L.displayName=yb;var xL="CheckboxIndicator",EL=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=$ne(xL,n);return u.jsx(mn,{present:r||Pi(o.state)||o.state===!0,children:u.jsx(Ce.span,{"data-state":bL(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});EL.displayName=xL;var Bne=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...o}=t,i=p.useRef(null),a=JM(n),l=YP(e);p.useEffect(()=>{const f=i.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&g){const x=new Event("click",{bubbles:r});f.indeterminate=Pi(n),g.call(f,Pi(n)?!1:n),f.dispatchEvent(x)}},[a,n,r]);const c=p.useRef(Pi(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...o,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pi(t){return t==="indeterminate"}function bL(t){return Pi(t)?"indeterminate":t?"checked":"unchecked"}var TL=_L,zne=EL;const SL=p.forwardRef(({className:t,...e},n)=>u.jsx(TL,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(zne,{className:de("flex items-center justify-center text-current"),children:u.jsx(K0,{className:"h-4 w-4"})})}));SL.displayName=TL.displayName;const Wne=Mf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lc({className:t,variant:e,...n}){return u.jsx("div",{className:de(Wne({variant:e}),t),...n})}const Hne=rr.object({title:rr.string().min(1,"Task title is required."),description:rr.string().optional(),dob:rr.date().optional(),category:rr.string().min(1,"Category is required."),collaborators:rr.array(rr.string()).optional()});function qne(){const{currentUser:t}=Tl(),[e,n]=p.useState([]),[r,s]=p.useState([]),[o,i]=p.useState([]),[a,l]=p.useState(!1),[c,f]=p.useState(null),[h,m]=p.useState("notDone"),[g,x]=p.useState(""),[y,b]=p.useState(null),[E,w]=p.useState("soonest"),[S,C]=p.useState(""),[O,V]=p.useState(null),{toast:R}=ia(),_=MM({resolver:KM(Hne),defaultValues:{title:"",description:"",dob:void 0,category:""}}),I=async()=>{try{const M=(await Qa(Br(vt,"todoList"))).docs.map($=>{const G=$.data(),re=G.deadline?new Date(G.deadline.seconds*1e3):null;return{id:$.id,...G,deadline:re}}).filter($=>$.createdBy===t.uid||$.collaborators&&$.collaborators.includes(t.email));n(M)}catch(j){console.error("Error fetching todos:",j)}},P=async()=>{try{const M=(await Qa(Br(vt,"category"))).docs.map(G=>({id:G.id,...G.data()})),$=M.filter(G=>G.createdBy===t.uid);s(M),i($)}catch(j){console.error("Error fetching categories:",j)}};p.useEffect(()=>{I(),P()},[]);async function D(j){const M=j.dob?Xt.fromDate(j.dob):null,$=t.uid;try{let G=j.category;j.category==="new"&&S.trim()!==""&&(G=(await Kc(Br(vt,"category"),{name:S,createdBy:$,collaborators:[],tasks:[]})).id,await P());const re=j.collaborators||[];if(c){const me=hn(vt,"todoList",c.id),Ee=await Xh(me);if(Ee.exists()){const Be=Ee.data().collaborators||[],ht=Array.from(new Set([...Be,...re])),He=Ee.data().category;if(He&&He!==G){const Ye=hn(vt,"category",He),je=await Xh(Ye);if(je.exists()){const Xe=(je.data().tasks||[]).filter(Dt=>Dt!==c.id);await Kn(Ye,{tasks:Xe})}}await Kn(me,{title:j.title,description:j.description,deadline:M,category:G,collaborators:ht});const ue=hn(vt,"category",G),Me=await Xh(ue);if(Me.exists()){const Ye=Me.data().tasks||[];Ye.includes(c.id)||await Kn(ue,{tasks:[...Ye,c.id]})}}R({title:"Task Updated!",description:"Task has been updated successfully."})}else{const me=await Kc(Br(vt,"todoList"),{title:j.title,description:j.description,done:!1,deadline:M,category:G,createdBy:$,collaborators:re}),Ee=hn(vt,"category",G),Be=await Xh(Ee),ht=Be.exists()?Be.data().tasks||[]:[];await Kn(Ee,{tasks:[...ht,me.id]}),R({title:"Task created !",description:"You can view your task in the task page."})}await I(),_.reset(),l(!1),f(null),C("")}catch(G){console.error("Error submitting todo: ",G),R({title:"Error!",description:"An error occurred while saving the task.",variant:"destructive"})}}const N=async(j,M)=>{try{await Kn(hn(vt,"todoList",j),{done:!M}),await I(),R({title:M?"You can do it!":"Well done! Keep it up!",description:M?"Always there is a second chance.":"One down, many more to go."})}catch($){console.error("Error updating todo:",$),R({title:"Error!",description:"An error occurred while updating the task.",variant:"destructive"})}},k=async(j,M)=>{try{await kE(hn(vt,"todoList",j));const $=hn(vt,"category",M),G=r.find(re=>re.id===M);G&&await Kn($,{tasks:G.tasks.filter(re=>re!==j)}),await I(),await P(),R({title:"Task deleted!",description:"Task has been deleted successfully."})}catch($){console.error("Error deleting todo:",$),R({title:"Error!",description:"An error occurred while deleting the task.",variant:"destructive"})}},B=j=>{f(j),_.reset({title:j.title,description:j.description,dob:j.deadline,category:j.category}),l(!0)},Y=async(j,M)=>{try{const $=hn(vt,"todoList",j);await Kn($,{collaborators:kp(M)}),await I(),console.log("collaboratorId",M),R({title:"Colaboration removed!",description:"You have been removed from the task collaborators."})}catch($){console.error("Error deleting collaborator:",$)}},X=e.filter(j=>{const M=!O||j.category===O,$=h==="all"||h==="done"&&j.done||h==="notDone"&&!j.done,G=j.title.toLowerCase().includes(g.toLowerCase()),re=!y||j.deadline&&(AJ(j.deadline,y)||XE(j.deadline,y)&&Ym(j.deadline,new Date));return M&&$&&G&&re}).sort((j,M)=>E==="soonest"?j.deadline?M.deadline?new Date(j.deadline)-new Date(M.deadline):-1:1:E==="latest"?j.deadline?M.deadline?new Date(M.deadline)-new Date(j.deadline):-1:1:0);return u.jsxs("div",{className:"container min-w-full px-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 w-full",children:[u.jsxs("div",{className:"flex flex-row justify-center items-center gap-3",children:[u.jsx(bg,{className:"w-full h-full"}),u.jsx("h1",{className:"text-3xl font-bold ",children:"Tasks"})]}),u.jsxs(Xi,{open:a,onOpenChange:l,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{onClick:()=>{f(null),_.reset()},children:[u.jsx(ml,{className:"mr-2 h-4 w-4"})," Create Task"]})}),u.jsxs(Fo,{className:"sm:max-w-[425px] overflow-scroll w-[600px] max-h-[80%]",children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:c?"Edit Task":"Create Task"}),u.jsx($o,{children:c?"Edit your todo item below.":"Add a new todo item below."})]}),u.jsx(QM,{..._,children:u.jsxs("form",{onSubmit:_.handleSubmit(D),className:"space-y-8",children:[u.jsx(Vr,{control:_.control,name:"title",render:({field:j})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Task"}),u.jsx(xr,{children:u.jsx(Lt,{...j})}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:_.control,name:"description",render:({field:j})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Description"}),u.jsx(xr,{children:u.jsx(vv,{...j})}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:_.control,name:"dob",render:({field:j})=>u.jsxs(wr,{className:"flex flex-col",children:[u.jsx(_r,{children:"Deadline (Optional)"}),u.jsxs(Yd,{children:[u.jsx(Qd,{asChild:!0,children:u.jsx(xr,{children:u.jsxs(Pe,{variant:"outline",className:de("w-[240px] pl-3 text-left font-normal",!j.value&&"text-muted-foreground"),children:[j.value?_s(j.value,"PPP"):u.jsx("span",{children:"No deadline"}),u.jsx(vd,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(jc,{className:"w-auto p-0",align:"start",children:u.jsx(Xm,{mode:"single",selected:j.value,onSelect:j.onChange,disabled:M=>M<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:_.control,name:"category",render:({field:j})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Category"}),u.jsx(xr,{children:u.jsxs(Us,{onValueChange:j.onChange,defaultValue:c==null?void 0:c.category,children:[u.jsx(ps,{children:u.jsx($s,{placeholder:"Select a category"})}),u.jsxs(ms,{children:[o.map(M=>u.jsx(on,{value:M.id,children:M.name},M.id)),u.jsx(on,{value:"new",children:"Add new category"})]})]})}),u.jsx(Er,{})]})}),_.watch("category")==="new"&&u.jsx(Vr,{control:_.control,name:"newCategory",render:({field:j})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"New Category Name"}),u.jsx(xr,{children:u.jsx(Lt,{...j,value:S,onChange:M=>C(M.target.value)})}),u.jsx(Er,{})]})}),u.jsx(Vr,{control:_.control,name:"collaborators",render:({field:j})=>u.jsxs(wr,{children:[u.jsx(_r,{children:"Collaborators (User Emails)"}),u.jsx(xr,{children:u.jsx(Lt,{...j,value:(j.value||[]).join(","),onChange:M=>j.onChange(M.target.value.split(",").map($=>$.trim())),placeholder:"Enter comma-separated emails of collaborators"})}),u.jsx(Er,{})]})}),u.jsx(Ji,{children:u.jsx(Pe,{type:"submit",children:c?"Update Task":"Create Task"})})]})})]})]})]}),u.jsxs("div",{className:"mb-6 grid flex-col sm:flex-row gap-4 w-full",children:[u.jsx(vi,{htmlFor:"search",className:"sr-only",children:"Search"}),u.jsxs("div",{className:"relative w-full",children:[u.jsx(Q0,{className:"absolute left-2 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Lt,{id:"search",placeholder:"Search tasks...",className:"pl-8",value:g,onChange:j=>x(j.target.value)})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs(Us,{value:h,onValueChange:m,children:[u.jsx(ps,{className:"",children:u.jsx($s,{placeholder:"Filter tasks"})}),u.jsxs(ms,{children:[u.jsx(on,{value:"notDone",children:"On Going"}),u.jsx(on,{value:"all",children:"All Tasks"}),u.jsx(on,{value:"done",children:"Done"})]})]}),u.jsxs(Us,{value:E,onValueChange:w,children:[u.jsx(ps,{className:"",children:u.jsx($s,{placeholder:"Sort by deadline"})}),u.jsxs(ms,{children:[u.jsx(on,{value:"none",children:"Default"}),u.jsx(on,{value:"soonest",children:"Soonest"}),u.jsx(on,{value:"latest",children:"Latest"})]})]}),u.jsx(vi,{htmlFor:"category",className:"sr-only",children:"Filter by category"}),u.jsxs(Us,{value:O,onValueChange:V,children:[u.jsx(ps,{children:u.jsx($s,{placeholder:"Filter by category"})}),u.jsxs(ms,{children:[u.jsx(on,{value:null,children:"All Categories"}),o.map(j=>u.jsx(on,{value:j.id,children:j.name},j.id))]})]}),u.jsxs(Yd,{children:[u.jsx(Qd,{asChild:!0,children:u.jsxs(Pe,{variant:"outline",className:"w-full",children:[u.jsx(vd,{className:"mr-2 h-4 w-4"}),y?_s(y,"PPP"):"Filter by date"]})}),u.jsx(jc,{className:"w-auto p-0",align:"start",children:u.jsx(Xm,{mode:"single",selected:y,onSelect:b,initialFocus:!0})})]})]})]}),X.length===0&&u.jsx("div",{className:"flex justify-center items-center h-96",children:u.jsx("p",{className:"text-lg text-muted-foreground",children:"No tasks found."})}),u.jsx("div",{className:"grid gap-4 grid-flow-row wrap md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-5",children:X.map(j=>{var M,$;return u.jsxs(Xr,{className:de(j.done&&"opacity-25",!j.done&&j.deadline&&NJ(j.deadline)&&"border-destructive border-2 shadow-[0_0_10px_rgba(220,38,38,0.5)]","flex flex-col justify-between w-full"),children:[u.jsx(nl,{children:u.jsxs(Zc,{className:"grid grid-flow-col justify-between text-left overflow-clip",children:[u.jsx("span",{className:de(j.done&&"line-through","overflow-hidden text-ellipsis w-full pb-1"),children:j.title}),u.jsxs(lc,{variant:"outline",className:"h-fit w-fit",children:[u.jsx(vd,{className:"mr-1 h-3 w-3"}),j.deadline?_s(j.deadline,"MMM d, yyyy"):"No deadline"]})]})}),u.jsxs(Zr,{className:"h-full flex flex-col justify-between items-start text-left",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-auto",children:j.description}),u.jsx(lc,{variant:"outline",className:"h-fit w-fit mt-2 flex flex-row gap-2 items-center",children:((M=r.find(G=>G.id===j.category))==null?void 0:M.name)||"No category"}),u.jsxs("div",{className:"flex flex-wrap w-fit h-fit mt-2",children:[j.createdBy===t.uid&&u.jsx(lc,{variant:"secondary",className:"text-muted-foreground h-[20px] w-fit mr-2 mt-auto text-center",children:"Owner"}),(($=j.collaborators)==null?void 0:$.length)>0&&u.jsx("div",{children:j.collaborators.map((G,re)=>{const me=G===t.email;return u.jsx("div",{className:"mr-2",children:u.jsx(lc,{variant:"secondary",className:"text-muted-foreground h-[20px] w-fit",children:me?"You":G})},re)})}),u.jsxs(eu,{children:[u.jsx(tu,{children:u.jsx("span",{children:j.createdBy!==t.uid&&u.jsx(Pe,{variant:"destructive",size:"icon",children:u.jsx($r,{className:"h-4 w-4"})})})}),u.jsxs(il,{children:[u.jsxs(al,{children:[u.jsx(cl,{children:"Are you absolutely sure?"}),u.jsx(ul,{children:"This action cannot be undone. This will permanently delete this category."})]}),u.jsxs(ll,{children:[u.jsx(fl,{children:"Cancel"}),u.jsxs(dl,{variant:"destructive",onClick:()=>{Y(j.id,t.email)},children:[u.jsx($r,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})]})]}),u.jsxs(rl,{className:"flex justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(SL,{id:`todo-${j.id}`,checked:j.done,onCheckedChange:()=>N(j.id,j.done)}),u.jsx("label",{htmlFor:`todo-${j.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:j.done?"Done!":"Mark as Done!"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Pe,{variant:"outline",size:"icon",onClick:()=>B(j),disabled:j.done||j.createdBy!==t.uid,children:u.jsx(If,{className:"h-4 w-4"})}),u.jsxs(eu,{children:[u.jsx(tu,{asChild:!0,children:u.jsx("span",{children:u.jsx(Pe,{variant:"destructive",size:"icon",disabled:j.createdBy!==t.uid,children:u.jsx($r,{className:"h-4 w-4"})})})}),u.jsxs(il,{children:[u.jsxs(al,{children:[u.jsx(cl,{children:"Are you absolutely sure?"}),u.jsx(ul,{children:"This action cannot be undone. This will permanently delete this category."})]}),u.jsxs(ll,{children:[u.jsx(fl,{children:"Cancel"}),u.jsxs(dl,{variant:"destructive",onClick:()=>k(j.id,j.category),children:[u.jsx($r,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})]})]})]},j.id)})})]})}const Kne=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(J2,{ref:r,className:de("relative overflow-hidden",t),...n,children:[u.jsx(xne,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(CL,{}),u.jsx(Ene,{})]}));Kne.displayName=J2.displayName;const CL=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(mb,{ref:r,orientation:e,className:de("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(G2,{className:"relative flex-1 rounded-full bg-border"})}));CL.displayName=mb.displayName;function Gne(){const{currentUser:t}=Tl(),[e,n]=p.useState([]),[r,s]=p.useState(""),[o,i]=p.useState(!1),[a,l]=p.useState(!0),[c,f]=p.useState(""),[h,m]=p.useState(null),g=Br(vt,"category"),{toast:x}=ia();p.useEffect(()=>{y()},[]);const y=async()=>{try{const O=(await Qa(g)).docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.createdBy===(t==null?void 0:t.uid));n(O)}catch(C){console.error("Error getting documents: ",C),x({title:"Error",description:"Failed to fetch categories",variant:"destructive"})}finally{l(!1)}},b=async()=>{if(r.trim())try{await Kc(g,{name:r,createdBy:t.uid,tasks:[]}),y(),i(!1),s(""),x({title:"Success",description:"Category created successfully"})}catch(C){console.error("Error creating category: ",C),x({title:"Error",description:"Failed to create category",variant:"destructive"})}},E=async C=>{try{await kE(hn(vt,"category",C)),y(),x({title:"Success",description:"Category deleted successfully"})}catch(O){console.error("Error deleting category: ",O),x({title:"Error",description:"Failed to delete category",variant:"destructive"})}},w=async(C,O)=>{try{await Kn(hn(vt,"category",C),{name:O}),y(),m(null),x({title:"Success",description:"Category updated successfully"})}catch(V){console.error("Error updating category: ",V),x({title:"Error",description:"Failed to update category",variant:"destructive"})}},S=e.filter(C=>C.name.toLowerCase().includes(c.toLowerCase()));return a?u.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):u.jsxs("div",{className:"container min-w-full px-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 w-full",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(OP,{className:"w-full h-full"}),u.jsx("h1",{className:"text-3xl font-bold",children:"Categories"})]}),u.jsxs(Xi,{open:o,onOpenChange:i,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{children:[u.jsx(ml,{className:"mr-2 h-4 w-4"})," Create Category"]})}),u.jsxs(Fo,{children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:"Create Category"}),u.jsx($o,{children:"Create a category to organize your Space. (Try to keep the category title simple and short)."})]}),u.jsx(Lt,{type:"text",value:r,onChange:C=>s(C.target.value),placeholder:"Category title"}),u.jsx(Ji,{children:u.jsx(Pe,{type:"submit",onClick:b,children:"Create Category"})})]})]})]}),u.jsxs(fb,{defaultValue:"list",className:"w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 ",children:[u.jsxs("div",{className:"relative w-full",children:[u.jsx(Q0,{className:"absolute left-2 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Lt,{type:"text",placeholder:"Search categories...",value:c,onChange:C=>f(C.target.value),className:"pl-8 h-full"})]}),u.jsxs(Sv,{children:[u.jsx(sl,{className:"h-fit w-fit",value:"grid",children:u.jsx(Eg,{})}),u.jsx(sl,{value:"list",children:u.jsx(jP,{className:"h-5 w-5 "})})]})]}),u.jsx(ol,{value:"grid",className:"mt-0",children:u.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4",children:S.map(C=>u.jsx(Yne,{category:C,editingCategory:h,setEditingCategory:m,updateCategory:w,deleteCategory:E},C.id))})}),u.jsx(ol,{value:"list",className:"mt-0",children:u.jsx("div",{className:"space-y-4",children:S.map(C=>u.jsx(Qne,{category:C,editingCategory:h,setEditingCategory:m,updateCategory:w,deleteCategory:E},C.id))})})]}),S.length===0&&u.jsx(Xr,{className:"mt-8",children:u.jsxs(Zr,{className:"flex flex-col items-center justify-center py-12",children:[u.jsx(G0,{className:"h-12 w-12 text-muted-foreground mb-4"}),u.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No Categories Found"}),u.jsx("p",{className:"text-muted-foreground text-center",children:c?"No categories match your search. Try a different term.":"Create a new category to get started."})]})})]})}function Yne({category:t,editingCategory:e,setEditingCategory:n,updateCategory:r,deleteCategory:s}){var o;return u.jsxs(Xr,{className:"flex flex-col",children:[u.jsx(nl,{children:u.jsxs(Zc,{className:"flex items-center",children:[u.jsx(G0,{className:"mr-2 h-5 w-5 text-primary"}),e===t.id?u.jsx(Lt,{type:"text",value:t.name,onChange:i=>r(t.id,i.target.value),className:"ml-2"}):u.jsx("span",{className:"truncate text-left w-full pb-1",children:t.name})]})}),u.jsx(Zr,{className:"flex-grow ",children:u.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary text-primary-foreground",children:[u.jsx(bg,{className:"w-4 h-4 mr-1"}),"Tasks:",u.jsxs("strong",{className:"ml-1",children:[" ",((o=t.tasks)==null?void 0:o.length)||0]})]})}),u.jsxs(rl,{className:"flex space-x-2 justify-end",children:[e===t.id?u.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>r(t.id,t.name),children:[u.jsx(MP,{className:"mr-2 h-4 w-4"})," Save"]}):u.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>n(t.id),children:u.jsx(If,{className:"h-4 w-4"})}),u.jsxs(eu,{children:[u.jsx(tu,{asChild:!0,children:u.jsx(Pe,{variant:"destructive",size:"sm",children:u.jsx($r,{className:"h-4 w-4"})})}),u.jsxs(il,{children:[u.jsxs(al,{children:[u.jsx(cl,{children:"Are you absolutely sure?"}),u.jsx(ul,{children:"This action cannot be undone. This will permanently delete this category."})]}),u.jsxs(ll,{children:[u.jsx(fl,{children:"Cancel"}),u.jsxs(dl,{variant:"destructive",onClick:()=>s(t.id),children:[u.jsx($r,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})]})]})}function Qne({category:t,editingCategory:e,setEditingCategory:n,updateCategory:r,deleteCategory:s}){var o;return u.jsx(Xr,{children:u.jsxs(Zr,{className:"grid grid-cols-3 items-center justify-between py-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(G0,{className:"mr-2 h-5 w-5 text-primary"}),e===t.id?u.jsx(Lt,{type:"text",value:t.name,onChange:i=>r(t.id,i.target.value),className:"ml-2"}):u.jsx("span",{className:"font-medium",children:t.name})]}),u.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary text-primary-foreground w-fit",children:[u.jsx(bg,{className:"w-4 h-4 mr-1"}),"Tasks:",u.jsxs("strong",{className:"ml-1",children:[" ",((o=t.tasks)==null?void 0:o.length)||0]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[e===t.id?u.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>r(t.id,t.name),children:[u.jsx(MP,{className:"mr-2 h-4 w-4"})," Save"]}):u.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>n(t.id),children:u.jsx(If,{className:"h-4 w-4"})}),u.jsxs(eu,{children:[u.jsx(tu,{asChild:!0,children:u.jsx(Pe,{variant:"destructive",size:"sm",children:u.jsx($r,{className:"h-4 w-4"})})}),u.jsxs(il,{children:[u.jsxs(al,{children:[u.jsx(cl,{children:"Are you absolutely sure?"}),u.jsx(ul,{children:"This action cannot be undone. This will permanently delete this category."})]}),u.jsxs(ll,{children:[u.jsx(fl,{children:"Cancel"}),u.jsxs(dl,{variant:"destructive",onClick:()=>s(t.id),children:[u.jsx($r,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})]})]})})}function Xne(){const{currentUser:t}=Tl(),[e,n]=p.useState(null),[r,s]=p.useState([]),[o,i]=p.useState([]),[a,l]=p.useState(null),[c,f]=p.useState(!0),[h,m]=p.useState(!1),[g,x]=p.useState(""),[y,b]=p.useState("all"),[E,w]=p.useState(!1),{toast:S}=ia();p.useEffect(()=>{(async()=>{t&&(await C(),await new Promise(Y=>setTimeout(Y,2e3)))})()},[t]),p.useEffect(()=>{console.log(o),O(),f(!0),setTimeout(()=>{f(!1)},1500)},[o]);const C=async()=>{try{const B=Br(vt,"category"),X=(await Qa(B)).docs.map(j=>({id:j.id,...j.data()})).filter(j=>j.createdBy===(t==null?void 0:t.uid));i(X)}catch(B){console.error("Error fetching categories: ",B),S({title:"Error",description:"Failed to fetch categories",variant:"destructive"})}},O=async()=>{try{const B=t.displayName,Y=Wl(Hl,`${B}'s Files/`),X=await vQ(Y),j=await Promise.all(X.items.map(async M=>{const $=await Ap(M),G=await R($),re=await gQ(M);return{name:M.name,url:$,category:G,size:V(re.size)}}));s(j)}catch(B){console.error("Error fetching files: ",B),S({title:"Error",description:"Failed to fetch files",variant:"destructive"})}},V=B=>{if(B===0)return"0 Bytes";const Y=1024,X=["Bytes","KB","MB","GB","TB"],j=Math.floor(Math.log(B)/Math.log(Y));return parseFloat((B/Math.pow(Y,j)).toFixed(2))+" "+X[j]},R=async B=>{for(const Y of o)if(Y.files&&Y.files.includes(B))return Y.id;return null},_=async()=>{if(!e||!a){S({title:"Error",description:"Please select a file and a category",variant:"destructive"});return}m(!0);try{const B=t.displayName,Y=Wl(Hl,`${B}'s Files/${e.name}`);await A_(Y,e);const X=await Ap(Y),j=hn(vt,"category",a);await Kn(j,{files:Pp(X)}),await O(),n(null),l(""),w(!1),S({title:"Success",description:"File uploaded successfully"})}catch(B){console.error("Error uploading file: ",B),S({title:"Error",description:"Failed to upload file",variant:"destructive"})}finally{m(!1)}},I=async(B,Y,X)=>{try{const j=t.displayName,M=Wl(Hl,`${j}'s Files/${B}`);if(await T1(M),X){const re=hn(vt,"category",X);await Kn(re,{files:kp(Y)})}const $=Br(vt,"categoryAttachment");(await Qa($)).forEach(re=>{re.data().fileUrl===Y&&kE(re.ref)}),await C(),await O(),S({title:"Success",description:"File deleted successfully"})}catch(j){console.error("Error deleting file: ",j),S({title:"Error",description:"Failed to delete file",variant:"destructive"})}},P=async(B,Y,X)=>{try{if(Y){const M=hn(vt,"category",Y);await Kn(M,{files:kp(B)})}const j=hn(vt,"category",X);await Kn(j,{files:Pp(B)}),await C(),await O(),S({title:"Success",description:"File category updated successfully"})}catch(j){console.error("Error updating file category: ",j),S({title:"Error",description:"Failed to update file category",variant:"destructive"})}},D=async(B,Y,X,j)=>{try{const M=t.displayName,$=Wl(Hl,`${M}'s Files/${B}`),G=Wl(Hl,`${M}'s Files/${Y}`),me=await(await fetch(X)).blob();if(await A_(G,me),j){const Ee=hn(vt,"category",j),Be=await Ap(G);await Kn(Ee,{files:kp(X)}),await Kn(Ee,{files:Pp(Be)})}await T1($),await O(),S({title:"Success",description:"File renamed successfully"})}catch(M){console.error("Error renaming file: ",M),S({title:"Error",description:"Failed to rename file",variant:"destructive"})}},N=B=>{const Y=B.name.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif"].includes(Y)?u.jsx("img",{src:B.url,alt:B.name,className:"w-full h-32 object-cover rounded overflow-hidden"}):["mp4","mkv","webm","mov"].includes(Y)?u.jsxs("video",{controls:!0,className:"w-full h-32 object-cover rounded overflow-hidden",children:[u.jsx("source",{src:B.url,type:`video/${Y}`}),"Your browser does not support the video tag."]}):u.jsxs("div",{className:"flex items-center",children:[u.jsx(s3,{className:"w-16 h-16"}),u.jsx("span",{className:"ml-2 text-sm",children:Y.toUpperCase()})]})},k=r.filter(B=>B.name.toLowerCase().includes(g.toLowerCase())&&(y==="all"||B.category===y));return c?u.jsx(ib,{}):u.jsxs("div",{className:"container min-w-full px-4 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8 w-full",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(cm,{className:"h-8 w-8 text-primary"}),u.jsx("h1",{className:"text-3xl font-bold",children:"Files"})]}),u.jsxs(Xi,{open:E,onOpenChange:w,children:[u.jsx(Zi,{asChild:!0,children:u.jsxs(Pe,{children:[u.jsx(ml,{className:"mr-2 h-4 w-4"})," Upload File"]})}),u.jsxs(Fo,{children:[u.jsxs(Vo,{children:[u.jsx(Uo,{children:"Upload File"}),u.jsx($o,{children:"Choose a file to upload to your SaveSpace and select a category."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx("label",{htmlFor:"file-upload",className:"text-right",children:"File"}),u.jsx(Lt,{id:"file-upload",type:"file",className:"col-span-3",onChange:B=>n(B.target.files[0]),disabled:h})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx("label",{htmlFor:"category",className:"text-right",children:"Category"}),u.jsxs(Us,{onValueChange:l,value:a,disabled:h,children:[u.jsx(ps,{className:"col-span-3",children:u.jsx($s,{placeholder:"Select a category"})}),u.jsx(ms,{children:o.map(B=>u.jsx(on,{value:B.id,children:B.name},B.id))})]})]})]}),u.jsx(Ji,{children:u.jsx(Pe,{type:"submit",onClick:_,disabled:h,children:h?u.jsxs(u.Fragment,{children:[u.jsx(Y0,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):"Upload File"})})]})]})]}),u.jsxs(fb,{defaultValue:"list",className:"w-full",children:[u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-grow",children:[u.jsx(Q0,{className:"absolute left-2 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Lt,{type:"text",placeholder:"Search files...",value:g,onChange:B=>x(B.target.value),className:"pl-8 h-full"}),g&&u.jsx(Pe,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>x(""),children:u.jsx(X0,{className:"h-4 w-4"})})]}),u.jsxs(Us,{onValueChange:b,value:y,children:[u.jsx(ps,{className:"w-[200px]",children:u.jsx($s,{placeholder:"Filter by category"})}),u.jsxs(ms,{children:[u.jsx(on,{value:"all",children:"All Categories"}),o.map(B=>u.jsx(on,{value:B.id,children:B.name},B.id))]})]}),u.jsxs(Sv,{className:"",children:[u.jsx(sl,{value:"grid",children:u.jsx(Eg,{className:"h-4 w-4 "})}),u.jsx(sl,{value:"list",children:u.jsx(jP,{className:"h-4 w-4 "})})]})]}),u.jsx(ol,{value:"grid",children:u.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:k.map((B,Y)=>u.jsx(Zne,{file:B,deleteFile:I,renderFilePreview:N,categories:o,updateFileCategory:P,renameFile:D},Y))})}),u.jsx(ol,{value:"list",children:u.jsx("div",{className:"space-y-4",children:k.map((B,Y)=>u.jsx(Jne,{file:B,deleteFile:I,renderFilePreview:N,categories:o,updateFileCategory:P,renameFile:D},Y))})})]}),k.length===0&&u.jsx(Xr,{className:"mt-8",children:u.jsxs(Zr,{className:"flex flex-col items-center justify-center py-12 overflow-hidden",children:[u.jsx(cm,{className:"h-12  w-12 text-muted-foreground mb-4"}),u.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No Files Found"}),u.jsx("p",{className:"text-muted-foreground text-center",children:g||y!=="all"?"No files match your search or category filter. Try different criteria.":"Upload a new file to get started."})]})})]})}function Zne({file:t,deleteFile:e,renderFilePreview:n,categories:r,updateFileCategory:s,renameFile:o}){const[i,a]=p.useState(!1);p.useState(!1),p.useState(t.name);const l=c=>{var f;return((f=r.find(h=>h.id===c))==null?void 0:f.name)??"Uncategorized"};return u.jsxs(Xr,{className:"grid ",children:[u.jsx(nl,{className:"p-4 overflow-hidden",children:u.jsxs(Zc,{className:"flex items-center text-sm font-medium overflow-hidden whitespace-nowrap text-ellipsis",children:[u.jsx(cm,{className:"mr-2 h-4 w-4 text-primary"}),u.jsx("p",{className:" w-full overflow-hidden text-ellipsis",children:t.name})]})}),u.jsxs(Zr,{className:"flex-grow p-4 m-w-full",children:[u.jsx("div",{className:"flex justify-center items-center h-32 w-full bg-muted rounded-md overflow-hidden",children:n(t)}),u.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[u.jsx(lc,{variant:"secondary",children:l(t.category)}),u.jsx("div",{children:u.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>a(!i),children:u.jsx(Eg,{className:"h-4 w-4"})})})]}),i&&u.jsxs(Us,{defaultValue:t.category,onValueChange:c=>{s(t.url,t.category,c),a(!1)},children:[u.jsx(ps,{className:"w-full mt-2",children:u.jsx($s,{placeholder:"Select a category"})}),u.jsx(ms,{children:r.map(c=>u.jsx(on,{value:c.id,children:c.name},c.id))})]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Size: ",t.size]})]}),u.jsxs(rl,{className:"flex justify-between p-4",children:[u.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:u.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:"View"})}),u.jsxs(eu,{children:[u.jsx(tu,{asChild:!0,children:u.jsx(Pe,{variant:"destructive",size:"sm",children:u.jsx($r,{className:"h-4 w-4"})})}),u.jsxs(il,{children:[u.jsxs(al,{children:[u.jsx(cl,{children:"Are you absolutely sure?"}),u.jsx(ul,{children:"This action cannot be undone. This will permanently delete this file."})]}),u.jsxs(ll,{children:[u.jsx(fl,{children:"Cancel"}),u.jsxs(dl,{variant:"destructive",onClick:()=>e(t.name,t.url,t.category),children:[u.jsx($r,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})]})]})}function Jne({file:t,deleteFile:e,renderFilePreview:n,categories:r,updateFileCategory:s,renameFile:o}){const[i,a]=p.useState(!1),[l,c]=p.useState(!1);p.useState(t.name);const f=h=>{const m=r.find(g=>g.id===h);return m?m.name:"Uncategorized"};return u.jsx(Xr,{children:u.jsxs(Zr,{className:"grid grid-cols-3 items-center justify-between py-4",children:[u.jsx("div",{className:"flex items-center ",children:u.jsx("div",{className:"mr-4 w-32 h-16 flex items-center justify-center bg-muted rounded-md overflow-hidden",children:n(t)})}),u.jsxs("div",{className:"flex  text-sm font-medium overflow-hidden whitespace-nowrap text-ellipsis",children:[u.jsx(cm,{className:"mr-2 h-4 w-4 text-primary"}),u.jsx("p",{className:" w-full overflow-hidden text-ellipsis",children:t.name})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[u.jsx(lc,{variant:"secondary",children:f(t.category)}),u.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>c(!0),children:u.jsx(If,{className:"h-4 w-4"})}),i?u.jsxs(Us,{defaultValue:t.category,onValueChange:h=>{s(t.url,t.category,h),a(!1)},children:[u.jsx(ps,{className:"w-[200px]",children:u.jsx($s,{placeholder:"Select a category"})}),u.jsx(ms,{children:r.map(h=>u.jsx(on,{value:h.id,children:h.name},h.id))})]}):u.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:u.jsx(Eg,{className:"h-4 w-4"})}),u.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:u.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:"View"})}),u.jsxs(eu,{children:[u.jsx(tu,{asChild:!0,children:u.jsx(Pe,{variant:"destructive",size:"sm",children:u.jsx($r,{className:"h-4 w-4"})})}),u.jsxs(il,{children:[u.jsxs(al,{children:[u.jsx(cl,{children:"Are you absolutely sure?"}),u.jsx(ul,{children:"This action cannot be undone. This will permanently delete this file."})]}),u.jsxs(ll,{children:[u.jsx(fl,{children:"Cancel"}),u.jsxs(dl,{variant:"destructive",onClick:()=>e(t.name,t.url,t.category),children:[u.jsx($r,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})]})]})})}const ere=LU([{path:"/",element:u.jsxs(u.Fragment,{children:[u.jsx(Gte,{}),u.jsx(Kte,{})]}),children:[{path:"/auth",element:u.jsx(Ul,{element:u.jsx(lne,{}),isRestricted:!0})},{path:"/",element:u.jsx(Ul,{element:u.jsx(Tne,{}),isRestricted:!1})},{path:"/profile",element:u.jsx(Ul,{element:u.jsx(Cne,{}),isRestricted:!1})},{path:"/todo",element:u.jsx(Ul,{element:u.jsx(qne,{}),isRestricted:!1})},{path:"/category",element:u.jsx(Ul,{element:u.jsx(Gne,{}),isRestricted:!1})},{path:"/files",element:u.jsx(Ul,{element:u.jsx(Xne,{}),isRestricted:!1})},{path:"*",element:u.jsx(Sne,{})}]}]);pP(document.getElementById("root")).render(u.jsx(p.StrictMode,{children:u.jsx(fte,{children:u.jsx(qU,{router:ere})})}));
//# sourceMappingURL=index-B_mo7nwQ.js.map
